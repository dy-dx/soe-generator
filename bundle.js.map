{"version":3,"file":"bundle.js","sources":["../node_modules/robust-sum/robust-sum.js","../src/generator-demo.js","../node_modules/object-keys/isArguments.js","../node_modules/es6-shim/es6-shim.js","../node_modules/object-keys/index.js","../node_modules/foreach/index.js","../node_modules/define-properties/index.js","../node_modules/function.prototype.name/helpers/functionsHaveNames.js","../node_modules/is-callable/index.js","../node_modules/function-bind/implementation.js","../node_modules/function-bind/index.js","../node_modules/function.prototype.name/implementation.js","../node_modules/function.prototype.name/polyfill.js","../node_modules/function.prototype.name/shim.js","../node_modules/has/src/index.js","../node_modules/es-abstract/helpers/isNaN.js","../node_modules/es-abstract/helpers/isFinite.js","../node_modules/es-abstract/helpers/assign.js","../node_modules/es-abstract/helpers/sign.js","../node_modules/es-abstract/helpers/mod.js","../node_modules/es-abstract/helpers/isPrimitive.js","../node_modules/es-to-primitive/helpers/isPrimitive.js","../node_modules/is-date-object/index.js","../node_modules/is-symbol/index.js","../node_modules/es-to-primitive/es6.js","../node_modules/es-to-primitive/es5.js","../node_modules/es-abstract/es5.js","../node_modules/is-regex/index.js","../node_modules/es-abstract/es2015.js","../node_modules/es-abstract/es6.js","../node_modules/array-includes/implementation.js","../node_modules/array-includes/polyfill.js","../node_modules/es-abstract/es2016.js","../node_modules/object.values/implementation.js","../node_modules/object.values/polyfill.js","../node_modules/object.entries/implementation.js","../node_modules/object.entries/polyfill.js","../node_modules/string.prototype.padstart/implementation.js","../node_modules/string.prototype.padstart/polyfill.js","../node_modules/string.prototype.padend/implementation.js","../node_modules/string.prototype.padend/polyfill.js","../node_modules/object.getownpropertydescriptors/implementation.js","../node_modules/object.getownpropertydescriptors/polyfill.js","../node_modules/promise.prototype.finally/requirePromise.js","../node_modules/promise.prototype.finally/implementation.js","../node_modules/promise.prototype.finally/polyfill.js","../node_modules/airbnb-js-shims/target/es2018.js","../node_modules/promise.prototype.finally/shim.js","../node_modules/object.values/shim.js","../node_modules/airbnb-js-shims/target/es2017.js","../node_modules/object.entries/shim.js","../node_modules/string.prototype.padstart/shim.js","../node_modules/string.prototype.padend/shim.js","../node_modules/object.getownpropertydescriptors/shim.js","../node_modules/array-includes/shim.js","../node_modules/airbnb-js-shims/target/es2016.js","../node_modules/airbnb-js-shims/target/es2015.js","../node_modules/ima-babel6-polyfill/index.js","../node_modules/airbnb-browser-shims/document-contains.js","../node_modules/console-polyfill/index.js","../node_modules/whatwg-fetch/fetch.js","../node_modules/classlist-polyfill/src/index.js","../node_modules/element-closest/element-closest.js","../node_modules/smoothscroll-polyfill/dist/smoothscroll.js","../node_modules/matchmedia-polyfill/matchMedia.js","../node_modules/matchmedia-polyfill/matchMedia.addListener.js","../node_modules/raf/index.js","../node_modules/performance-now/lib/performance-now.js","../node_modules/ric-shim/index.js","../node_modules/airbnb-browser-shims/browser-only.js","../node_modules/kontra/kontra.js","../node_modules/two-product/two-product.js","../node_modules/two-sum/two-sum.js","../node_modules/robust-scale/robust-scale.js","../node_modules/robust-compress/compress.js","../node_modules/robust-determinant/robust-determinant.js","../node_modules/robust-linear-solve/linsolve.js","../node_modules/lodash/_baseRange.js","../node_modules/lodash/eq.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/isLength.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/_isIterateeCall.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/toNumber.js","../node_modules/lodash/toFinite.js","../node_modules/lodash/_createRange.js","../node_modules/lodash/range.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/_baseFindIndex.js","../node_modules/lodash/_baseIsNaN.js","../node_modules/lodash/_strictIndexOf.js","../node_modules/lodash/_baseIndexOf.js","../node_modules/lodash/_baseIndexOfWith.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_copyArray.js","../node_modules/lodash/_basePullAll.js","../node_modules/lodash/pullAll.js","../node_modules/lodash/_baseRandom.js","../node_modules/lodash/_arraySample.js","../node_modules/lodash/_baseValues.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/isArray.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/keys.js","../node_modules/lodash/values.js","../node_modules/lodash/_baseSample.js","../node_modules/lodash/sample.js","../src/lib/equation.js","../src/lib/soe.js","../src/app.js","../src/lib/game.js"],"sourcesContent":["\"use strict\"\n\nmodule.exports = linearExpansionSum\n\n//Easy case: Add two scalars\nfunction scalarScalar(a, b) {\n  var x = a + b\n  var bv = x - a\n  var av = x - bv\n  var br = b - bv\n  var ar = a - av\n  var y = ar + br\n  if(y) {\n    return [y, x]\n  }\n  return [x]\n}\n\nfunction linearExpansionSum(e, f) {\n  var ne = e.length|0\n  var nf = f.length|0\n  if(ne === 1 && nf === 1) {\n    return scalarScalar(e[0], f[0])\n  }\n  var n = ne + nf\n  var g = new Array(n)\n  var count = 0\n  var eptr = 0\n  var fptr = 0\n  var abs = Math.abs\n  var ei = e[eptr]\n  var ea = abs(ei)\n  var fi = f[fptr]\n  var fa = abs(fi)\n  var a, b\n  if(ea < fa) {\n    b = ei\n    eptr += 1\n    if(eptr < ne) {\n      ei = e[eptr]\n      ea = abs(ei)\n    }\n  } else {\n    b = fi\n    fptr += 1\n    if(fptr < nf) {\n      fi = f[fptr]\n      fa = abs(fi)\n    }\n  }\n  if((eptr < ne && ea < fa) || (fptr >= nf)) {\n    a = ei\n    eptr += 1\n    if(eptr < ne) {\n      ei = e[eptr]\n      ea = abs(ei)\n    }\n  } else {\n    a = fi\n    fptr += 1\n    if(fptr < nf) {\n      fi = f[fptr]\n      fa = abs(fi)\n    }\n  }\n  var x = a + b\n  var bv = x - a\n  var y = b - bv\n  var q0 = y\n  var q1 = x\n  var _x, _bv, _av, _br, _ar\n  while(eptr < ne && fptr < nf) {\n    if(ea < fa) {\n      a = ei\n      eptr += 1\n      if(eptr < ne) {\n        ei = e[eptr]\n        ea = abs(ei)\n      }\n    } else {\n      a = fi\n      fptr += 1\n      if(fptr < nf) {\n        fi = f[fptr]\n        fa = abs(fi)\n      }\n    }\n    b = q0\n    x = a + b\n    bv = x - a\n    y = b - bv\n    if(y) {\n      g[count++] = y\n    }\n    _x = q1 + x\n    _bv = _x - q1\n    _av = _x - _bv\n    _br = x - _bv\n    _ar = q1 - _av\n    q0 = _ar + _br\n    q1 = _x\n  }\n  while(eptr < ne) {\n    a = ei\n    b = q0\n    x = a + b\n    bv = x - a\n    y = b - bv\n    if(y) {\n      g[count++] = y\n    }\n    _x = q1 + x\n    _bv = _x - q1\n    _av = _x - _bv\n    _br = x - _bv\n    _ar = q1 - _av\n    q0 = _ar + _br\n    q1 = _x\n    eptr += 1\n    if(eptr < ne) {\n      ei = e[eptr]\n    }\n  }\n  while(fptr < nf) {\n    a = fi\n    b = q0\n    x = a + b\n    bv = x - a\n    y = b - bv\n    if(y) {\n      g[count++] = y\n    } \n    _x = q1 + x\n    _bv = _x - q1\n    _av = _x - _bv\n    _br = x - _bv\n    _ar = q1 - _av\n    q0 = _ar + _br\n    q1 = _x\n    fptr += 1\n    if(fptr < nf) {\n      fi = f[fptr]\n    }\n  }\n  if(q0) {\n    g[count++] = q0\n  }\n  if(q1) {\n    g[count++] = q1\n  }\n  if(!count) {\n    g[count++] = 0.0  \n  }\n  g.length = count\n  return g\n}","import Soe from './lib/soe';\n\nfunction createElement(tagName = 'div', className = '') {\n  const elem = document.createElement(tagName);\n  elem.className = className;\n  return elem;\n}\n\nclass GeneratorDemo {\n  constructor() {\n    const containerElem = createElement('div', 'generator-demo');\n    const buttonContainerElem = createElement('div', 'generator-demo-buttons');\n    const listContainerElem = createElement('div', 'generator-demo-equations-container');\n    const listElem = createElement('pre', 'generator-demo-equations');\n\n    containerElem.appendChild(buttonContainerElem);\n    buttonContainerElem.appendChild(this.createButton('elimination'));\n    buttonContainerElem.appendChild(this.createButton('substitution'));\n    buttonContainerElem.appendChild(this.createButton('random'));\n\n    containerElem.appendChild(listContainerElem);\n    listContainerElem.appendChild(listElem);\n\n    this.containerElem = containerElem;\n    this.listElem = listElem;\n  }\n\n  generate(type) {\n    const pair = Soe.generateType(type);\n    const { x, y } = Soe.solve(pair);\n    this.listElem.innerText += `${pair[0].format()}\\n${pair[1].format()}\\n`;\n    this.listElem.innerText += `x = ${x}\\ny = ${y}\\n\\n`;\n  }\n\n  createButton(type) {\n    const button = createElement('input');\n    button.type = 'button';\n    button.className = `generate-equation-button generate-equation-button-${type}`;\n    button.value = type;\n    button.onclick = () => { this.generate(type); };\n    return button;\n  }\n\n  containerElem() {\n    return this.containerElem;\n  }\n}\n\nexport default GeneratorDemo;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n"," /*!\n  * https://github.com/paulmillr/es6-shim\n  * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)\n  *   and contributors,  MIT License\n  * es6-shim: v0.35.1\n  * see https://github.com/paulmillr/es6-shim/blob/0.35.1/LICENSE\n  * Details and documentation:\n  * https://github.com/paulmillr/es6-shim/\n  */\n\n// UMD (Universal Module Definition)\n// see https://github.com/umdjs/umd/blob/master/returnExports.js\n(function (root, factory) {\n  /*global define, module, exports */\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    // Browser globals (root is window)\n    root.returnExports = factory();\n  }\n}(this, function () {\n  'use strict';\n\n  var _apply = Function.call.bind(Function.apply);\n  var _call = Function.call.bind(Function.call);\n  var isArray = Array.isArray;\n  var keys = Object.keys;\n\n  var not = function notThunker(func) {\n    return function notThunk() {\n      return !_apply(func, this, arguments);\n    };\n  };\n  var throwsError = function (func) {\n    try {\n      func();\n      return false;\n    } catch (e) {\n      return true;\n    }\n  };\n  var valueOrFalseIfThrows = function valueOrFalseIfThrows(func) {\n    try {\n      return func();\n    } catch (e) {\n      return false;\n    }\n  };\n\n  var isCallableWithoutNew = not(throwsError);\n  var arePropertyDescriptorsSupported = function () {\n    // if Object.defineProperty exists but throws, it's IE 8\n    return !throwsError(function () {\n      Object.defineProperty({}, 'x', { get: function () {} });\n    });\n  };\n  var supportsDescriptors = !!Object.defineProperty && arePropertyDescriptorsSupported();\n  var functionsHaveNames = (function foo() {}).name === 'foo'; // eslint-disable-line no-extra-parens\n\n  var _forEach = Function.call.bind(Array.prototype.forEach);\n  var _reduce = Function.call.bind(Array.prototype.reduce);\n  var _filter = Function.call.bind(Array.prototype.filter);\n  var _some = Function.call.bind(Array.prototype.some);\n\n  var defineProperty = function (object, name, value, force) {\n    if (!force && name in object) { return; }\n    if (supportsDescriptors) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: false,\n        writable: true,\n        value: value\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n\n  // Define configurable, writable and non-enumerable props\n  // if they donâ€™t exist.\n  var defineProperties = function (object, map, forceOverride) {\n    _forEach(keys(map), function (name) {\n      var method = map[name];\n      defineProperty(object, name, method, !!forceOverride);\n    });\n  };\n\n  var _toString = Function.call.bind(Object.prototype.toString);\n  var isCallable = typeof /abc/ === 'function' ? function IsCallableSlow(x) {\n    // Some old browsers (IE, FF) say that typeof /abc/ === 'function'\n    return typeof x === 'function' && _toString(x) === '[object Function]';\n  } : function IsCallableFast(x) { return typeof x === 'function'; };\n\n  var Value = {\n    getter: function (object, name, getter) {\n      if (!supportsDescriptors) {\n        throw new TypeError('getters require true ES5 support');\n      }\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: false,\n        get: getter\n      });\n    },\n    proxy: function (originalObject, key, targetObject) {\n      if (!supportsDescriptors) {\n        throw new TypeError('getters require true ES5 support');\n      }\n      var originalDescriptor = Object.getOwnPropertyDescriptor(originalObject, key);\n      Object.defineProperty(targetObject, key, {\n        configurable: originalDescriptor.configurable,\n        enumerable: originalDescriptor.enumerable,\n        get: function getKey() { return originalObject[key]; },\n        set: function setKey(value) { originalObject[key] = value; }\n      });\n    },\n    redefine: function (object, property, newValue) {\n      if (supportsDescriptors) {\n        var descriptor = Object.getOwnPropertyDescriptor(object, property);\n        descriptor.value = newValue;\n        Object.defineProperty(object, property, descriptor);\n      } else {\n        object[property] = newValue;\n      }\n    },\n    defineByDescriptor: function (object, property, descriptor) {\n      if (supportsDescriptors) {\n        Object.defineProperty(object, property, descriptor);\n      } else if ('value' in descriptor) {\n        object[property] = descriptor.value;\n      }\n    },\n    preserveToString: function (target, source) {\n      if (source && isCallable(source.toString)) {\n        defineProperty(target, 'toString', source.toString.bind(source), true);\n      }\n    }\n  };\n\n  // Simple shim for Object.create on ES3 browsers\n  // (unlike real shim, no attempt to support `prototype === null`)\n  var create = Object.create || function (prototype, properties) {\n    var Prototype = function Prototype() {};\n    Prototype.prototype = prototype;\n    var object = new Prototype();\n    if (typeof properties !== 'undefined') {\n      keys(properties).forEach(function (key) {\n        Value.defineByDescriptor(object, key, properties[key]);\n      });\n    }\n    return object;\n  };\n\n  var supportsSubclassing = function (C, f) {\n    if (!Object.setPrototypeOf) { return false; /* skip test on IE < 11 */ }\n    return valueOrFalseIfThrows(function () {\n      var Sub = function Subclass(arg) {\n        var o = new C(arg);\n        Object.setPrototypeOf(o, Subclass.prototype);\n        return o;\n      };\n      Object.setPrototypeOf(Sub, C);\n      Sub.prototype = create(C.prototype, {\n        constructor: { value: Sub }\n      });\n      return f(Sub);\n    });\n  };\n\n  var getGlobal = function () {\n    /* global self, window, global */\n    // the only reliable means to get the global object is\n    // `Function('return this')()`\n    // However, this causes CSP violations in Chrome apps.\n    if (typeof self !== 'undefined') { return self; }\n    if (typeof window !== 'undefined') { return window; }\n    if (typeof global !== 'undefined') { return global; }\n    throw new Error('unable to locate global object');\n  };\n\n  var globals = getGlobal();\n  var globalIsFinite = globals.isFinite;\n  var _indexOf = Function.call.bind(String.prototype.indexOf);\n  var _arrayIndexOfApply = Function.apply.bind(Array.prototype.indexOf);\n  var _concat = Function.call.bind(Array.prototype.concat);\n  // var _sort = Function.call.bind(Array.prototype.sort);\n  var _strSlice = Function.call.bind(String.prototype.slice);\n  var _push = Function.call.bind(Array.prototype.push);\n  var _pushApply = Function.apply.bind(Array.prototype.push);\n  var _shift = Function.call.bind(Array.prototype.shift);\n  var _max = Math.max;\n  var _min = Math.min;\n  var _floor = Math.floor;\n  var _abs = Math.abs;\n  var _exp = Math.exp;\n  var _log = Math.log;\n  var _sqrt = Math.sqrt;\n  var _hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n  var ArrayIterator; // make our implementation private\n  var noop = function () {};\n\n  var OrigMap = globals.Map;\n  var origMapDelete = OrigMap && OrigMap.prototype['delete'];\n  var origMapGet = OrigMap && OrigMap.prototype.get;\n  var origMapHas = OrigMap && OrigMap.prototype.has;\n  var origMapSet = OrigMap && OrigMap.prototype.set;\n\n  var Symbol = globals.Symbol || {};\n  var symbolSpecies = Symbol.species || '@@species';\n\n  var numberIsNaN = Number.isNaN || function isNaN(value) {\n    // NaN !== NaN, but they are identical.\n    // NaNs are the only non-reflexive value, i.e., if x !== x,\n    // then x is NaN.\n    // isNaN is broken: it converts its argument to number, so\n    // isNaN('foo') => true\n    return value !== value;\n  };\n  var numberIsFinite = Number.isFinite || function isFinite(value) {\n    return typeof value === 'number' && globalIsFinite(value);\n  };\n  var _sign = isCallable(Math.sign) ? Math.sign : function sign(value) {\n    var number = Number(value);\n    if (number === 0) { return number; }\n    if (numberIsNaN(number)) { return number; }\n    return number < 0 ? -1 : 1;\n  };\n\n  // taken directly from https://github.com/ljharb/is-arguments/blob/master/index.js\n  // can be replaced with require('is-arguments') if we ever use a build process instead\n  var isStandardArguments = function isArguments(value) {\n    return _toString(value) === '[object Arguments]';\n  };\n  var isLegacyArguments = function isArguments(value) {\n    return value !== null &&\n      typeof value === 'object' &&\n      typeof value.length === 'number' &&\n      value.length >= 0 &&\n      _toString(value) !== '[object Array]' &&\n      _toString(value.callee) === '[object Function]';\n  };\n  var isArguments = isStandardArguments(arguments) ? isStandardArguments : isLegacyArguments;\n\n  var Type = {\n    primitive: function (x) { return x === null || (typeof x !== 'function' && typeof x !== 'object'); },\n    string: function (x) { return _toString(x) === '[object String]'; },\n    regex: function (x) { return _toString(x) === '[object RegExp]'; },\n    symbol: function (x) {\n      return typeof globals.Symbol === 'function' && typeof x === 'symbol';\n    }\n  };\n\n  var overrideNative = function overrideNative(object, property, replacement) {\n    var original = object[property];\n    defineProperty(object, property, replacement, true);\n    Value.preserveToString(object[property], original);\n  };\n\n  // eslint-disable-next-line no-restricted-properties\n  var hasSymbols = typeof Symbol === 'function' && typeof Symbol['for'] === 'function' && Type.symbol(Symbol());\n\n  // This is a private name in the es6 spec, equal to '[Symbol.iterator]'\n  // we're going to use an arbitrary _-prefixed name to make our shims\n  // work properly with each other, even though we don't have full Iterator\n  // support.  That is, `Array.from(map.keys())` will work, but we don't\n  // pretend to export a \"real\" Iterator interface.\n  var $iterator$ = Type.symbol(Symbol.iterator) ? Symbol.iterator : '_es6-shim iterator_';\n  // Firefox ships a partial implementation using the name @@iterator.\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=907077#c14\n  // So use that name if we detect it.\n  if (globals.Set && typeof new globals.Set()['@@iterator'] === 'function') {\n    $iterator$ = '@@iterator';\n  }\n\n  // Reflect\n  if (!globals.Reflect) {\n    defineProperty(globals, 'Reflect', {}, true);\n  }\n  var Reflect = globals.Reflect;\n\n  var $String = String;\n\n  /* global document */\n  var domAll = (typeof document === 'undefined' || !document) ? null : document.all;\n  /* jshint eqnull:true */\n  var isNullOrUndefined = domAll == null ? function isNullOrUndefined(x) {\n    /* jshint eqnull:true */\n    return x == null;\n  } : function isNullOrUndefinedAndNotDocumentAll(x) {\n    /* jshint eqnull:true */\n    return x == null && x !== domAll;\n  };\n\n  var ES = {\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-call\n    Call: function Call(F, V) {\n      var args = arguments.length > 2 ? arguments[2] : [];\n      if (!ES.IsCallable(F)) {\n        throw new TypeError(F + ' is not a function');\n      }\n      return _apply(F, V, args);\n    },\n\n    RequireObjectCoercible: function (x, optMessage) {\n      if (isNullOrUndefined(x)) {\n        throw new TypeError(optMessage || 'Cannot call method on ' + x);\n      }\n      return x;\n    },\n\n    // This might miss the \"(non-standard exotic and does not implement\n    // [[Call]])\" case from\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-typeof-operator-runtime-semantics-evaluation\n    // but we can't find any evidence these objects exist in practice.\n    // If we find some in the future, you could test `Object(x) === x`,\n    // which is reliable according to\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toobject\n    // but is not well optimized by runtimes and creates an object\n    // whenever it returns false, and thus is very slow.\n    TypeIsObject: function (x) {\n      if (x === void 0 || x === null || x === true || x === false) {\n        return false;\n      }\n      return typeof x === 'function' || typeof x === 'object' || x === domAll;\n    },\n\n    ToObject: function (o, optMessage) {\n      return Object(ES.RequireObjectCoercible(o, optMessage));\n    },\n\n    IsCallable: isCallable,\n\n    IsConstructor: function (x) {\n      // We can't tell callables from constructors in ES5\n      return ES.IsCallable(x);\n    },\n\n    ToInt32: function (x) {\n      return ES.ToNumber(x) >> 0;\n    },\n\n    ToUint32: function (x) {\n      return ES.ToNumber(x) >>> 0;\n    },\n\n    ToNumber: function (value) {\n      if (_toString(value) === '[object Symbol]') {\n        throw new TypeError('Cannot convert a Symbol value to a number');\n      }\n      return +value;\n    },\n\n    ToInteger: function (value) {\n      var number = ES.ToNumber(value);\n      if (numberIsNaN(number)) { return 0; }\n      if (number === 0 || !numberIsFinite(number)) { return number; }\n      return (number > 0 ? 1 : -1) * _floor(_abs(number));\n    },\n\n    ToLength: function (value) {\n      var len = ES.ToInteger(value);\n      if (len <= 0) { return 0; } // includes converting -0 to +0\n      if (len > Number.MAX_SAFE_INTEGER) { return Number.MAX_SAFE_INTEGER; }\n      return len;\n    },\n\n    SameValue: function (a, b) {\n      if (a === b) {\n        // 0 === -0, but they are not identical.\n        if (a === 0) { return 1 / a === 1 / b; }\n        return true;\n      }\n      return numberIsNaN(a) && numberIsNaN(b);\n    },\n\n    SameValueZero: function (a, b) {\n      // same as SameValue except for SameValueZero(+0, -0) == true\n      return (a === b) || (numberIsNaN(a) && numberIsNaN(b));\n    },\n\n    IsIterable: function (o) {\n      return ES.TypeIsObject(o) && (typeof o[$iterator$] !== 'undefined' || isArguments(o));\n    },\n\n    GetIterator: function (o) {\n      if (isArguments(o)) {\n        // special case support for `arguments`\n        return new ArrayIterator(o, 'value');\n      }\n      var itFn = ES.GetMethod(o, $iterator$);\n      if (!ES.IsCallable(itFn)) {\n        // Better diagnostics if itFn is null or undefined\n        throw new TypeError('value is not an iterable');\n      }\n      var it = ES.Call(itFn, o);\n      if (!ES.TypeIsObject(it)) {\n        throw new TypeError('bad iterator');\n      }\n      return it;\n    },\n\n    GetMethod: function (o, p) {\n      var func = ES.ToObject(o)[p];\n      if (isNullOrUndefined(func)) {\n        return void 0;\n      }\n      if (!ES.IsCallable(func)) {\n        throw new TypeError('Method not callable: ' + p);\n      }\n      return func;\n    },\n\n    IteratorComplete: function (iterResult) {\n      return !!iterResult.done;\n    },\n\n    IteratorClose: function (iterator, completionIsThrow) {\n      var returnMethod = ES.GetMethod(iterator, 'return');\n      if (returnMethod === void 0) {\n        return;\n      }\n      var innerResult, innerException;\n      try {\n        innerResult = ES.Call(returnMethod, iterator);\n      } catch (e) {\n        innerException = e;\n      }\n      if (completionIsThrow) {\n        return;\n      }\n      if (innerException) {\n        throw innerException;\n      }\n      if (!ES.TypeIsObject(innerResult)) {\n        throw new TypeError(\"Iterator's return method returned a non-object.\");\n      }\n    },\n\n    IteratorNext: function (it) {\n      var result = arguments.length > 1 ? it.next(arguments[1]) : it.next();\n      if (!ES.TypeIsObject(result)) {\n        throw new TypeError('bad iterator');\n      }\n      return result;\n    },\n\n    IteratorStep: function (it) {\n      var result = ES.IteratorNext(it);\n      var done = ES.IteratorComplete(result);\n      return done ? false : result;\n    },\n\n    Construct: function (C, args, newTarget, isES6internal) {\n      var target = typeof newTarget === 'undefined' ? C : newTarget;\n\n      if (!isES6internal && Reflect.construct) {\n        // Try to use Reflect.construct if available\n        return Reflect.construct(C, args, target);\n      }\n      // OK, we have to fake it.  This will only work if the\n      // C.[[ConstructorKind]] == \"base\" -- but that's the only\n      // kind we can make in ES5 code anyway.\n\n      // OrdinaryCreateFromConstructor(target, \"%ObjectPrototype%\")\n      var proto = target.prototype;\n      if (!ES.TypeIsObject(proto)) {\n        proto = Object.prototype;\n      }\n      var obj = create(proto);\n      // Call the constructor.\n      var result = ES.Call(C, obj, args);\n      return ES.TypeIsObject(result) ? result : obj;\n    },\n\n    SpeciesConstructor: function (O, defaultConstructor) {\n      var C = O.constructor;\n      if (C === void 0) {\n        return defaultConstructor;\n      }\n      if (!ES.TypeIsObject(C)) {\n        throw new TypeError('Bad constructor');\n      }\n      var S = C[symbolSpecies];\n      if (isNullOrUndefined(S)) {\n        return defaultConstructor;\n      }\n      if (!ES.IsConstructor(S)) {\n        throw new TypeError('Bad @@species');\n      }\n      return S;\n    },\n\n    CreateHTML: function (string, tag, attribute, value) {\n      var S = ES.ToString(string);\n      var p1 = '<' + tag;\n      if (attribute !== '') {\n        var V = ES.ToString(value);\n        var escapedV = V.replace(/\"/g, '&quot;');\n        p1 += ' ' + attribute + '=\"' + escapedV + '\"';\n      }\n      var p2 = p1 + '>';\n      var p3 = p2 + S;\n      return p3 + '</' + tag + '>';\n    },\n\n    IsRegExp: function IsRegExp(argument) {\n      if (!ES.TypeIsObject(argument)) {\n        return false;\n      }\n      var isRegExp = argument[Symbol.match];\n      if (typeof isRegExp !== 'undefined') {\n        return !!isRegExp;\n      }\n      return Type.regex(argument);\n    },\n\n    ToString: function ToString(string) {\n      return $String(string);\n    }\n  };\n\n  // Well-known Symbol shims\n  if (supportsDescriptors && hasSymbols) {\n    var defineWellKnownSymbol = function defineWellKnownSymbol(name) {\n      if (Type.symbol(Symbol[name])) {\n        return Symbol[name];\n      }\n      // eslint-disable-next-line no-restricted-properties\n      var sym = Symbol['for']('Symbol.' + name);\n      Object.defineProperty(Symbol, name, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: sym\n      });\n      return sym;\n    };\n    if (!Type.symbol(Symbol.search)) {\n      var symbolSearch = defineWellKnownSymbol('search');\n      var originalSearch = String.prototype.search;\n      defineProperty(RegExp.prototype, symbolSearch, function search(string) {\n        return ES.Call(originalSearch, string, [this]);\n      });\n      var searchShim = function search(regexp) {\n        var O = ES.RequireObjectCoercible(this);\n        if (!isNullOrUndefined(regexp)) {\n          var searcher = ES.GetMethod(regexp, symbolSearch);\n          if (typeof searcher !== 'undefined') {\n            return ES.Call(searcher, regexp, [O]);\n          }\n        }\n        return ES.Call(originalSearch, O, [ES.ToString(regexp)]);\n      };\n      overrideNative(String.prototype, 'search', searchShim);\n    }\n    if (!Type.symbol(Symbol.replace)) {\n      var symbolReplace = defineWellKnownSymbol('replace');\n      var originalReplace = String.prototype.replace;\n      defineProperty(RegExp.prototype, symbolReplace, function replace(string, replaceValue) {\n        return ES.Call(originalReplace, string, [this, replaceValue]);\n      });\n      var replaceShim = function replace(searchValue, replaceValue) {\n        var O = ES.RequireObjectCoercible(this);\n        if (!isNullOrUndefined(searchValue)) {\n          var replacer = ES.GetMethod(searchValue, symbolReplace);\n          if (typeof replacer !== 'undefined') {\n            return ES.Call(replacer, searchValue, [O, replaceValue]);\n          }\n        }\n        return ES.Call(originalReplace, O, [ES.ToString(searchValue), replaceValue]);\n      };\n      overrideNative(String.prototype, 'replace', replaceShim);\n    }\n    if (!Type.symbol(Symbol.split)) {\n      var symbolSplit = defineWellKnownSymbol('split');\n      var originalSplit = String.prototype.split;\n      defineProperty(RegExp.prototype, symbolSplit, function split(string, limit) {\n        return ES.Call(originalSplit, string, [this, limit]);\n      });\n      var splitShim = function split(separator, limit) {\n        var O = ES.RequireObjectCoercible(this);\n        if (!isNullOrUndefined(separator)) {\n          var splitter = ES.GetMethod(separator, symbolSplit);\n          if (typeof splitter !== 'undefined') {\n            return ES.Call(splitter, separator, [O, limit]);\n          }\n        }\n        return ES.Call(originalSplit, O, [ES.ToString(separator), limit]);\n      };\n      overrideNative(String.prototype, 'split', splitShim);\n    }\n    var symbolMatchExists = Type.symbol(Symbol.match);\n    var stringMatchIgnoresSymbolMatch = symbolMatchExists && (function () {\n      // Firefox 41, through Nightly 45 has Symbol.match, but String#match ignores it.\n      // Firefox 40 and below have Symbol.match but String#match works fine.\n      var o = {};\n      o[Symbol.match] = function () { return 42; };\n      return 'a'.match(o) !== 42;\n    }());\n    if (!symbolMatchExists || stringMatchIgnoresSymbolMatch) {\n      var symbolMatch = defineWellKnownSymbol('match');\n\n      var originalMatch = String.prototype.match;\n      defineProperty(RegExp.prototype, symbolMatch, function match(string) {\n        return ES.Call(originalMatch, string, [this]);\n      });\n\n      var matchShim = function match(regexp) {\n        var O = ES.RequireObjectCoercible(this);\n        if (!isNullOrUndefined(regexp)) {\n          var matcher = ES.GetMethod(regexp, symbolMatch);\n          if (typeof matcher !== 'undefined') {\n            return ES.Call(matcher, regexp, [O]);\n          }\n        }\n        return ES.Call(originalMatch, O, [ES.ToString(regexp)]);\n      };\n      overrideNative(String.prototype, 'match', matchShim);\n    }\n  }\n\n  var wrapConstructor = function wrapConstructor(original, replacement, keysToSkip) {\n    Value.preserveToString(replacement, original);\n    if (Object.setPrototypeOf) {\n      // sets up proper prototype chain where possible\n      Object.setPrototypeOf(original, replacement);\n    }\n    if (supportsDescriptors) {\n      _forEach(Object.getOwnPropertyNames(original), function (key) {\n        if (key in noop || keysToSkip[key]) { return; }\n        Value.proxy(original, key, replacement);\n      });\n    } else {\n      _forEach(Object.keys(original), function (key) {\n        if (key in noop || keysToSkip[key]) { return; }\n        replacement[key] = original[key];\n      });\n    }\n    replacement.prototype = original.prototype;\n    Value.redefine(original.prototype, 'constructor', replacement);\n  };\n\n  var defaultSpeciesGetter = function () { return this; };\n  var addDefaultSpecies = function (C) {\n    if (supportsDescriptors && !_hasOwnProperty(C, symbolSpecies)) {\n      Value.getter(C, symbolSpecies, defaultSpeciesGetter);\n    }\n  };\n\n  var addIterator = function (prototype, impl) {\n    var implementation = impl || function iterator() { return this; };\n    defineProperty(prototype, $iterator$, implementation);\n    if (!prototype[$iterator$] && Type.symbol($iterator$)) {\n      // implementations are buggy when $iterator$ is a Symbol\n      prototype[$iterator$] = implementation;\n    }\n  };\n\n  var createDataProperty = function createDataProperty(object, name, value) {\n    if (supportsDescriptors) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        enumerable: true,\n        writable: true,\n        value: value\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n  var createDataPropertyOrThrow = function createDataPropertyOrThrow(object, name, value) {\n    createDataProperty(object, name, value);\n    if (!ES.SameValue(object[name], value)) {\n      throw new TypeError('property is nonconfigurable');\n    }\n  };\n\n  var emulateES6construct = function (o, defaultNewTarget, defaultProto, slots) {\n    // This is an es5 approximation to es6 construct semantics.  in es6,\n    // 'new Foo' invokes Foo.[[Construct]] which (for almost all objects)\n    // just sets the internal variable NewTarget (in es6 syntax `new.target`)\n    // to Foo and then returns Foo().\n\n    // Many ES6 object then have constructors of the form:\n    // 1. If NewTarget is undefined, throw a TypeError exception\n    // 2. Let xxx by OrdinaryCreateFromConstructor(NewTarget, yyy, zzz)\n\n    // So we're going to emulate those first two steps.\n    if (!ES.TypeIsObject(o)) {\n      throw new TypeError('Constructor requires `new`: ' + defaultNewTarget.name);\n    }\n    var proto = defaultNewTarget.prototype;\n    if (!ES.TypeIsObject(proto)) {\n      proto = defaultProto;\n    }\n    var obj = create(proto);\n    for (var name in slots) {\n      if (_hasOwnProperty(slots, name)) {\n        var value = slots[name];\n        defineProperty(obj, name, value, true);\n      }\n    }\n    return obj;\n  };\n\n  // Firefox 31 reports this function's length as 0\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1062484\n  if (String.fromCodePoint && String.fromCodePoint.length !== 1) {\n    var originalFromCodePoint = String.fromCodePoint;\n    overrideNative(String, 'fromCodePoint', function fromCodePoint(codePoints) {\n      return ES.Call(originalFromCodePoint, this, arguments);\n    });\n  }\n\n  var StringShims = {\n    fromCodePoint: function fromCodePoint(codePoints) {\n      var result = [];\n      var next;\n      for (var i = 0, length = arguments.length; i < length; i++) {\n        next = Number(arguments[i]);\n        if (!ES.SameValue(next, ES.ToInteger(next)) || next < 0 || next > 0x10FFFF) {\n          throw new RangeError('Invalid code point ' + next);\n        }\n\n        if (next < 0x10000) {\n          _push(result, String.fromCharCode(next));\n        } else {\n          next -= 0x10000;\n          _push(result, String.fromCharCode((next >> 10) + 0xD800));\n          _push(result, String.fromCharCode((next % 0x400) + 0xDC00));\n        }\n      }\n      return result.join('');\n    },\n\n    raw: function raw(callSite) {\n      var cooked = ES.ToObject(callSite, 'bad callSite');\n      var rawString = ES.ToObject(cooked.raw, 'bad raw value');\n      var len = rawString.length;\n      var literalsegments = ES.ToLength(len);\n      if (literalsegments <= 0) {\n        return '';\n      }\n\n      var stringElements = [];\n      var nextIndex = 0;\n      var nextKey, next, nextSeg, nextSub;\n      while (nextIndex < literalsegments) {\n        nextKey = ES.ToString(nextIndex);\n        nextSeg = ES.ToString(rawString[nextKey]);\n        _push(stringElements, nextSeg);\n        if (nextIndex + 1 >= literalsegments) {\n          break;\n        }\n        next = nextIndex + 1 < arguments.length ? arguments[nextIndex + 1] : '';\n        nextSub = ES.ToString(next);\n        _push(stringElements, nextSub);\n        nextIndex += 1;\n      }\n      return stringElements.join('');\n    }\n  };\n  if (String.raw && String.raw({ raw: { 0: 'x', 1: 'y', length: 2 } }) !== 'xy') {\n    // IE 11 TP has a broken String.raw implementation\n    overrideNative(String, 'raw', StringShims.raw);\n  }\n  defineProperties(String, StringShims);\n\n  // Fast repeat, uses the `Exponentiation by squaring` algorithm.\n  // Perf: http://jsperf.com/string-repeat2/2\n  var stringRepeat = function repeat(s, times) {\n    if (times < 1) { return ''; }\n    if (times % 2) { return repeat(s, times - 1) + s; }\n    var half = repeat(s, times / 2);\n    return half + half;\n  };\n  var stringMaxLength = Infinity;\n\n  var StringPrototypeShims = {\n    repeat: function repeat(times) {\n      var thisStr = ES.ToString(ES.RequireObjectCoercible(this));\n      var numTimes = ES.ToInteger(times);\n      if (numTimes < 0 || numTimes >= stringMaxLength) {\n        throw new RangeError('repeat count must be less than infinity and not overflow maximum string size');\n      }\n      return stringRepeat(thisStr, numTimes);\n    },\n\n    startsWith: function startsWith(searchString) {\n      var S = ES.ToString(ES.RequireObjectCoercible(this));\n      if (ES.IsRegExp(searchString)) {\n        throw new TypeError('Cannot call method \"startsWith\" with a regex');\n      }\n      var searchStr = ES.ToString(searchString);\n      var position;\n      if (arguments.length > 1) {\n        position = arguments[1];\n      }\n      var start = _max(ES.ToInteger(position), 0);\n      return _strSlice(S, start, start + searchStr.length) === searchStr;\n    },\n\n    endsWith: function endsWith(searchString) {\n      var S = ES.ToString(ES.RequireObjectCoercible(this));\n      if (ES.IsRegExp(searchString)) {\n        throw new TypeError('Cannot call method \"endsWith\" with a regex');\n      }\n      var searchStr = ES.ToString(searchString);\n      var len = S.length;\n      var endPosition;\n      if (arguments.length > 1) {\n        endPosition = arguments[1];\n      }\n      var pos = typeof endPosition === 'undefined' ? len : ES.ToInteger(endPosition);\n      var end = _min(_max(pos, 0), len);\n      return _strSlice(S, end - searchStr.length, end) === searchStr;\n    },\n\n    includes: function includes(searchString) {\n      if (ES.IsRegExp(searchString)) {\n        throw new TypeError('\"includes\" does not accept a RegExp');\n      }\n      var searchStr = ES.ToString(searchString);\n      var position;\n      if (arguments.length > 1) {\n        position = arguments[1];\n      }\n      // Somehow this trick makes method 100% compat with the spec.\n      return _indexOf(this, searchStr, position) !== -1;\n    },\n\n    codePointAt: function codePointAt(pos) {\n      var thisStr = ES.ToString(ES.RequireObjectCoercible(this));\n      var position = ES.ToInteger(pos);\n      var length = thisStr.length;\n      if (position >= 0 && position < length) {\n        var first = thisStr.charCodeAt(position);\n        var isEnd = position + 1 === length;\n        if (first < 0xD800 || first > 0xDBFF || isEnd) { return first; }\n        var second = thisStr.charCodeAt(position + 1);\n        if (second < 0xDC00 || second > 0xDFFF) { return first; }\n        return ((first - 0xD800) * 1024) + (second - 0xDC00) + 0x10000;\n      }\n    }\n  };\n  if (String.prototype.includes && 'a'.includes('a', Infinity) !== false) {\n    overrideNative(String.prototype, 'includes', StringPrototypeShims.includes);\n  }\n\n  if (String.prototype.startsWith && String.prototype.endsWith) {\n    var startsWithRejectsRegex = throwsError(function () {\n      /* throws if spec-compliant */\n      '/a/'.startsWith(/a/);\n    });\n    var startsWithHandlesInfinity = valueOrFalseIfThrows(function () {\n      return 'abc'.startsWith('a', Infinity) === false;\n    });\n    if (!startsWithRejectsRegex || !startsWithHandlesInfinity) {\n      // Firefox (< 37?) and IE 11 TP have a noncompliant startsWith implementation\n      overrideNative(String.prototype, 'startsWith', StringPrototypeShims.startsWith);\n      overrideNative(String.prototype, 'endsWith', StringPrototypeShims.endsWith);\n    }\n  }\n  if (hasSymbols) {\n    var startsWithSupportsSymbolMatch = valueOrFalseIfThrows(function () {\n      var re = /a/;\n      re[Symbol.match] = false;\n      return '/a/'.startsWith(re);\n    });\n    if (!startsWithSupportsSymbolMatch) {\n      overrideNative(String.prototype, 'startsWith', StringPrototypeShims.startsWith);\n    }\n    var endsWithSupportsSymbolMatch = valueOrFalseIfThrows(function () {\n      var re = /a/;\n      re[Symbol.match] = false;\n      return '/a/'.endsWith(re);\n    });\n    if (!endsWithSupportsSymbolMatch) {\n      overrideNative(String.prototype, 'endsWith', StringPrototypeShims.endsWith);\n    }\n    var includesSupportsSymbolMatch = valueOrFalseIfThrows(function () {\n      var re = /a/;\n      re[Symbol.match] = false;\n      return '/a/'.includes(re);\n    });\n    if (!includesSupportsSymbolMatch) {\n      overrideNative(String.prototype, 'includes', StringPrototypeShims.includes);\n    }\n  }\n\n  defineProperties(String.prototype, StringPrototypeShims);\n\n  // whitespace from: http://es5.github.io/#x15.5.4.20\n  // implementation from https://github.com/es-shims/es5-shim/blob/v3.4.0/es5-shim.js#L1304-L1324\n  var ws = [\n    '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003',\n    '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028',\n    '\\u2029\\uFEFF'\n  ].join('');\n  var trimRegexp = new RegExp('(^[' + ws + ']+)|([' + ws + ']+$)', 'g');\n  var trimShim = function trim() {\n    return ES.ToString(ES.RequireObjectCoercible(this)).replace(trimRegexp, '');\n  };\n  var nonWS = ['\\u0085', '\\u200b', '\\ufffe'].join('');\n  var nonWSregex = new RegExp('[' + nonWS + ']', 'g');\n  var isBadHexRegex = /^[-+]0x[0-9a-f]+$/i;\n  var hasStringTrimBug = nonWS.trim().length !== nonWS.length;\n  defineProperty(String.prototype, 'trim', trimShim, hasStringTrimBug);\n\n  // Given an argument x, it will return an IteratorResult object,\n  // with value set to x and done to false.\n  // Given no arguments, it will return an iterator completion object.\n  var iteratorResult = function (x) {\n    return { value: x, done: arguments.length === 0 };\n  };\n\n  // see http://www.ecma-international.org/ecma-262/6.0/#sec-string.prototype-@@iterator\n  var StringIterator = function (s) {\n    ES.RequireObjectCoercible(s);\n    this._s = ES.ToString(s);\n    this._i = 0;\n  };\n  StringIterator.prototype.next = function () {\n    var s = this._s;\n    var i = this._i;\n    if (typeof s === 'undefined' || i >= s.length) {\n      this._s = void 0;\n      return iteratorResult();\n    }\n    var first = s.charCodeAt(i);\n    var second, len;\n    if (first < 0xD800 || first > 0xDBFF || (i + 1) === s.length) {\n      len = 1;\n    } else {\n      second = s.charCodeAt(i + 1);\n      len = (second < 0xDC00 || second > 0xDFFF) ? 1 : 2;\n    }\n    this._i = i + len;\n    return iteratorResult(s.substr(i, len));\n  };\n  addIterator(StringIterator.prototype);\n  addIterator(String.prototype, function () {\n    return new StringIterator(this);\n  });\n\n  var ArrayShims = {\n    from: function from(items) {\n      var C = this;\n      var mapFn;\n      if (arguments.length > 1) {\n        mapFn = arguments[1];\n      }\n      var mapping, T;\n      if (typeof mapFn === 'undefined') {\n        mapping = false;\n      } else {\n        if (!ES.IsCallable(mapFn)) {\n          throw new TypeError('Array.from: when provided, the second argument must be a function');\n        }\n        if (arguments.length > 2) {\n          T = arguments[2];\n        }\n        mapping = true;\n      }\n\n      // Note that that Arrays will use ArrayIterator:\n      // https://bugs.ecmascript.org/show_bug.cgi?id=2416\n      var usingIterator = typeof (isArguments(items) || ES.GetMethod(items, $iterator$)) !== 'undefined';\n\n      var length, result, i;\n      if (usingIterator) {\n        result = ES.IsConstructor(C) ? Object(new C()) : [];\n        var iterator = ES.GetIterator(items);\n        var next, nextValue;\n\n        i = 0;\n        while (true) {\n          next = ES.IteratorStep(iterator);\n          if (next === false) {\n            break;\n          }\n          nextValue = next.value;\n          try {\n            if (mapping) {\n              nextValue = typeof T === 'undefined' ? mapFn(nextValue, i) : _call(mapFn, T, nextValue, i);\n            }\n            result[i] = nextValue;\n          } catch (e) {\n            ES.IteratorClose(iterator, true);\n            throw e;\n          }\n          i += 1;\n        }\n        length = i;\n      } else {\n        var arrayLike = ES.ToObject(items);\n        length = ES.ToLength(arrayLike.length);\n        result = ES.IsConstructor(C) ? Object(new C(length)) : new Array(length);\n        var value;\n        for (i = 0; i < length; ++i) {\n          value = arrayLike[i];\n          if (mapping) {\n            value = typeof T === 'undefined' ? mapFn(value, i) : _call(mapFn, T, value, i);\n          }\n          createDataPropertyOrThrow(result, i, value);\n        }\n      }\n\n      result.length = length;\n      return result;\n    },\n\n    of: function of() {\n      var len = arguments.length;\n      var C = this;\n      var A = isArray(C) || !ES.IsCallable(C) ? new Array(len) : ES.Construct(C, [len]);\n      for (var k = 0; k < len; ++k) {\n        createDataPropertyOrThrow(A, k, arguments[k]);\n      }\n      A.length = len;\n      return A;\n    }\n  };\n  defineProperties(Array, ArrayShims);\n  addDefaultSpecies(Array);\n\n  // Our ArrayIterator is private; see\n  // https://github.com/paulmillr/es6-shim/issues/252\n  ArrayIterator = function (array, kind) {\n    this.i = 0;\n    this.array = array;\n    this.kind = kind;\n  };\n\n  defineProperties(ArrayIterator.prototype, {\n    next: function () {\n      var i = this.i;\n      var array = this.array;\n      if (!(this instanceof ArrayIterator)) {\n        throw new TypeError('Not an ArrayIterator');\n      }\n      if (typeof array !== 'undefined') {\n        var len = ES.ToLength(array.length);\n        for (; i < len; i++) {\n          var kind = this.kind;\n          var retval;\n          if (kind === 'key') {\n            retval = i;\n          } else if (kind === 'value') {\n            retval = array[i];\n          } else if (kind === 'entry') {\n            retval = [i, array[i]];\n          }\n          this.i = i + 1;\n          return iteratorResult(retval);\n        }\n      }\n      this.array = void 0;\n      return iteratorResult();\n    }\n  });\n  addIterator(ArrayIterator.prototype);\n\n/*\n  var orderKeys = function orderKeys(a, b) {\n    var aNumeric = String(ES.ToInteger(a)) === a;\n    var bNumeric = String(ES.ToInteger(b)) === b;\n    if (aNumeric && bNumeric) {\n      return b - a;\n    } else if (aNumeric && !bNumeric) {\n      return -1;\n    } else if (!aNumeric && bNumeric) {\n      return 1;\n    } else {\n      return a.localeCompare(b);\n    }\n  };\n\n  var getAllKeys = function getAllKeys(object) {\n    var ownKeys = [];\n    var keys = [];\n\n    for (var key in object) {\n      _push(_hasOwnProperty(object, key) ? ownKeys : keys, key);\n    }\n    _sort(ownKeys, orderKeys);\n    _sort(keys, orderKeys);\n\n    return _concat(ownKeys, keys);\n  };\n  */\n\n  // note: this is positioned here because it depends on ArrayIterator\n  var arrayOfSupportsSubclassing = Array.of === ArrayShims.of || (function () {\n    // Detects a bug in Webkit nightly r181886\n    var Foo = function Foo(len) { this.length = len; };\n    Foo.prototype = [];\n    var fooArr = Array.of.apply(Foo, [1, 2]);\n    return fooArr instanceof Foo && fooArr.length === 2;\n  }());\n  if (!arrayOfSupportsSubclassing) {\n    overrideNative(Array, 'of', ArrayShims.of);\n  }\n\n  var ArrayPrototypeShims = {\n    copyWithin: function copyWithin(target, start) {\n      var o = ES.ToObject(this);\n      var len = ES.ToLength(o.length);\n      var relativeTarget = ES.ToInteger(target);\n      var relativeStart = ES.ToInteger(start);\n      var to = relativeTarget < 0 ? _max(len + relativeTarget, 0) : _min(relativeTarget, len);\n      var from = relativeStart < 0 ? _max(len + relativeStart, 0) : _min(relativeStart, len);\n      var end;\n      if (arguments.length > 2) {\n        end = arguments[2];\n      }\n      var relativeEnd = typeof end === 'undefined' ? len : ES.ToInteger(end);\n      var finalItem = relativeEnd < 0 ? _max(len + relativeEnd, 0) : _min(relativeEnd, len);\n      var count = _min(finalItem - from, len - to);\n      var direction = 1;\n      if (from < to && to < (from + count)) {\n        direction = -1;\n        from += count - 1;\n        to += count - 1;\n      }\n      while (count > 0) {\n        if (from in o) {\n          o[to] = o[from];\n        } else {\n          delete o[to];\n        }\n        from += direction;\n        to += direction;\n        count -= 1;\n      }\n      return o;\n    },\n\n    fill: function fill(value) {\n      var start;\n      if (arguments.length > 1) {\n        start = arguments[1];\n      }\n      var end;\n      if (arguments.length > 2) {\n        end = arguments[2];\n      }\n      var O = ES.ToObject(this);\n      var len = ES.ToLength(O.length);\n      start = ES.ToInteger(typeof start === 'undefined' ? 0 : start);\n      end = ES.ToInteger(typeof end === 'undefined' ? len : end);\n\n      var relativeStart = start < 0 ? _max(len + start, 0) : _min(start, len);\n      var relativeEnd = end < 0 ? len + end : end;\n\n      for (var i = relativeStart; i < len && i < relativeEnd; ++i) {\n        O[i] = value;\n      }\n      return O;\n    },\n\n    find: function find(predicate) {\n      var list = ES.ToObject(this);\n      var length = ES.ToLength(list.length);\n      if (!ES.IsCallable(predicate)) {\n        throw new TypeError('Array#find: predicate must be a function');\n      }\n      var thisArg = arguments.length > 1 ? arguments[1] : null;\n      for (var i = 0, value; i < length; i++) {\n        value = list[i];\n        if (thisArg) {\n          if (_call(predicate, thisArg, value, i, list)) {\n            return value;\n          }\n        } else if (predicate(value, i, list)) {\n          return value;\n        }\n      }\n    },\n\n    findIndex: function findIndex(predicate) {\n      var list = ES.ToObject(this);\n      var length = ES.ToLength(list.length);\n      if (!ES.IsCallable(predicate)) {\n        throw new TypeError('Array#findIndex: predicate must be a function');\n      }\n      var thisArg = arguments.length > 1 ? arguments[1] : null;\n      for (var i = 0; i < length; i++) {\n        if (thisArg) {\n          if (_call(predicate, thisArg, list[i], i, list)) {\n            return i;\n          }\n        } else if (predicate(list[i], i, list)) {\n          return i;\n        }\n      }\n      return -1;\n    },\n\n    keys: function keys() {\n      return new ArrayIterator(this, 'key');\n    },\n\n    values: function values() {\n      return new ArrayIterator(this, 'value');\n    },\n\n    entries: function entries() {\n      return new ArrayIterator(this, 'entry');\n    }\n  };\n  // Safari 7.1 defines Array#keys and Array#entries natively,\n  // but the resulting ArrayIterator objects don't have a \"next\" method.\n  if (Array.prototype.keys && !ES.IsCallable([1].keys().next)) {\n    delete Array.prototype.keys;\n  }\n  if (Array.prototype.entries && !ES.IsCallable([1].entries().next)) {\n    delete Array.prototype.entries;\n  }\n\n  // Chrome 38 defines Array#keys and Array#entries, and Array#@@iterator, but not Array#values\n  if (Array.prototype.keys && Array.prototype.entries && !Array.prototype.values && Array.prototype[$iterator$]) {\n    defineProperties(Array.prototype, {\n      values: Array.prototype[$iterator$]\n    });\n    if (Type.symbol(Symbol.unscopables)) {\n      Array.prototype[Symbol.unscopables].values = true;\n    }\n  }\n  // Chrome 40 defines Array#values with the incorrect name, although Array#{keys,entries} have the correct name\n  if (functionsHaveNames && Array.prototype.values && Array.prototype.values.name !== 'values') {\n    var originalArrayPrototypeValues = Array.prototype.values;\n    overrideNative(Array.prototype, 'values', function values() { return ES.Call(originalArrayPrototypeValues, this, arguments); });\n    defineProperty(Array.prototype, $iterator$, Array.prototype.values, true);\n  }\n  defineProperties(Array.prototype, ArrayPrototypeShims);\n\n  if (1 / [true].indexOf(true, -0) < 0) {\n    // indexOf when given a position arg of -0 should return +0.\n    // https://github.com/tc39/ecma262/pull/316\n    defineProperty(Array.prototype, 'indexOf', function indexOf(searchElement) {\n      var value = _arrayIndexOfApply(this, arguments);\n      if (value === 0 && (1 / value) < 0) {\n        return 0;\n      }\n      return value;\n    }, true);\n  }\n\n  addIterator(Array.prototype, function () { return this.values(); });\n  // Chrome defines keys/values/entries on Array, but doesn't give us\n  // any way to identify its iterator.  So add our own shimmed field.\n  if (Object.getPrototypeOf) {\n    addIterator(Object.getPrototypeOf([].values()));\n  }\n\n  // note: this is positioned here because it relies on Array#entries\n  var arrayFromSwallowsNegativeLengths = (function () {\n    // Detects a Firefox bug in v32\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1063993\n    return valueOrFalseIfThrows(function () {\n      return Array.from({ length: -1 }).length === 0;\n    });\n  }());\n  var arrayFromHandlesIterables = (function () {\n    // Detects a bug in Webkit nightly r181886\n    var arr = Array.from([0].entries());\n    return arr.length === 1 && isArray(arr[0]) && arr[0][0] === 0 && arr[0][1] === 0;\n  }());\n  if (!arrayFromSwallowsNegativeLengths || !arrayFromHandlesIterables) {\n    overrideNative(Array, 'from', ArrayShims.from);\n  }\n  var arrayFromHandlesUndefinedMapFunction = (function () {\n    // Microsoft Edge v0.11 throws if the mapFn argument is *provided* but undefined,\n    // but the spec doesn't care if it's provided or not - undefined doesn't throw.\n    return valueOrFalseIfThrows(function () {\n      return Array.from([0], void 0);\n    });\n  }());\n  if (!arrayFromHandlesUndefinedMapFunction) {\n    var origArrayFrom = Array.from;\n    overrideNative(Array, 'from', function from(items) {\n      if (arguments.length > 1 && typeof arguments[1] !== 'undefined') {\n        return ES.Call(origArrayFrom, this, arguments);\n      } else {\n        return _call(origArrayFrom, this, items);\n      }\n    });\n  }\n\n  var int32sAsOne = -(Math.pow(2, 32) - 1);\n  var toLengthsCorrectly = function (method, reversed) {\n    var obj = { length: int32sAsOne };\n    obj[reversed ? (obj.length >>> 0) - 1 : 0] = true;\n    return valueOrFalseIfThrows(function () {\n      _call(method, obj, function () {\n        // note: in nonconforming browsers, this will be called\n        // -1 >>> 0 times, which is 4294967295, so the throw matters.\n        throw new RangeError('should not reach here');\n      }, []);\n      return true;\n    });\n  };\n  if (!toLengthsCorrectly(Array.prototype.forEach)) {\n    var originalForEach = Array.prototype.forEach;\n    overrideNative(Array.prototype, 'forEach', function forEach(callbackFn) {\n      return ES.Call(originalForEach, this.length >= 0 ? this : [], arguments);\n    }, true);\n  }\n  if (!toLengthsCorrectly(Array.prototype.map)) {\n    var originalMap = Array.prototype.map;\n    overrideNative(Array.prototype, 'map', function map(callbackFn) {\n      return ES.Call(originalMap, this.length >= 0 ? this : [], arguments);\n    }, true);\n  }\n  if (!toLengthsCorrectly(Array.prototype.filter)) {\n    var originalFilter = Array.prototype.filter;\n    overrideNative(Array.prototype, 'filter', function filter(callbackFn) {\n      return ES.Call(originalFilter, this.length >= 0 ? this : [], arguments);\n    }, true);\n  }\n  if (!toLengthsCorrectly(Array.prototype.some)) {\n    var originalSome = Array.prototype.some;\n    overrideNative(Array.prototype, 'some', function some(callbackFn) {\n      return ES.Call(originalSome, this.length >= 0 ? this : [], arguments);\n    }, true);\n  }\n  if (!toLengthsCorrectly(Array.prototype.every)) {\n    var originalEvery = Array.prototype.every;\n    overrideNative(Array.prototype, 'every', function every(callbackFn) {\n      return ES.Call(originalEvery, this.length >= 0 ? this : [], arguments);\n    }, true);\n  }\n  if (!toLengthsCorrectly(Array.prototype.reduce)) {\n    var originalReduce = Array.prototype.reduce;\n    overrideNative(Array.prototype, 'reduce', function reduce(callbackFn) {\n      return ES.Call(originalReduce, this.length >= 0 ? this : [], arguments);\n    }, true);\n  }\n  if (!toLengthsCorrectly(Array.prototype.reduceRight, true)) {\n    var originalReduceRight = Array.prototype.reduceRight;\n    overrideNative(Array.prototype, 'reduceRight', function reduceRight(callbackFn) {\n      return ES.Call(originalReduceRight, this.length >= 0 ? this : [], arguments);\n    }, true);\n  }\n\n  var lacksOctalSupport = Number('0o10') !== 8;\n  var lacksBinarySupport = Number('0b10') !== 2;\n  var trimsNonWhitespace = _some(nonWS, function (c) {\n    return Number(c + 0 + c) === 0;\n  });\n  if (lacksOctalSupport || lacksBinarySupport || trimsNonWhitespace) {\n    var OrigNumber = Number;\n    var binaryRegex = /^0b[01]+$/i;\n    var octalRegex = /^0o[0-7]+$/i;\n    // Note that in IE 8, RegExp.prototype.test doesn't seem to exist: ie, \"test\" is an own property of regexes. wtf.\n    var isBinary = binaryRegex.test.bind(binaryRegex);\n    var isOctal = octalRegex.test.bind(octalRegex);\n    var toPrimitive = function (O) { // need to replace this with `es-to-primitive/es6`\n      var result;\n      if (typeof O.valueOf === 'function') {\n        result = O.valueOf();\n        if (Type.primitive(result)) {\n          return result;\n        }\n      }\n      if (typeof O.toString === 'function') {\n        result = O.toString();\n        if (Type.primitive(result)) {\n          return result;\n        }\n      }\n      throw new TypeError('No default value');\n    };\n    var hasNonWS = nonWSregex.test.bind(nonWSregex);\n    var isBadHex = isBadHexRegex.test.bind(isBadHexRegex);\n    var NumberShim = (function () {\n      // this is wrapped in an IIFE because of IE 6-8's wacky scoping issues with named function expressions.\n      var NumberShim = function Number(value) {\n        var primValue;\n        if (arguments.length > 0) {\n          primValue = Type.primitive(value) ? value : toPrimitive(value, 'number');\n        } else {\n          primValue = 0;\n        }\n        if (typeof primValue === 'string') {\n          primValue = ES.Call(trimShim, primValue);\n          if (isBinary(primValue)) {\n            primValue = parseInt(_strSlice(primValue, 2), 2);\n          } else if (isOctal(primValue)) {\n            primValue = parseInt(_strSlice(primValue, 2), 8);\n          } else if (hasNonWS(primValue) || isBadHex(primValue)) {\n            primValue = NaN;\n          }\n        }\n        var receiver = this;\n        var valueOfSucceeds = valueOrFalseIfThrows(function () {\n          OrigNumber.prototype.valueOf.call(receiver);\n          return true;\n        });\n        if (receiver instanceof NumberShim && !valueOfSucceeds) {\n          return new OrigNumber(primValue);\n        }\n        /* jshint newcap: false */\n        return OrigNumber(primValue);\n        /* jshint newcap: true */\n      };\n      return NumberShim;\n    }());\n    wrapConstructor(OrigNumber, NumberShim, {});\n    // this is necessary for ES3 browsers, where these properties are non-enumerable.\n    defineProperties(NumberShim, {\n      NaN: OrigNumber.NaN,\n      MAX_VALUE: OrigNumber.MAX_VALUE,\n      MIN_VALUE: OrigNumber.MIN_VALUE,\n      NEGATIVE_INFINITY: OrigNumber.NEGATIVE_INFINITY,\n      POSITIVE_INFINITY: OrigNumber.POSITIVE_INFINITY\n    });\n    /* globals Number: true */\n    /* eslint-disable no-undef, no-global-assign */\n    /* jshint -W020 */\n    Number = NumberShim;\n    Value.redefine(globals, 'Number', NumberShim);\n    /* jshint +W020 */\n    /* eslint-enable no-undef, no-global-assign */\n    /* globals Number: false */\n  }\n\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n  defineProperties(Number, {\n    MAX_SAFE_INTEGER: maxSafeInteger,\n    MIN_SAFE_INTEGER: -maxSafeInteger,\n    EPSILON: 2.220446049250313e-16,\n\n    parseInt: globals.parseInt,\n    parseFloat: globals.parseFloat,\n\n    isFinite: numberIsFinite,\n\n    isInteger: function isInteger(value) {\n      return numberIsFinite(value) && ES.ToInteger(value) === value;\n    },\n\n    isSafeInteger: function isSafeInteger(value) {\n      return Number.isInteger(value) && _abs(value) <= Number.MAX_SAFE_INTEGER;\n    },\n\n    isNaN: numberIsNaN\n  });\n  // Firefox 37 has a conforming Number.parseInt, but it's not === to the global parseInt (fixed in v40)\n  defineProperty(Number, 'parseInt', globals.parseInt, Number.parseInt !== globals.parseInt);\n\n  // Work around bugs in Array#find and Array#findIndex -- early\n  // implementations skipped holes in sparse arrays. (Note that the\n  // implementations of find/findIndex indirectly use shimmed\n  // methods of Number, so this test has to happen down here.)\n  /*jshint elision: true */\n  /* eslint-disable no-sparse-arrays */\n  if ([, 1].find(function () { return true; }) === 1) {\n    overrideNative(Array.prototype, 'find', ArrayPrototypeShims.find);\n  }\n  if ([, 1].findIndex(function () { return true; }) !== 0) {\n    overrideNative(Array.prototype, 'findIndex', ArrayPrototypeShims.findIndex);\n  }\n  /* eslint-enable no-sparse-arrays */\n  /*jshint elision: false */\n\n  var isEnumerableOn = Function.bind.call(Function.bind, Object.prototype.propertyIsEnumerable);\n  var ensureEnumerable = function ensureEnumerable(obj, prop) {\n    if (supportsDescriptors && isEnumerableOn(obj, prop)) {\n      Object.defineProperty(obj, prop, { enumerable: false });\n    }\n  };\n  var sliceArgs = function sliceArgs() {\n    // per https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n    // and https://gist.github.com/WebReflection/4327762cb87a8c634a29\n    var initial = Number(this);\n    var len = arguments.length;\n    var desiredArgCount = len - initial;\n    var args = new Array(desiredArgCount < 0 ? 0 : desiredArgCount);\n    for (var i = initial; i < len; ++i) {\n      args[i - initial] = arguments[i];\n    }\n    return args;\n  };\n  var assignTo = function assignTo(source) {\n    return function assignToSource(target, key) {\n      target[key] = source[key];\n      return target;\n    };\n  };\n  var assignReducer = function (target, source) {\n    var sourceKeys = keys(Object(source));\n    var symbols;\n    if (ES.IsCallable(Object.getOwnPropertySymbols)) {\n      symbols = _filter(Object.getOwnPropertySymbols(Object(source)), isEnumerableOn(source));\n    }\n    return _reduce(_concat(sourceKeys, symbols || []), assignTo(source), target);\n  };\n\n  var ObjectShims = {\n    // 19.1.3.1\n    assign: function (target, source) {\n      var to = ES.ToObject(target, 'Cannot convert undefined or null to object');\n      return _reduce(ES.Call(sliceArgs, 1, arguments), assignReducer, to);\n    },\n\n    // Added in WebKit in https://bugs.webkit.org/show_bug.cgi?id=143865\n    is: function is(a, b) {\n      return ES.SameValue(a, b);\n    }\n  };\n  var assignHasPendingExceptions = Object.assign && Object.preventExtensions && (function () {\n    // Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n    // which is 72% slower than our shim, and Firefox 40's native implementation.\n    var thrower = Object.preventExtensions({ 1: 2 });\n    try {\n      Object.assign(thrower, 'xy');\n    } catch (e) {\n      return thrower[1] === 'y';\n    }\n  }());\n  if (assignHasPendingExceptions) {\n    overrideNative(Object, 'assign', ObjectShims.assign);\n  }\n  defineProperties(Object, ObjectShims);\n\n  if (supportsDescriptors) {\n    var ES5ObjectShims = {\n      // 19.1.3.9\n      // shim from https://gist.github.com/WebReflection/5593554\n      setPrototypeOf: (function (Object, magic) {\n        var set;\n\n        var checkArgs = function (O, proto) {\n          if (!ES.TypeIsObject(O)) {\n            throw new TypeError('cannot set prototype on a non-object');\n          }\n          if (!(proto === null || ES.TypeIsObject(proto))) {\n            throw new TypeError('can only set prototype to an object or null' + proto);\n          }\n        };\n\n        var setPrototypeOf = function (O, proto) {\n          checkArgs(O, proto);\n          _call(set, O, proto);\n          return O;\n        };\n\n        try {\n          // this works already in Firefox and Safari\n          set = Object.getOwnPropertyDescriptor(Object.prototype, magic).set;\n          _call(set, {}, null);\n        } catch (e) {\n          if (Object.prototype !== {}[magic]) {\n            // IE < 11 cannot be shimmed\n            return;\n          }\n          // probably Chrome or some old Mobile stock browser\n          set = function (proto) {\n            this[magic] = proto;\n          };\n          // please note that this will **not** work\n          // in those browsers that do not inherit\n          // __proto__ by mistake from Object.prototype\n          // in these cases we should probably throw an error\n          // or at least be informed about the issue\n          setPrototypeOf.polyfill = setPrototypeOf(\n            setPrototypeOf({}, null),\n            Object.prototype\n          ) instanceof Object;\n          // setPrototypeOf.polyfill === true means it works as meant\n          // setPrototypeOf.polyfill === false means it's not 100% reliable\n          // setPrototypeOf.polyfill === undefined\n          // or\n          // setPrototypeOf.polyfill ==  null means it's not a polyfill\n          // which means it works as expected\n          // we can even delete Object.prototype.__proto__;\n        }\n        return setPrototypeOf;\n      }(Object, '__proto__'))\n    };\n\n    defineProperties(Object, ES5ObjectShims);\n  }\n\n  // Workaround bug in Opera 12 where setPrototypeOf(x, null) doesn't work,\n  // but Object.create(null) does.\n  if (Object.setPrototypeOf && Object.getPrototypeOf &&\n      Object.getPrototypeOf(Object.setPrototypeOf({}, null)) !== null &&\n      Object.getPrototypeOf(Object.create(null)) === null) {\n    (function () {\n      var FAKENULL = Object.create(null);\n      var gpo = Object.getPrototypeOf;\n      var spo = Object.setPrototypeOf;\n      Object.getPrototypeOf = function (o) {\n        var result = gpo(o);\n        return result === FAKENULL ? null : result;\n      };\n      Object.setPrototypeOf = function (o, p) {\n        var proto = p === null ? FAKENULL : p;\n        return spo(o, proto);\n      };\n      Object.setPrototypeOf.polyfill = false;\n    }());\n  }\n\n  var objectKeysAcceptsPrimitives = !throwsError(function () { Object.keys('foo'); });\n  if (!objectKeysAcceptsPrimitives) {\n    var originalObjectKeys = Object.keys;\n    overrideNative(Object, 'keys', function keys(value) {\n      return originalObjectKeys(ES.ToObject(value));\n    });\n    keys = Object.keys;\n  }\n  var objectKeysRejectsRegex = throwsError(function () { Object.keys(/a/g); });\n  if (objectKeysRejectsRegex) {\n    var regexRejectingObjectKeys = Object.keys;\n    overrideNative(Object, 'keys', function keys(value) {\n      if (Type.regex(value)) {\n        var regexKeys = [];\n        for (var k in value) {\n          if (_hasOwnProperty(value, k)) {\n            _push(regexKeys, k);\n          }\n        }\n        return regexKeys;\n      }\n      return regexRejectingObjectKeys(value);\n    });\n    keys = Object.keys;\n  }\n\n  if (Object.getOwnPropertyNames) {\n    var objectGOPNAcceptsPrimitives = !throwsError(function () { Object.getOwnPropertyNames('foo'); });\n    if (!objectGOPNAcceptsPrimitives) {\n      var cachedWindowNames = typeof window === 'object' ? Object.getOwnPropertyNames(window) : [];\n      var originalObjectGetOwnPropertyNames = Object.getOwnPropertyNames;\n      overrideNative(Object, 'getOwnPropertyNames', function getOwnPropertyNames(value) {\n        var val = ES.ToObject(value);\n        if (_toString(val) === '[object Window]') {\n          try {\n            return originalObjectGetOwnPropertyNames(val);\n          } catch (e) {\n            // IE bug where layout engine calls userland gOPN for cross-domain `window` objects\n            return _concat([], cachedWindowNames);\n          }\n        }\n        return originalObjectGetOwnPropertyNames(val);\n      });\n    }\n  }\n  if (Object.getOwnPropertyDescriptor) {\n    var objectGOPDAcceptsPrimitives = !throwsError(function () { Object.getOwnPropertyDescriptor('foo', 'bar'); });\n    if (!objectGOPDAcceptsPrimitives) {\n      var originalObjectGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n      overrideNative(Object, 'getOwnPropertyDescriptor', function getOwnPropertyDescriptor(value, property) {\n        return originalObjectGetOwnPropertyDescriptor(ES.ToObject(value), property);\n      });\n    }\n  }\n  if (Object.seal) {\n    var objectSealAcceptsPrimitives = !throwsError(function () { Object.seal('foo'); });\n    if (!objectSealAcceptsPrimitives) {\n      var originalObjectSeal = Object.seal;\n      overrideNative(Object, 'seal', function seal(value) {\n        if (!ES.TypeIsObject(value)) { return value; }\n        return originalObjectSeal(value);\n      });\n    }\n  }\n  if (Object.isSealed) {\n    var objectIsSealedAcceptsPrimitives = !throwsError(function () { Object.isSealed('foo'); });\n    if (!objectIsSealedAcceptsPrimitives) {\n      var originalObjectIsSealed = Object.isSealed;\n      overrideNative(Object, 'isSealed', function isSealed(value) {\n        if (!ES.TypeIsObject(value)) { return true; }\n        return originalObjectIsSealed(value);\n      });\n    }\n  }\n  if (Object.freeze) {\n    var objectFreezeAcceptsPrimitives = !throwsError(function () { Object.freeze('foo'); });\n    if (!objectFreezeAcceptsPrimitives) {\n      var originalObjectFreeze = Object.freeze;\n      overrideNative(Object, 'freeze', function freeze(value) {\n        if (!ES.TypeIsObject(value)) { return value; }\n        return originalObjectFreeze(value);\n      });\n    }\n  }\n  if (Object.isFrozen) {\n    var objectIsFrozenAcceptsPrimitives = !throwsError(function () { Object.isFrozen('foo'); });\n    if (!objectIsFrozenAcceptsPrimitives) {\n      var originalObjectIsFrozen = Object.isFrozen;\n      overrideNative(Object, 'isFrozen', function isFrozen(value) {\n        if (!ES.TypeIsObject(value)) { return true; }\n        return originalObjectIsFrozen(value);\n      });\n    }\n  }\n  if (Object.preventExtensions) {\n    var objectPreventExtensionsAcceptsPrimitives = !throwsError(function () { Object.preventExtensions('foo'); });\n    if (!objectPreventExtensionsAcceptsPrimitives) {\n      var originalObjectPreventExtensions = Object.preventExtensions;\n      overrideNative(Object, 'preventExtensions', function preventExtensions(value) {\n        if (!ES.TypeIsObject(value)) { return value; }\n        return originalObjectPreventExtensions(value);\n      });\n    }\n  }\n  if (Object.isExtensible) {\n    var objectIsExtensibleAcceptsPrimitives = !throwsError(function () { Object.isExtensible('foo'); });\n    if (!objectIsExtensibleAcceptsPrimitives) {\n      var originalObjectIsExtensible = Object.isExtensible;\n      overrideNative(Object, 'isExtensible', function isExtensible(value) {\n        if (!ES.TypeIsObject(value)) { return false; }\n        return originalObjectIsExtensible(value);\n      });\n    }\n  }\n  if (Object.getPrototypeOf) {\n    var objectGetProtoAcceptsPrimitives = !throwsError(function () { Object.getPrototypeOf('foo'); });\n    if (!objectGetProtoAcceptsPrimitives) {\n      var originalGetProto = Object.getPrototypeOf;\n      overrideNative(Object, 'getPrototypeOf', function getPrototypeOf(value) {\n        return originalGetProto(ES.ToObject(value));\n      });\n    }\n  }\n\n  var hasFlags = supportsDescriptors && (function () {\n    var desc = Object.getOwnPropertyDescriptor(RegExp.prototype, 'flags');\n    return desc && ES.IsCallable(desc.get);\n  }());\n  if (supportsDescriptors && !hasFlags) {\n    var regExpFlagsGetter = function flags() {\n      if (!ES.TypeIsObject(this)) {\n        throw new TypeError('Method called on incompatible type: must be an object.');\n      }\n      var result = '';\n      if (this.global) {\n        result += 'g';\n      }\n      if (this.ignoreCase) {\n        result += 'i';\n      }\n      if (this.multiline) {\n        result += 'm';\n      }\n      if (this.unicode) {\n        result += 'u';\n      }\n      if (this.sticky) {\n        result += 'y';\n      }\n      return result;\n    };\n\n    Value.getter(RegExp.prototype, 'flags', regExpFlagsGetter);\n  }\n\n  var regExpSupportsFlagsWithRegex = supportsDescriptors && valueOrFalseIfThrows(function () {\n    return String(new RegExp(/a/g, 'i')) === '/a/i';\n  });\n  var regExpNeedsToSupportSymbolMatch = hasSymbols && supportsDescriptors && (function () {\n    // Edge 0.12 supports flags fully, but does not support Symbol.match\n    var regex = /./;\n    regex[Symbol.match] = false;\n    return RegExp(regex) === regex;\n  }());\n\n  var regexToStringIsGeneric = valueOrFalseIfThrows(function () {\n    return RegExp.prototype.toString.call({ source: 'abc' }) === '/abc/';\n  });\n  var regexToStringSupportsGenericFlags = regexToStringIsGeneric && valueOrFalseIfThrows(function () {\n    return RegExp.prototype.toString.call({ source: 'a', flags: 'b' }) === '/a/b';\n  });\n  if (!regexToStringIsGeneric || !regexToStringSupportsGenericFlags) {\n    var origRegExpToString = RegExp.prototype.toString;\n    defineProperty(RegExp.prototype, 'toString', function toString() {\n      var R = ES.RequireObjectCoercible(this);\n      if (Type.regex(R)) {\n        return _call(origRegExpToString, R);\n      }\n      var pattern = $String(R.source);\n      var flags = $String(R.flags);\n      return '/' + pattern + '/' + flags;\n    }, true);\n    Value.preserveToString(RegExp.prototype.toString, origRegExpToString);\n  }\n\n  if (supportsDescriptors && (!regExpSupportsFlagsWithRegex || regExpNeedsToSupportSymbolMatch)) {\n    var flagsGetter = Object.getOwnPropertyDescriptor(RegExp.prototype, 'flags').get;\n    var sourceDesc = Object.getOwnPropertyDescriptor(RegExp.prototype, 'source') || {};\n    var legacySourceGetter = function () {\n      // prior to it being a getter, it's own + nonconfigurable\n      return this.source;\n    };\n    var sourceGetter = ES.IsCallable(sourceDesc.get) ? sourceDesc.get : legacySourceGetter;\n\n    var OrigRegExp = RegExp;\n    var RegExpShim = (function () {\n      return function RegExp(pattern, flags) {\n        var patternIsRegExp = ES.IsRegExp(pattern);\n        var calledWithNew = this instanceof RegExp;\n        if (!calledWithNew && patternIsRegExp && typeof flags === 'undefined' && pattern.constructor === RegExp) {\n          return pattern;\n        }\n\n        var P = pattern;\n        var F = flags;\n        if (Type.regex(pattern)) {\n          P = ES.Call(sourceGetter, pattern);\n          F = typeof flags === 'undefined' ? ES.Call(flagsGetter, pattern) : flags;\n          return new RegExp(P, F);\n        } else if (patternIsRegExp) {\n          P = pattern.source;\n          F = typeof flags === 'undefined' ? pattern.flags : flags;\n        }\n        return new OrigRegExp(pattern, flags);\n      };\n    }());\n    wrapConstructor(OrigRegExp, RegExpShim, {\n      $input: true // Chrome < v39 & Opera < 26 have a nonstandard \"$input\" property\n    });\n    /* globals RegExp: true */\n    /* eslint-disable no-undef, no-global-assign */\n    /* jshint -W020 */\n    RegExp = RegExpShim;\n    Value.redefine(globals, 'RegExp', RegExpShim);\n    /* jshint +W020 */\n    /* eslint-enable no-undef, no-global-assign */\n    /* globals RegExp: false */\n  }\n\n  if (supportsDescriptors) {\n    var regexGlobals = {\n      input: '$_',\n      lastMatch: '$&',\n      lastParen: '$+',\n      leftContext: '$`',\n      rightContext: '$\\''\n    };\n    _forEach(keys(regexGlobals), function (prop) {\n      if (prop in RegExp && !(regexGlobals[prop] in RegExp)) {\n        Value.getter(RegExp, regexGlobals[prop], function get() {\n          return RegExp[prop];\n        });\n      }\n    });\n  }\n  addDefaultSpecies(RegExp);\n\n  var inverseEpsilon = 1 / Number.EPSILON;\n  var roundTiesToEven = function roundTiesToEven(n) {\n    // Even though this reduces down to `return n`, it takes advantage of built-in rounding.\n    return (n + inverseEpsilon) - inverseEpsilon;\n  };\n  var BINARY_32_EPSILON = Math.pow(2, -23);\n  var BINARY_32_MAX_VALUE = Math.pow(2, 127) * (2 - BINARY_32_EPSILON);\n  var BINARY_32_MIN_VALUE = Math.pow(2, -126);\n  var E = Math.E;\n  var LOG2E = Math.LOG2E;\n  var LOG10E = Math.LOG10E;\n  var numberCLZ = Number.prototype.clz;\n  delete Number.prototype.clz; // Safari 8 has Number#clz\n\n  var MathShims = {\n    acosh: function acosh(value) {\n      var x = Number(value);\n      if (numberIsNaN(x) || value < 1) { return NaN; }\n      if (x === 1) { return 0; }\n      if (x === Infinity) { return x; }\n      return _log((x / E) + (_sqrt(x + 1) * _sqrt(x - 1) / E)) + 1;\n    },\n\n    asinh: function asinh(value) {\n      var x = Number(value);\n      if (x === 0 || !globalIsFinite(x)) {\n        return x;\n      }\n      return x < 0 ? -asinh(-x) : _log(x + _sqrt((x * x) + 1));\n    },\n\n    atanh: function atanh(value) {\n      var x = Number(value);\n      if (numberIsNaN(x) || x < -1 || x > 1) {\n        return NaN;\n      }\n      if (x === -1) { return -Infinity; }\n      if (x === 1) { return Infinity; }\n      if (x === 0) { return x; }\n      return 0.5 * _log((1 + x) / (1 - x));\n    },\n\n    cbrt: function cbrt(value) {\n      var x = Number(value);\n      if (x === 0) { return x; }\n      var negate = x < 0;\n      var result;\n      if (negate) { x = -x; }\n      if (x === Infinity) {\n        result = Infinity;\n      } else {\n        result = _exp(_log(x) / 3);\n        // from http://en.wikipedia.org/wiki/Cube_root#Numerical_methods\n        result = ((x / (result * result)) + (2 * result)) / 3;\n      }\n      return negate ? -result : result;\n    },\n\n    clz32: function clz32(value) {\n      // See https://bugs.ecmascript.org/show_bug.cgi?id=2465\n      var x = Number(value);\n      var number = ES.ToUint32(x);\n      if (number === 0) {\n        return 32;\n      }\n      return numberCLZ ? ES.Call(numberCLZ, number) : 31 - _floor(_log(number + 0.5) * LOG2E);\n    },\n\n    cosh: function cosh(value) {\n      var x = Number(value);\n      if (x === 0) { return 1; } // +0 or -0\n      if (numberIsNaN(x)) { return NaN; }\n      if (!globalIsFinite(x)) { return Infinity; }\n      if (x < 0) { x = -x; }\n      if (x > 21) { return _exp(x) / 2; }\n      return (_exp(x) + _exp(-x)) / 2;\n    },\n\n    expm1: function expm1(value) {\n      var x = Number(value);\n      if (x === -Infinity) { return -1; }\n      if (!globalIsFinite(x) || x === 0) { return x; }\n      if (_abs(x) > 0.5) {\n        return _exp(x) - 1;\n      }\n      // A more precise approximation using Taylor series expansion\n      // from https://github.com/paulmillr/es6-shim/issues/314#issuecomment-70293986\n      var t = x;\n      var sum = 0;\n      var n = 1;\n      while (sum + t !== sum) {\n        sum += t;\n        n += 1;\n        t *= x / n;\n      }\n      return sum;\n    },\n\n    hypot: function hypot(x, y) {\n      var result = 0;\n      var largest = 0;\n      for (var i = 0; i < arguments.length; ++i) {\n        var value = _abs(Number(arguments[i]));\n        if (largest < value) {\n          result *= (largest / value) * (largest / value);\n          result += 1;\n          largest = value;\n        } else {\n          result += value > 0 ? (value / largest) * (value / largest) : value;\n        }\n      }\n      return largest === Infinity ? Infinity : largest * _sqrt(result);\n    },\n\n    log2: function log2(value) {\n      return _log(value) * LOG2E;\n    },\n\n    log10: function log10(value) {\n      return _log(value) * LOG10E;\n    },\n\n    log1p: function log1p(value) {\n      var x = Number(value);\n      if (x < -1 || numberIsNaN(x)) { return NaN; }\n      if (x === 0 || x === Infinity) { return x; }\n      if (x === -1) { return -Infinity; }\n\n      return (1 + x) - 1 === 0 ? x : x * (_log(1 + x) / ((1 + x) - 1));\n    },\n\n    sign: _sign,\n\n    sinh: function sinh(value) {\n      var x = Number(value);\n      if (!globalIsFinite(x) || x === 0) { return x; }\n\n      if (_abs(x) < 1) {\n        return (Math.expm1(x) - Math.expm1(-x)) / 2;\n      }\n      return (_exp(x - 1) - _exp(-x - 1)) * E / 2;\n    },\n\n    tanh: function tanh(value) {\n      var x = Number(value);\n      if (numberIsNaN(x) || x === 0) { return x; }\n      // can exit early at +-20 as JS loses precision for true value at this integer\n      if (x >= 20) { return 1; }\n      if (x <= -20) { return -1; }\n\n      return (Math.expm1(x) - Math.expm1(-x)) / (_exp(x) + _exp(-x));\n    },\n\n    trunc: function trunc(value) {\n      var x = Number(value);\n      return x < 0 ? -_floor(-x) : _floor(x);\n    },\n\n    imul: function imul(x, y) {\n      // taken from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/imul\n      var a = ES.ToUint32(x);\n      var b = ES.ToUint32(y);\n      var ah = (a >>> 16) & 0xffff;\n      var al = a & 0xffff;\n      var bh = (b >>> 16) & 0xffff;\n      var bl = b & 0xffff;\n      // the shift by 0 fixes the sign on the high part\n      // the final |0 converts the unsigned value into a signed value\n      return (al * bl) + ((((ah * bl) + (al * bh)) << 16) >>> 0) | 0;\n    },\n\n    fround: function fround(x) {\n      var v = Number(x);\n      if (v === 0 || v === Infinity || v === -Infinity || numberIsNaN(v)) {\n        return v;\n      }\n      var sign = _sign(v);\n      var abs = _abs(v);\n      if (abs < BINARY_32_MIN_VALUE) {\n        return sign * roundTiesToEven(\n          abs / BINARY_32_MIN_VALUE / BINARY_32_EPSILON\n        ) * BINARY_32_MIN_VALUE * BINARY_32_EPSILON;\n      }\n      // Veltkamp's splitting (?)\n      var a = (1 + (BINARY_32_EPSILON / Number.EPSILON)) * abs;\n      var result = a - (a - abs);\n      if (result > BINARY_32_MAX_VALUE || numberIsNaN(result)) {\n        return sign * Infinity;\n      }\n      return sign * result;\n    }\n  };\n  defineProperties(Math, MathShims);\n  // IE 11 TP has an imprecise log1p: reports Math.log1p(-1e-17) as 0\n  defineProperty(Math, 'log1p', MathShims.log1p, Math.log1p(-1e-17) !== -1e-17);\n  // IE 11 TP has an imprecise asinh: reports Math.asinh(-1e7) as not exactly equal to -Math.asinh(1e7)\n  defineProperty(Math, 'asinh', MathShims.asinh, Math.asinh(-1e7) !== -Math.asinh(1e7));\n  // Chrome 40 has an imprecise Math.tanh with very small numbers\n  defineProperty(Math, 'tanh', MathShims.tanh, Math.tanh(-2e-17) !== -2e-17);\n  // Chrome 40 loses Math.acosh precision with high numbers\n  defineProperty(Math, 'acosh', MathShims.acosh, Math.acosh(Number.MAX_VALUE) === Infinity);\n  // Firefox 38 on Windows\n  defineProperty(Math, 'cbrt', MathShims.cbrt, Math.abs(1 - (Math.cbrt(1e-300) / 1e-100)) / Number.EPSILON > 8);\n  // node 0.11 has an imprecise Math.sinh with very small numbers\n  defineProperty(Math, 'sinh', MathShims.sinh, Math.sinh(-2e-17) !== -2e-17);\n  // FF 35 on Linux reports 22025.465794806725 for Math.expm1(10)\n  var expm1OfTen = Math.expm1(10);\n  defineProperty(Math, 'expm1', MathShims.expm1, expm1OfTen > 22025.465794806719 || expm1OfTen < 22025.4657948067165168);\n\n  var origMathRound = Math.round;\n  // breaks in e.g. Safari 8, Internet Explorer 11, Opera 12\n  var roundHandlesBoundaryConditions = Math.round(0.5 - (Number.EPSILON / 4)) === 0 &&\n    Math.round(-0.5 + (Number.EPSILON / 3.99)) === 1;\n\n  // When engines use Math.floor(x + 0.5) internally, Math.round can be buggy for large integers.\n  // This behavior should be governed by \"round to nearest, ties to even mode\"\n  // see http://www.ecma-international.org/ecma-262/6.0/#sec-terms-and-definitions-number-type\n  // These are the boundary cases where it breaks.\n  var smallestPositiveNumberWhereRoundBreaks = inverseEpsilon + 1;\n  var largestPositiveNumberWhereRoundBreaks = (2 * inverseEpsilon) - 1;\n  var roundDoesNotIncreaseIntegers = [\n    smallestPositiveNumberWhereRoundBreaks,\n    largestPositiveNumberWhereRoundBreaks\n  ].every(function (num) {\n    return Math.round(num) === num;\n  });\n  defineProperty(Math, 'round', function round(x) {\n    var floor = _floor(x);\n    var ceil = floor === -1 ? -0 : floor + 1;\n    return x - floor < 0.5 ? floor : ceil;\n  }, !roundHandlesBoundaryConditions || !roundDoesNotIncreaseIntegers);\n  Value.preserveToString(Math.round, origMathRound);\n\n  var origImul = Math.imul;\n  if (Math.imul(0xffffffff, 5) !== -5) {\n    // Safari 6.1, at least, reports \"0\" for this value\n    Math.imul = MathShims.imul;\n    Value.preserveToString(Math.imul, origImul);\n  }\n  if (Math.imul.length !== 2) {\n    // Safari 8.0.4 has a length of 1\n    // fixed in https://bugs.webkit.org/show_bug.cgi?id=143658\n    overrideNative(Math, 'imul', function imul(x, y) {\n      return ES.Call(origImul, Math, arguments);\n    });\n  }\n\n  // Promises\n  // Simplest possible implementation; use a 3rd-party library if you\n  // want the best possible speed and/or long stack traces.\n  var PromiseShim = (function () {\n    var setTimeout = globals.setTimeout;\n    // some environments don't have setTimeout - no way to shim here.\n    if (typeof setTimeout !== 'function' && typeof setTimeout !== 'object') { return; }\n\n    ES.IsPromise = function (promise) {\n      if (!ES.TypeIsObject(promise)) {\n        return false;\n      }\n      if (typeof promise._promise === 'undefined') {\n        return false; // uninitialized, or missing our hidden field.\n      }\n      return true;\n    };\n\n    // \"PromiseCapability\" in the spec is what most promise implementations\n    // call a \"deferred\".\n    var PromiseCapability = function (C) {\n      if (!ES.IsConstructor(C)) {\n        throw new TypeError('Bad promise constructor');\n      }\n      var capability = this;\n      var resolver = function (resolve, reject) {\n        if (capability.resolve !== void 0 || capability.reject !== void 0) {\n          throw new TypeError('Bad Promise implementation!');\n        }\n        capability.resolve = resolve;\n        capability.reject = reject;\n      };\n      // Initialize fields to inform optimizers about the object shape.\n      capability.resolve = void 0;\n      capability.reject = void 0;\n      capability.promise = new C(resolver);\n      if (!(ES.IsCallable(capability.resolve) && ES.IsCallable(capability.reject))) {\n        throw new TypeError('Bad promise constructor');\n      }\n    };\n\n    // find an appropriate setImmediate-alike\n    var makeZeroTimeout;\n    /*global window */\n    if (typeof window !== 'undefined' && ES.IsCallable(window.postMessage)) {\n      makeZeroTimeout = function () {\n        // from http://dbaron.org/log/20100309-faster-timeouts\n        var timeouts = [];\n        var messageName = 'zero-timeout-message';\n        var setZeroTimeout = function (fn) {\n          _push(timeouts, fn);\n          window.postMessage(messageName, '*');\n        };\n        var handleMessage = function (event) {\n          if (event.source === window && event.data === messageName) {\n            event.stopPropagation();\n            if (timeouts.length === 0) { return; }\n            var fn = _shift(timeouts);\n            fn();\n          }\n        };\n        window.addEventListener('message', handleMessage, true);\n        return setZeroTimeout;\n      };\n    }\n    var makePromiseAsap = function () {\n      // An efficient task-scheduler based on a pre-existing Promise\n      // implementation, which we can use even if we override the\n      // global Promise below (in order to workaround bugs)\n      // https://github.com/Raynos/observ-hash/issues/2#issuecomment-35857671\n      var P = globals.Promise;\n      var pr = P && P.resolve && P.resolve();\n      return pr && function (task) {\n        return pr.then(task);\n      };\n    };\n    /*global process */\n    /* jscs:disable disallowMultiLineTernary */\n    var enqueue = ES.IsCallable(globals.setImmediate) ?\n      globals.setImmediate :\n      typeof process === 'object' && process.nextTick ? process.nextTick :\n      makePromiseAsap() ||\n      (ES.IsCallable(makeZeroTimeout) ? makeZeroTimeout() :\n      function (task) { setTimeout(task, 0); }); // fallback\n    /* jscs:enable disallowMultiLineTernary */\n\n    // Constants for Promise implementation\n    var PROMISE_IDENTITY = function (x) { return x; };\n    var PROMISE_THROWER = function (e) { throw e; };\n    var PROMISE_PENDING = 0;\n    var PROMISE_FULFILLED = 1;\n    var PROMISE_REJECTED = 2;\n    // We store fulfill/reject handlers and capabilities in a single array.\n    var PROMISE_FULFILL_OFFSET = 0;\n    var PROMISE_REJECT_OFFSET = 1;\n    var PROMISE_CAPABILITY_OFFSET = 2;\n    // This is used in an optimization for chaining promises via then.\n    var PROMISE_FAKE_CAPABILITY = {};\n\n    var enqueuePromiseReactionJob = function (handler, capability, argument) {\n      enqueue(function () {\n        promiseReactionJob(handler, capability, argument);\n      });\n    };\n\n    var promiseReactionJob = function (handler, promiseCapability, argument) {\n      var handlerResult, f;\n      if (promiseCapability === PROMISE_FAKE_CAPABILITY) {\n        // Fast case, when we don't actually need to chain through to a\n        // (real) promiseCapability.\n        return handler(argument);\n      }\n      try {\n        handlerResult = handler(argument);\n        f = promiseCapability.resolve;\n      } catch (e) {\n        handlerResult = e;\n        f = promiseCapability.reject;\n      }\n      f(handlerResult);\n    };\n\n    var fulfillPromise = function (promise, value) {\n      var _promise = promise._promise;\n      var length = _promise.reactionLength;\n      if (length > 0) {\n        enqueuePromiseReactionJob(\n          _promise.fulfillReactionHandler0,\n          _promise.reactionCapability0,\n          value\n        );\n        _promise.fulfillReactionHandler0 = void 0;\n        _promise.rejectReactions0 = void 0;\n        _promise.reactionCapability0 = void 0;\n        if (length > 1) {\n          for (var i = 1, idx = 0; i < length; i++, idx += 3) {\n            enqueuePromiseReactionJob(\n              _promise[idx + PROMISE_FULFILL_OFFSET],\n              _promise[idx + PROMISE_CAPABILITY_OFFSET],\n              value\n            );\n            promise[idx + PROMISE_FULFILL_OFFSET] = void 0;\n            promise[idx + PROMISE_REJECT_OFFSET] = void 0;\n            promise[idx + PROMISE_CAPABILITY_OFFSET] = void 0;\n          }\n        }\n      }\n      _promise.result = value;\n      _promise.state = PROMISE_FULFILLED;\n      _promise.reactionLength = 0;\n    };\n\n    var rejectPromise = function (promise, reason) {\n      var _promise = promise._promise;\n      var length = _promise.reactionLength;\n      if (length > 0) {\n        enqueuePromiseReactionJob(\n          _promise.rejectReactionHandler0,\n          _promise.reactionCapability0,\n          reason\n        );\n        _promise.fulfillReactionHandler0 = void 0;\n        _promise.rejectReactions0 = void 0;\n        _promise.reactionCapability0 = void 0;\n        if (length > 1) {\n          for (var i = 1, idx = 0; i < length; i++, idx += 3) {\n            enqueuePromiseReactionJob(\n              _promise[idx + PROMISE_REJECT_OFFSET],\n              _promise[idx + PROMISE_CAPABILITY_OFFSET],\n              reason\n            );\n            promise[idx + PROMISE_FULFILL_OFFSET] = void 0;\n            promise[idx + PROMISE_REJECT_OFFSET] = void 0;\n            promise[idx + PROMISE_CAPABILITY_OFFSET] = void 0;\n          }\n        }\n      }\n      _promise.result = reason;\n      _promise.state = PROMISE_REJECTED;\n      _promise.reactionLength = 0;\n    };\n\n    var createResolvingFunctions = function (promise) {\n      var alreadyResolved = false;\n      var resolve = function (resolution) {\n        var then;\n        if (alreadyResolved) { return; }\n        alreadyResolved = true;\n        if (resolution === promise) {\n          return rejectPromise(promise, new TypeError('Self resolution'));\n        }\n        if (!ES.TypeIsObject(resolution)) {\n          return fulfillPromise(promise, resolution);\n        }\n        try {\n          then = resolution.then;\n        } catch (e) {\n          return rejectPromise(promise, e);\n        }\n        if (!ES.IsCallable(then)) {\n          return fulfillPromise(promise, resolution);\n        }\n        enqueue(function () {\n          promiseResolveThenableJob(promise, resolution, then);\n        });\n      };\n      var reject = function (reason) {\n        if (alreadyResolved) { return; }\n        alreadyResolved = true;\n        return rejectPromise(promise, reason);\n      };\n      return { resolve: resolve, reject: reject };\n    };\n\n    var optimizedThen = function (then, thenable, resolve, reject) {\n      // Optimization: since we discard the result, we can pass our\n      // own then implementation a special hint to let it know it\n      // doesn't have to create it.  (The PROMISE_FAKE_CAPABILITY\n      // object is local to this implementation and unforgeable outside.)\n      if (then === Promise$prototype$then) {\n        _call(then, thenable, resolve, reject, PROMISE_FAKE_CAPABILITY);\n      } else {\n        _call(then, thenable, resolve, reject);\n      }\n    };\n    var promiseResolveThenableJob = function (promise, thenable, then) {\n      var resolvingFunctions = createResolvingFunctions(promise);\n      var resolve = resolvingFunctions.resolve;\n      var reject = resolvingFunctions.reject;\n      try {\n        optimizedThen(then, thenable, resolve, reject);\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var Promise$prototype, Promise$prototype$then;\n    var Promise = (function () {\n      var PromiseShim = function Promise(resolver) {\n        if (!(this instanceof PromiseShim)) {\n          throw new TypeError('Constructor Promise requires \"new\"');\n        }\n        if (this && this._promise) {\n          throw new TypeError('Bad construction');\n        }\n        // see https://bugs.ecmascript.org/show_bug.cgi?id=2482\n        if (!ES.IsCallable(resolver)) {\n          throw new TypeError('not a valid resolver');\n        }\n        var promise = emulateES6construct(this, PromiseShim, Promise$prototype, {\n          _promise: {\n            result: void 0,\n            state: PROMISE_PENDING,\n            // The first member of the \"reactions\" array is inlined here,\n            // since most promises only have one reaction.\n            // We've also exploded the 'reaction' object to inline the\n            // \"handler\" and \"capability\" fields, since both fulfill and\n            // reject reactions share the same capability.\n            reactionLength: 0,\n            fulfillReactionHandler0: void 0,\n            rejectReactionHandler0: void 0,\n            reactionCapability0: void 0\n          }\n        });\n        var resolvingFunctions = createResolvingFunctions(promise);\n        var reject = resolvingFunctions.reject;\n        try {\n          resolver(resolvingFunctions.resolve, reject);\n        } catch (e) {\n          reject(e);\n        }\n        return promise;\n      };\n      return PromiseShim;\n    }());\n    Promise$prototype = Promise.prototype;\n\n    var _promiseAllResolver = function (index, values, capability, remaining) {\n      var alreadyCalled = false;\n      return function (x) {\n        if (alreadyCalled) { return; }\n        alreadyCalled = true;\n        values[index] = x;\n        if ((--remaining.count) === 0) {\n          var resolve = capability.resolve;\n          resolve(values); // call w/ this===undefined\n        }\n      };\n    };\n\n    var performPromiseAll = function (iteratorRecord, C, resultCapability) {\n      var it = iteratorRecord.iterator;\n      var values = [];\n      var remaining = { count: 1 };\n      var next, nextValue;\n      var index = 0;\n      while (true) {\n        try {\n          next = ES.IteratorStep(it);\n          if (next === false) {\n            iteratorRecord.done = true;\n            break;\n          }\n          nextValue = next.value;\n        } catch (e) {\n          iteratorRecord.done = true;\n          throw e;\n        }\n        values[index] = void 0;\n        var nextPromise = C.resolve(nextValue);\n        var resolveElement = _promiseAllResolver(\n          index, values, resultCapability, remaining\n        );\n        remaining.count += 1;\n        optimizedThen(nextPromise.then, nextPromise, resolveElement, resultCapability.reject);\n        index += 1;\n      }\n      if ((--remaining.count) === 0) {\n        var resolve = resultCapability.resolve;\n        resolve(values); // call w/ this===undefined\n      }\n      return resultCapability.promise;\n    };\n\n    var performPromiseRace = function (iteratorRecord, C, resultCapability) {\n      var it = iteratorRecord.iterator;\n      var next, nextValue, nextPromise;\n      while (true) {\n        try {\n          next = ES.IteratorStep(it);\n          if (next === false) {\n            // NOTE: If iterable has no items, resulting promise will never\n            // resolve; see:\n            // https://github.com/domenic/promises-unwrapping/issues/75\n            // https://bugs.ecmascript.org/show_bug.cgi?id=2515\n            iteratorRecord.done = true;\n            break;\n          }\n          nextValue = next.value;\n        } catch (e) {\n          iteratorRecord.done = true;\n          throw e;\n        }\n        nextPromise = C.resolve(nextValue);\n        optimizedThen(nextPromise.then, nextPromise, resultCapability.resolve, resultCapability.reject);\n      }\n      return resultCapability.promise;\n    };\n\n    defineProperties(Promise, {\n      all: function all(iterable) {\n        var C = this;\n        if (!ES.TypeIsObject(C)) {\n          throw new TypeError('Promise is not object');\n        }\n        var capability = new PromiseCapability(C);\n        var iterator, iteratorRecord;\n        try {\n          iterator = ES.GetIterator(iterable);\n          iteratorRecord = { iterator: iterator, done: false };\n          return performPromiseAll(iteratorRecord, C, capability);\n        } catch (e) {\n          var exception = e;\n          if (iteratorRecord && !iteratorRecord.done) {\n            try {\n              ES.IteratorClose(iterator, true);\n            } catch (ee) {\n              exception = ee;\n            }\n          }\n          var reject = capability.reject;\n          reject(exception);\n          return capability.promise;\n        }\n      },\n\n      race: function race(iterable) {\n        var C = this;\n        if (!ES.TypeIsObject(C)) {\n          throw new TypeError('Promise is not object');\n        }\n        var capability = new PromiseCapability(C);\n        var iterator, iteratorRecord;\n        try {\n          iterator = ES.GetIterator(iterable);\n          iteratorRecord = { iterator: iterator, done: false };\n          return performPromiseRace(iteratorRecord, C, capability);\n        } catch (e) {\n          var exception = e;\n          if (iteratorRecord && !iteratorRecord.done) {\n            try {\n              ES.IteratorClose(iterator, true);\n            } catch (ee) {\n              exception = ee;\n            }\n          }\n          var reject = capability.reject;\n          reject(exception);\n          return capability.promise;\n        }\n      },\n\n      reject: function reject(reason) {\n        var C = this;\n        if (!ES.TypeIsObject(C)) {\n          throw new TypeError('Bad promise constructor');\n        }\n        var capability = new PromiseCapability(C);\n        var rejectFunc = capability.reject;\n        rejectFunc(reason); // call with this===undefined\n        return capability.promise;\n      },\n\n      resolve: function resolve(v) {\n        // See https://esdiscuss.org/topic/fixing-promise-resolve for spec\n        var C = this;\n        if (!ES.TypeIsObject(C)) {\n          throw new TypeError('Bad promise constructor');\n        }\n        if (ES.IsPromise(v)) {\n          var constructor = v.constructor;\n          if (constructor === C) {\n            return v;\n          }\n        }\n        var capability = new PromiseCapability(C);\n        var resolveFunc = capability.resolve;\n        resolveFunc(v); // call with this===undefined\n        return capability.promise;\n      }\n    });\n\n    defineProperties(Promise$prototype, {\n      'catch': function (onRejected) {\n        return this.then(null, onRejected);\n      },\n\n      then: function then(onFulfilled, onRejected) {\n        var promise = this;\n        if (!ES.IsPromise(promise)) { throw new TypeError('not a promise'); }\n        var C = ES.SpeciesConstructor(promise, Promise);\n        var resultCapability;\n        var returnValueIsIgnored = arguments.length > 2 && arguments[2] === PROMISE_FAKE_CAPABILITY;\n        if (returnValueIsIgnored && C === Promise) {\n          resultCapability = PROMISE_FAKE_CAPABILITY;\n        } else {\n          resultCapability = new PromiseCapability(C);\n        }\n        // PerformPromiseThen(promise, onFulfilled, onRejected, resultCapability)\n        // Note that we've split the 'reaction' object into its two\n        // components, \"capabilities\" and \"handler\"\n        // \"capabilities\" is always equal to `resultCapability`\n        var fulfillReactionHandler = ES.IsCallable(onFulfilled) ? onFulfilled : PROMISE_IDENTITY;\n        var rejectReactionHandler = ES.IsCallable(onRejected) ? onRejected : PROMISE_THROWER;\n        var _promise = promise._promise;\n        var value;\n        if (_promise.state === PROMISE_PENDING) {\n          if (_promise.reactionLength === 0) {\n            _promise.fulfillReactionHandler0 = fulfillReactionHandler;\n            _promise.rejectReactionHandler0 = rejectReactionHandler;\n            _promise.reactionCapability0 = resultCapability;\n          } else {\n            var idx = 3 * (_promise.reactionLength - 1);\n            _promise[idx + PROMISE_FULFILL_OFFSET] = fulfillReactionHandler;\n            _promise[idx + PROMISE_REJECT_OFFSET] = rejectReactionHandler;\n            _promise[idx + PROMISE_CAPABILITY_OFFSET] = resultCapability;\n          }\n          _promise.reactionLength += 1;\n        } else if (_promise.state === PROMISE_FULFILLED) {\n          value = _promise.result;\n          enqueuePromiseReactionJob(\n            fulfillReactionHandler, resultCapability, value\n          );\n        } else if (_promise.state === PROMISE_REJECTED) {\n          value = _promise.result;\n          enqueuePromiseReactionJob(\n            rejectReactionHandler, resultCapability, value\n          );\n        } else {\n          throw new TypeError('unexpected Promise state');\n        }\n        return resultCapability.promise;\n      }\n    });\n    // This helps the optimizer by ensuring that methods which take\n    // capabilities aren't polymorphic.\n    PROMISE_FAKE_CAPABILITY = new PromiseCapability(Promise);\n    Promise$prototype$then = Promise$prototype.then;\n\n    return Promise;\n  }());\n\n  // Chrome's native Promise has extra methods that it shouldn't have. Let's remove them.\n  if (globals.Promise) {\n    delete globals.Promise.accept;\n    delete globals.Promise.defer;\n    delete globals.Promise.prototype.chain;\n  }\n\n  if (typeof PromiseShim === 'function') {\n    // export the Promise constructor.\n    defineProperties(globals, { Promise: PromiseShim });\n    // In Chrome 33 (and thereabouts) Promise is defined, but the\n    // implementation is buggy in a number of ways.  Let's check subclassing\n    // support to see if we have a buggy implementation.\n    var promiseSupportsSubclassing = supportsSubclassing(globals.Promise, function (S) {\n      return S.resolve(42).then(function () {}) instanceof S;\n    });\n    var promiseIgnoresNonFunctionThenCallbacks = !throwsError(function () {\n      globals.Promise.reject(42).then(null, 5).then(null, noop);\n    });\n    var promiseRequiresObjectContext = throwsError(function () { globals.Promise.call(3, noop); });\n    // Promise.resolve() was errata'ed late in the ES6 process.\n    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1170742\n    //      https://code.google.com/p/v8/issues/detail?id=4161\n    // It serves as a proxy for a number of other bugs in early Promise\n    // implementations.\n    var promiseResolveBroken = (function (Promise) {\n      var p = Promise.resolve(5);\n      p.constructor = {};\n      var p2 = Promise.resolve(p);\n      try {\n        p2.then(null, noop).then(null, noop); // avoid \"uncaught rejection\" warnings in console\n      } catch (e) {\n        return true; // v8 native Promises break here https://code.google.com/p/chromium/issues/detail?id=575314\n      }\n      return p === p2; // This *should* be false!\n    }(globals.Promise));\n\n    // Chrome 46 (probably older too) does not retrieve a thenable's .then synchronously\n    var getsThenSynchronously = supportsDescriptors && (function () {\n      var count = 0;\n      var thenable = Object.defineProperty({}, 'then', { get: function () { count += 1; } });\n      Promise.resolve(thenable);\n      return count === 1;\n    }());\n\n    var BadResolverPromise = function BadResolverPromise(executor) {\n      var p = new Promise(executor);\n      executor(3, function () {});\n      this.then = p.then;\n      this.constructor = BadResolverPromise;\n    };\n    BadResolverPromise.prototype = Promise.prototype;\n    BadResolverPromise.all = Promise.all;\n    // Chrome Canary 49 (probably older too) has some implementation bugs\n    var hasBadResolverPromise = valueOrFalseIfThrows(function () {\n      return !!BadResolverPromise.all([1, 2]);\n    });\n\n    if (!promiseSupportsSubclassing || !promiseIgnoresNonFunctionThenCallbacks ||\n        !promiseRequiresObjectContext || promiseResolveBroken ||\n        !getsThenSynchronously || hasBadResolverPromise) {\n      /* globals Promise: true */\n      /* eslint-disable no-undef, no-global-assign */\n      /* jshint -W020 */\n      Promise = PromiseShim;\n      /* jshint +W020 */\n      /* eslint-enable no-undef, no-global-assign */\n      /* globals Promise: false */\n      overrideNative(globals, 'Promise', PromiseShim);\n    }\n    if (Promise.all.length !== 1) {\n      var origAll = Promise.all;\n      overrideNative(Promise, 'all', function all(iterable) {\n        return ES.Call(origAll, this, arguments);\n      });\n    }\n    if (Promise.race.length !== 1) {\n      var origRace = Promise.race;\n      overrideNative(Promise, 'race', function race(iterable) {\n        return ES.Call(origRace, this, arguments);\n      });\n    }\n    if (Promise.resolve.length !== 1) {\n      var origResolve = Promise.resolve;\n      overrideNative(Promise, 'resolve', function resolve(x) {\n        return ES.Call(origResolve, this, arguments);\n      });\n    }\n    if (Promise.reject.length !== 1) {\n      var origReject = Promise.reject;\n      overrideNative(Promise, 'reject', function reject(r) {\n        return ES.Call(origReject, this, arguments);\n      });\n    }\n    ensureEnumerable(Promise, 'all');\n    ensureEnumerable(Promise, 'race');\n    ensureEnumerable(Promise, 'resolve');\n    ensureEnumerable(Promise, 'reject');\n    addDefaultSpecies(Promise);\n  }\n\n  // Map and Set require a true ES5 environment\n  // Their fast path also requires that the environment preserve\n  // property insertion order, which is not guaranteed by the spec.\n  var testOrder = function (a) {\n    var b = keys(_reduce(a, function (o, k) {\n      o[k] = true;\n      return o;\n    }, {}));\n    return a.join(':') === b.join(':');\n  };\n  var preservesInsertionOrder = testOrder(['z', 'a', 'bb']);\n  // some engines (eg, Chrome) only preserve insertion order for string keys\n  var preservesNumericInsertionOrder = testOrder(['z', 1, 'a', '3', 2]);\n\n  if (supportsDescriptors) {\n\n    var fastkey = function fastkey(key, skipInsertionOrderCheck) {\n      if (!skipInsertionOrderCheck && !preservesInsertionOrder) {\n        return null;\n      }\n      if (isNullOrUndefined(key)) {\n        return '^' + ES.ToString(key);\n      } else if (typeof key === 'string') {\n        return '$' + key;\n      } else if (typeof key === 'number') {\n        // note that -0 will get coerced to \"0\" when used as a property key\n        if (!preservesNumericInsertionOrder) {\n          return 'n' + key;\n        }\n        return key;\n      } else if (typeof key === 'boolean') {\n        return 'b' + key;\n      }\n      return null;\n    };\n\n    var emptyObject = function emptyObject() {\n      // accomodate some older not-quite-ES5 browsers\n      return Object.create ? Object.create(null) : {};\n    };\n\n    var addIterableToMap = function addIterableToMap(MapConstructor, map, iterable) {\n      if (isArray(iterable) || Type.string(iterable)) {\n        _forEach(iterable, function (entry) {\n          if (!ES.TypeIsObject(entry)) {\n            throw new TypeError('Iterator value ' + entry + ' is not an entry object');\n          }\n          map.set(entry[0], entry[1]);\n        });\n      } else if (iterable instanceof MapConstructor) {\n        _call(MapConstructor.prototype.forEach, iterable, function (value, key) {\n          map.set(key, value);\n        });\n      } else {\n        var iter, adder;\n        if (!isNullOrUndefined(iterable)) {\n          adder = map.set;\n          if (!ES.IsCallable(adder)) { throw new TypeError('bad map'); }\n          iter = ES.GetIterator(iterable);\n        }\n        if (typeof iter !== 'undefined') {\n          while (true) {\n            var next = ES.IteratorStep(iter);\n            if (next === false) { break; }\n            var nextItem = next.value;\n            try {\n              if (!ES.TypeIsObject(nextItem)) {\n                throw new TypeError('Iterator value ' + nextItem + ' is not an entry object');\n              }\n              _call(adder, map, nextItem[0], nextItem[1]);\n            } catch (e) {\n              ES.IteratorClose(iter, true);\n              throw e;\n            }\n          }\n        }\n      }\n    };\n    var addIterableToSet = function addIterableToSet(SetConstructor, set, iterable) {\n      if (isArray(iterable) || Type.string(iterable)) {\n        _forEach(iterable, function (value) {\n          set.add(value);\n        });\n      } else if (iterable instanceof SetConstructor) {\n        _call(SetConstructor.prototype.forEach, iterable, function (value) {\n          set.add(value);\n        });\n      } else {\n        var iter, adder;\n        if (!isNullOrUndefined(iterable)) {\n          adder = set.add;\n          if (!ES.IsCallable(adder)) { throw new TypeError('bad set'); }\n          iter = ES.GetIterator(iterable);\n        }\n        if (typeof iter !== 'undefined') {\n          while (true) {\n            var next = ES.IteratorStep(iter);\n            if (next === false) { break; }\n            var nextValue = next.value;\n            try {\n              _call(adder, set, nextValue);\n            } catch (e) {\n              ES.IteratorClose(iter, true);\n              throw e;\n            }\n          }\n        }\n      }\n    };\n\n    var collectionShims = {\n      Map: (function () {\n\n        var empty = {};\n\n        var MapEntry = function MapEntry(key, value) {\n          this.key = key;\n          this.value = value;\n          this.next = null;\n          this.prev = null;\n        };\n\n        MapEntry.prototype.isRemoved = function isRemoved() {\n          return this.key === empty;\n        };\n\n        var isMap = function isMap(map) {\n          return !!map._es6map;\n        };\n\n        var requireMapSlot = function requireMapSlot(map, method) {\n          if (!ES.TypeIsObject(map) || !isMap(map)) {\n            throw new TypeError('Method Map.prototype.' + method + ' called on incompatible receiver ' + ES.ToString(map));\n          }\n        };\n\n        var MapIterator = function MapIterator(map, kind) {\n          requireMapSlot(map, '[[MapIterator]]');\n          this.head = map._head;\n          this.i = this.head;\n          this.kind = kind;\n        };\n\n        MapIterator.prototype = {\n          next: function next() {\n            var i = this.i;\n            var kind = this.kind;\n            var head = this.head;\n            if (typeof this.i === 'undefined') {\n              return iteratorResult();\n            }\n            while (i.isRemoved() && i !== head) {\n              // back up off of removed entries\n              i = i.prev;\n            }\n            // advance to next unreturned element.\n            var result;\n            while (i.next !== head) {\n              i = i.next;\n              if (!i.isRemoved()) {\n                if (kind === 'key') {\n                  result = i.key;\n                } else if (kind === 'value') {\n                  result = i.value;\n                } else {\n                  result = [i.key, i.value];\n                }\n                this.i = i;\n                return iteratorResult(result);\n              }\n            }\n            // once the iterator is done, it is done forever.\n            this.i = void 0;\n            return iteratorResult();\n          }\n        };\n        addIterator(MapIterator.prototype);\n\n        var Map$prototype;\n        var MapShim = function Map() {\n          if (!(this instanceof Map)) {\n            throw new TypeError('Constructor Map requires \"new\"');\n          }\n          if (this && this._es6map) {\n            throw new TypeError('Bad construction');\n          }\n          var map = emulateES6construct(this, Map, Map$prototype, {\n            _es6map: true,\n            _head: null,\n            _map: OrigMap ? new OrigMap() : null,\n            _size: 0,\n            _storage: emptyObject()\n          });\n\n          var head = new MapEntry(null, null);\n          // circular doubly-linked list.\n          /* eslint no-multi-assign: 1 */\n          head.next = head.prev = head;\n          map._head = head;\n\n          // Optionally initialize map from iterable\n          if (arguments.length > 0) {\n            addIterableToMap(Map, map, arguments[0]);\n          }\n          return map;\n        };\n        Map$prototype = MapShim.prototype;\n\n        Value.getter(Map$prototype, 'size', function () {\n          if (typeof this._size === 'undefined') {\n            throw new TypeError('size method called on incompatible Map');\n          }\n          return this._size;\n        });\n\n        defineProperties(Map$prototype, {\n          get: function get(key) {\n            requireMapSlot(this, 'get');\n            var entry;\n            var fkey = fastkey(key, true);\n            if (fkey !== null) {\n              // fast O(1) path\n              entry = this._storage[fkey];\n              if (entry) {\n                return entry.value;\n              } else {\n                return;\n              }\n            }\n            if (this._map) {\n              // fast object key path\n              entry = origMapGet.call(this._map, key);\n              if (entry) {\n                return entry.value;\n              } else {\n                return;\n              }\n            }\n            var head = this._head;\n            var i = head;\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                return i.value;\n              }\n            }\n          },\n\n          has: function has(key) {\n            requireMapSlot(this, 'has');\n            var fkey = fastkey(key, true);\n            if (fkey !== null) {\n              // fast O(1) path\n              return typeof this._storage[fkey] !== 'undefined';\n            }\n            if (this._map) {\n              // fast object key path\n              return origMapHas.call(this._map, key);\n            }\n            var head = this._head;\n            var i = head;\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                return true;\n              }\n            }\n            return false;\n          },\n\n          set: function set(key, value) {\n            requireMapSlot(this, 'set');\n            var head = this._head;\n            var i = head;\n            var entry;\n            var fkey = fastkey(key, true);\n            if (fkey !== null) {\n              // fast O(1) path\n              if (typeof this._storage[fkey] !== 'undefined') {\n                this._storage[fkey].value = value;\n                return this;\n              } else {\n                entry = this._storage[fkey] = new MapEntry(key, value); /* eslint no-multi-assign: 1 */\n                i = head.prev;\n                // fall through\n              }\n            } else if (this._map) {\n              // fast object key path\n              if (origMapHas.call(this._map, key)) {\n                origMapGet.call(this._map, key).value = value;\n              } else {\n                entry = new MapEntry(key, value);\n                origMapSet.call(this._map, key, entry);\n                i = head.prev;\n                // fall through\n              }\n            }\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                i.value = value;\n                return this;\n              }\n            }\n            entry = entry || new MapEntry(key, value);\n            if (ES.SameValue(-0, key)) {\n              entry.key = +0; // coerce -0 to +0 in entry\n            }\n            entry.next = this._head;\n            entry.prev = this._head.prev;\n            entry.prev.next = entry;\n            entry.next.prev = entry;\n            this._size += 1;\n            return this;\n          },\n\n          'delete': function (key) {\n            requireMapSlot(this, 'delete');\n            var head = this._head;\n            var i = head;\n            var fkey = fastkey(key, true);\n            if (fkey !== null) {\n              // fast O(1) path\n              if (typeof this._storage[fkey] === 'undefined') {\n                return false;\n              }\n              i = this._storage[fkey].prev;\n              delete this._storage[fkey];\n              // fall through\n            } else if (this._map) {\n              // fast object key path\n              if (!origMapHas.call(this._map, key)) {\n                return false;\n              }\n              i = origMapGet.call(this._map, key).prev;\n              origMapDelete.call(this._map, key);\n              // fall through\n            }\n            while ((i = i.next) !== head) {\n              if (ES.SameValueZero(i.key, key)) {\n                i.key = empty;\n                i.value = empty;\n                i.prev.next = i.next;\n                i.next.prev = i.prev;\n                this._size -= 1;\n                return true;\n              }\n            }\n            return false;\n          },\n\n          clear: function clear() {\n             /* eslint no-multi-assign: 1 */\n            requireMapSlot(this, 'clear');\n            this._map = OrigMap ? new OrigMap() : null;\n            this._size = 0;\n            this._storage = emptyObject();\n            var head = this._head;\n            var i = head;\n            var p = i.next;\n            while ((i = p) !== head) {\n              i.key = empty;\n              i.value = empty;\n              p = i.next;\n              i.next = i.prev = head;\n            }\n            head.next = head.prev = head;\n          },\n\n          keys: function keys() {\n            requireMapSlot(this, 'keys');\n            return new MapIterator(this, 'key');\n          },\n\n          values: function values() {\n            requireMapSlot(this, 'values');\n            return new MapIterator(this, 'value');\n          },\n\n          entries: function entries() {\n            requireMapSlot(this, 'entries');\n            return new MapIterator(this, 'key+value');\n          },\n\n          forEach: function forEach(callback) {\n            requireMapSlot(this, 'forEach');\n            var context = arguments.length > 1 ? arguments[1] : null;\n            var it = this.entries();\n            for (var entry = it.next(); !entry.done; entry = it.next()) {\n              if (context) {\n                _call(callback, context, entry.value[1], entry.value[0], this);\n              } else {\n                callback(entry.value[1], entry.value[0], this);\n              }\n            }\n          }\n        });\n        addIterator(Map$prototype, Map$prototype.entries);\n\n        return MapShim;\n      }()),\n\n      Set: (function () {\n        var isSet = function isSet(set) {\n          return set._es6set && typeof set._storage !== 'undefined';\n        };\n        var requireSetSlot = function requireSetSlot(set, method) {\n          if (!ES.TypeIsObject(set) || !isSet(set)) {\n            // https://github.com/paulmillr/es6-shim/issues/176\n            throw new TypeError('Set.prototype.' + method + ' called on incompatible receiver ' + ES.ToString(set));\n          }\n        };\n\n        // Creating a Map is expensive.  To speed up the common case of\n        // Sets containing only string or numeric keys, we use an object\n        // as backing storage and lazily create a full Map only when\n        // required.\n        var Set$prototype;\n        var SetShim = function Set() {\n          if (!(this instanceof Set)) {\n            throw new TypeError('Constructor Set requires \"new\"');\n          }\n          if (this && this._es6set) {\n            throw new TypeError('Bad construction');\n          }\n          var set = emulateES6construct(this, Set, Set$prototype, {\n            _es6set: true,\n            '[[SetData]]': null,\n            _storage: emptyObject()\n          });\n          if (!set._es6set) {\n            throw new TypeError('bad set');\n          }\n\n          // Optionally initialize Set from iterable\n          if (arguments.length > 0) {\n            addIterableToSet(Set, set, arguments[0]);\n          }\n          return set;\n        };\n        Set$prototype = SetShim.prototype;\n\n        var decodeKey = function (key) {\n          var k = key;\n          if (k === '^null') {\n            return null;\n          } else if (k === '^undefined') {\n            return void 0;\n          } else {\n            var first = k.charAt(0);\n            if (first === '$') {\n              return _strSlice(k, 1);\n            } else if (first === 'n') {\n              return +_strSlice(k, 1);\n            } else if (first === 'b') {\n              return k === 'btrue';\n            }\n          }\n          return +k;\n        };\n        // Switch from the object backing storage to a full Map.\n        var ensureMap = function ensureMap(set) {\n          if (!set['[[SetData]]']) {\n            var m = new collectionShims.Map();\n            set['[[SetData]]'] = m;\n            _forEach(keys(set._storage), function (key) {\n              var k = decodeKey(key);\n              m.set(k, k);\n            });\n            set['[[SetData]]'] = m;\n          }\n          set._storage = null; // free old backing storage\n        };\n\n        Value.getter(SetShim.prototype, 'size', function () {\n          requireSetSlot(this, 'size');\n          if (this._storage) {\n            return keys(this._storage).length;\n          }\n          ensureMap(this);\n          return this['[[SetData]]'].size;\n        });\n\n        defineProperties(SetShim.prototype, {\n          has: function has(key) {\n            requireSetSlot(this, 'has');\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              return !!this._storage[fkey];\n            }\n            ensureMap(this);\n            return this['[[SetData]]'].has(key);\n          },\n\n          add: function add(key) {\n            requireSetSlot(this, 'add');\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              this._storage[fkey] = true;\n              return this;\n            }\n            ensureMap(this);\n            this['[[SetData]]'].set(key, key);\n            return this;\n          },\n\n          'delete': function (key) {\n            requireSetSlot(this, 'delete');\n            var fkey;\n            if (this._storage && (fkey = fastkey(key)) !== null) {\n              var hasFKey = _hasOwnProperty(this._storage, fkey);\n              return (delete this._storage[fkey]) && hasFKey;\n            }\n            ensureMap(this);\n            return this['[[SetData]]']['delete'](key);\n          },\n\n          clear: function clear() {\n            requireSetSlot(this, 'clear');\n            if (this._storage) {\n              this._storage = emptyObject();\n            }\n            if (this['[[SetData]]']) {\n              this['[[SetData]]'].clear();\n            }\n          },\n\n          values: function values() {\n            requireSetSlot(this, 'values');\n            ensureMap(this);\n            return this['[[SetData]]'].values();\n          },\n\n          entries: function entries() {\n            requireSetSlot(this, 'entries');\n            ensureMap(this);\n            return this['[[SetData]]'].entries();\n          },\n\n          forEach: function forEach(callback) {\n            requireSetSlot(this, 'forEach');\n            var context = arguments.length > 1 ? arguments[1] : null;\n            var entireSet = this;\n            ensureMap(entireSet);\n            this['[[SetData]]'].forEach(function (value, key) {\n              if (context) {\n                _call(callback, context, key, key, entireSet);\n              } else {\n                callback(key, key, entireSet);\n              }\n            });\n          }\n        });\n        defineProperty(SetShim.prototype, 'keys', SetShim.prototype.values, true);\n        addIterator(SetShim.prototype, SetShim.prototype.values);\n\n        return SetShim;\n      }())\n    };\n\n    if (globals.Map || globals.Set) {\n      // Safari 8, for example, doesn't accept an iterable.\n      var mapAcceptsArguments = valueOrFalseIfThrows(function () { return new Map([[1, 2]]).get(1) === 2; });\n      if (!mapAcceptsArguments) {\n        globals.Map = function Map() {\n          if (!(this instanceof Map)) {\n            throw new TypeError('Constructor Map requires \"new\"');\n          }\n          var m = new OrigMap();\n          if (arguments.length > 0) {\n            addIterableToMap(Map, m, arguments[0]);\n          }\n          delete m.constructor;\n          Object.setPrototypeOf(m, globals.Map.prototype);\n          return m;\n        };\n        globals.Map.prototype = create(OrigMap.prototype);\n        defineProperty(globals.Map.prototype, 'constructor', globals.Map, true);\n        Value.preserveToString(globals.Map, OrigMap);\n      }\n      var testMap = new Map();\n      var mapUsesSameValueZero = (function () {\n        // Chrome 38-42, node 0.11/0.12, iojs 1/2 also have a bug when the Map has a size > 4\n        var m = new Map([[1, 0], [2, 0], [3, 0], [4, 0]]);\n        m.set(-0, m);\n        return m.get(0) === m && m.get(-0) === m && m.has(0) && m.has(-0);\n      }());\n      var mapSupportsChaining = testMap.set(1, 2) === testMap;\n      if (!mapUsesSameValueZero || !mapSupportsChaining) {\n        overrideNative(Map.prototype, 'set', function set(k, v) {\n          _call(origMapSet, this, k === 0 ? 0 : k, v);\n          return this;\n        });\n      }\n      if (!mapUsesSameValueZero) {\n        defineProperties(Map.prototype, {\n          get: function get(k) {\n            return _call(origMapGet, this, k === 0 ? 0 : k);\n          },\n          has: function has(k) {\n            return _call(origMapHas, this, k === 0 ? 0 : k);\n          }\n        }, true);\n        Value.preserveToString(Map.prototype.get, origMapGet);\n        Value.preserveToString(Map.prototype.has, origMapHas);\n      }\n      var testSet = new Set();\n      var setUsesSameValueZero = (function (s) {\n        s['delete'](0);\n        s.add(-0);\n        return !s.has(0);\n      }(testSet));\n      var setSupportsChaining = testSet.add(1) === testSet;\n      if (!setUsesSameValueZero || !setSupportsChaining) {\n        var origSetAdd = Set.prototype.add;\n        Set.prototype.add = function add(v) {\n          _call(origSetAdd, this, v === 0 ? 0 : v);\n          return this;\n        };\n        Value.preserveToString(Set.prototype.add, origSetAdd);\n      }\n      if (!setUsesSameValueZero) {\n        var origSetHas = Set.prototype.has;\n        Set.prototype.has = function has(v) {\n          return _call(origSetHas, this, v === 0 ? 0 : v);\n        };\n        Value.preserveToString(Set.prototype.has, origSetHas);\n        var origSetDel = Set.prototype['delete'];\n        Set.prototype['delete'] = function SetDelete(v) {\n          return _call(origSetDel, this, v === 0 ? 0 : v);\n        };\n        Value.preserveToString(Set.prototype['delete'], origSetDel);\n      }\n      var mapSupportsSubclassing = supportsSubclassing(globals.Map, function (M) {\n        var m = new M([]);\n        // Firefox 32 is ok with the instantiating the subclass but will\n        // throw when the map is used.\n        m.set(42, 42);\n        return m instanceof M;\n      });\n      // without Object.setPrototypeOf, subclassing is not possible\n      var mapFailsToSupportSubclassing = Object.setPrototypeOf && !mapSupportsSubclassing;\n      var mapRequiresNew = (function () {\n        try {\n          return !(globals.Map() instanceof globals.Map);\n        } catch (e) {\n          return e instanceof TypeError;\n        }\n      }());\n      if (globals.Map.length !== 0 || mapFailsToSupportSubclassing || !mapRequiresNew) {\n        globals.Map = function Map() {\n          if (!(this instanceof Map)) {\n            throw new TypeError('Constructor Map requires \"new\"');\n          }\n          var m = new OrigMap();\n          if (arguments.length > 0) {\n            addIterableToMap(Map, m, arguments[0]);\n          }\n          delete m.constructor;\n          Object.setPrototypeOf(m, Map.prototype);\n          return m;\n        };\n        globals.Map.prototype = OrigMap.prototype;\n        defineProperty(globals.Map.prototype, 'constructor', globals.Map, true);\n        Value.preserveToString(globals.Map, OrigMap);\n      }\n      var setSupportsSubclassing = supportsSubclassing(globals.Set, function (S) {\n        var s = new S([]);\n        s.add(42, 42);\n        return s instanceof S;\n      });\n      // without Object.setPrototypeOf, subclassing is not possible\n      var setFailsToSupportSubclassing = Object.setPrototypeOf && !setSupportsSubclassing;\n      var setRequiresNew = (function () {\n        try {\n          return !(globals.Set() instanceof globals.Set);\n        } catch (e) {\n          return e instanceof TypeError;\n        }\n      }());\n      if (globals.Set.length !== 0 || setFailsToSupportSubclassing || !setRequiresNew) {\n        var OrigSet = globals.Set;\n        globals.Set = function Set() {\n          if (!(this instanceof Set)) {\n            throw new TypeError('Constructor Set requires \"new\"');\n          }\n          var s = new OrigSet();\n          if (arguments.length > 0) {\n            addIterableToSet(Set, s, arguments[0]);\n          }\n          delete s.constructor;\n          Object.setPrototypeOf(s, Set.prototype);\n          return s;\n        };\n        globals.Set.prototype = OrigSet.prototype;\n        defineProperty(globals.Set.prototype, 'constructor', globals.Set, true);\n        Value.preserveToString(globals.Set, OrigSet);\n      }\n      var newMap = new globals.Map();\n      var mapIterationThrowsStopIterator = !valueOrFalseIfThrows(function () {\n        return newMap.keys().next().done;\n      });\n      /*\n        - In Firefox < 23, Map#size is a function.\n        - In all current Firefox, Set#entries/keys/values & Map#clear do not exist\n        - https://bugzilla.mozilla.org/show_bug.cgi?id=869996\n        - In Firefox 24, Map and Set do not implement forEach\n        - In Firefox 25 at least, Map and Set are callable without \"new\"\n      */\n      if (\n        typeof globals.Map.prototype.clear !== 'function' ||\n        new globals.Set().size !== 0 ||\n        newMap.size !== 0 ||\n        typeof globals.Map.prototype.keys !== 'function' ||\n        typeof globals.Set.prototype.keys !== 'function' ||\n        typeof globals.Map.prototype.forEach !== 'function' ||\n        typeof globals.Set.prototype.forEach !== 'function' ||\n        isCallableWithoutNew(globals.Map) ||\n        isCallableWithoutNew(globals.Set) ||\n        typeof newMap.keys().next !== 'function' || // Safari 8\n        mapIterationThrowsStopIterator || // Firefox 25\n        !mapSupportsSubclassing\n      ) {\n        defineProperties(globals, {\n          Map: collectionShims.Map,\n          Set: collectionShims.Set\n        }, true);\n      }\n\n      if (globals.Set.prototype.keys !== globals.Set.prototype.values) {\n        // Fixed in WebKit with https://bugs.webkit.org/show_bug.cgi?id=144190\n        defineProperty(globals.Set.prototype, 'keys', globals.Set.prototype.values, true);\n      }\n\n      // Shim incomplete iterator implementations.\n      addIterator(Object.getPrototypeOf((new globals.Map()).keys()));\n      addIterator(Object.getPrototypeOf((new globals.Set()).keys()));\n\n      if (functionsHaveNames && globals.Set.prototype.has.name !== 'has') {\n        // Microsoft Edge v0.11.10074.0 is missing a name on Set#has\n        var anonymousSetHas = globals.Set.prototype.has;\n        overrideNative(globals.Set.prototype, 'has', function has(key) {\n          return _call(anonymousSetHas, this, key);\n        });\n      }\n    }\n    defineProperties(globals, collectionShims);\n    addDefaultSpecies(globals.Map);\n    addDefaultSpecies(globals.Set);\n  }\n\n  var throwUnlessTargetIsObject = function throwUnlessTargetIsObject(target) {\n    if (!ES.TypeIsObject(target)) {\n      throw new TypeError('target must be an object');\n    }\n  };\n\n  // Some Reflect methods are basically the same as\n  // those on the Object global, except that a TypeError is thrown if\n  // target isn't an object. As well as returning a boolean indicating\n  // the success of the operation.\n  var ReflectShims = {\n    // Apply method in a functional form.\n    apply: function apply() {\n      return ES.Call(ES.Call, null, arguments);\n    },\n\n    // New operator in a functional form.\n    construct: function construct(constructor, args) {\n      if (!ES.IsConstructor(constructor)) {\n        throw new TypeError('First argument must be a constructor.');\n      }\n      var newTarget = arguments.length > 2 ? arguments[2] : constructor;\n      if (!ES.IsConstructor(newTarget)) {\n        throw new TypeError('new.target must be a constructor.');\n      }\n      return ES.Construct(constructor, args, newTarget, 'internal');\n    },\n\n    // When deleting a non-existent or configurable property,\n    // true is returned.\n    // When attempting to delete a non-configurable property,\n    // it will return false.\n    deleteProperty: function deleteProperty(target, key) {\n      throwUnlessTargetIsObject(target);\n      if (supportsDescriptors) {\n        var desc = Object.getOwnPropertyDescriptor(target, key);\n\n        if (desc && !desc.configurable) {\n          return false;\n        }\n      }\n\n      // Will return true.\n      return delete target[key];\n    },\n\n    has: function has(target, key) {\n      throwUnlessTargetIsObject(target);\n      return key in target;\n    }\n  };\n\n  if (Object.getOwnPropertyNames) {\n    Object.assign(ReflectShims, {\n      // Basically the result of calling the internal [[OwnPropertyKeys]].\n      // Concatenating propertyNames and propertySymbols should do the trick.\n      // This should continue to work together with a Symbol shim\n      // which overrides Object.getOwnPropertyNames and implements\n      // Object.getOwnPropertySymbols.\n      ownKeys: function ownKeys(target) {\n        throwUnlessTargetIsObject(target);\n        var keys = Object.getOwnPropertyNames(target);\n\n        if (ES.IsCallable(Object.getOwnPropertySymbols)) {\n          _pushApply(keys, Object.getOwnPropertySymbols(target));\n        }\n\n        return keys;\n      }\n    });\n  }\n\n  var callAndCatchException = function ConvertExceptionToBoolean(func) {\n    return !throwsError(func);\n  };\n\n  if (Object.preventExtensions) {\n    Object.assign(ReflectShims, {\n      isExtensible: function isExtensible(target) {\n        throwUnlessTargetIsObject(target);\n        return Object.isExtensible(target);\n      },\n      preventExtensions: function preventExtensions(target) {\n        throwUnlessTargetIsObject(target);\n        return callAndCatchException(function () {\n          Object.preventExtensions(target);\n        });\n      }\n    });\n  }\n\n  if (supportsDescriptors) {\n    var internalGet = function get(target, key, receiver) {\n      var desc = Object.getOwnPropertyDescriptor(target, key);\n\n      if (!desc) {\n        var parent = Object.getPrototypeOf(target);\n\n        if (parent === null) {\n          return void 0;\n        }\n\n        return internalGet(parent, key, receiver);\n      }\n\n      if ('value' in desc) {\n        return desc.value;\n      }\n\n      if (desc.get) {\n        return ES.Call(desc.get, receiver);\n      }\n\n      return void 0;\n    };\n\n    var internalSet = function set(target, key, value, receiver) {\n      var desc = Object.getOwnPropertyDescriptor(target, key);\n\n      if (!desc) {\n        var parent = Object.getPrototypeOf(target);\n\n        if (parent !== null) {\n          return internalSet(parent, key, value, receiver);\n        }\n\n        desc = {\n          value: void 0,\n          writable: true,\n          enumerable: true,\n          configurable: true\n        };\n      }\n\n      if ('value' in desc) {\n        if (!desc.writable) {\n          return false;\n        }\n\n        if (!ES.TypeIsObject(receiver)) {\n          return false;\n        }\n\n        var existingDesc = Object.getOwnPropertyDescriptor(receiver, key);\n\n        if (existingDesc) {\n          return Reflect.defineProperty(receiver, key, {\n            value: value\n          });\n        } else {\n          return Reflect.defineProperty(receiver, key, {\n            value: value,\n            writable: true,\n            enumerable: true,\n            configurable: true\n          });\n        }\n      }\n\n      if (desc.set) {\n        _call(desc.set, receiver, value);\n        return true;\n      }\n\n      return false;\n    };\n\n    Object.assign(ReflectShims, {\n      defineProperty: function defineProperty(target, propertyKey, attributes) {\n        throwUnlessTargetIsObject(target);\n        return callAndCatchException(function () {\n          Object.defineProperty(target, propertyKey, attributes);\n        });\n      },\n\n      getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {\n        throwUnlessTargetIsObject(target);\n        return Object.getOwnPropertyDescriptor(target, propertyKey);\n      },\n\n      // Syntax in a functional form.\n      get: function get(target, key) {\n        throwUnlessTargetIsObject(target);\n        var receiver = arguments.length > 2 ? arguments[2] : target;\n\n        return internalGet(target, key, receiver);\n      },\n\n      set: function set(target, key, value) {\n        throwUnlessTargetIsObject(target);\n        var receiver = arguments.length > 3 ? arguments[3] : target;\n\n        return internalSet(target, key, value, receiver);\n      }\n    });\n  }\n\n  if (Object.getPrototypeOf) {\n    var objectDotGetPrototypeOf = Object.getPrototypeOf;\n    ReflectShims.getPrototypeOf = function getPrototypeOf(target) {\n      throwUnlessTargetIsObject(target);\n      return objectDotGetPrototypeOf(target);\n    };\n  }\n\n  if (Object.setPrototypeOf && ReflectShims.getPrototypeOf) {\n    var willCreateCircularPrototype = function (object, lastProto) {\n      var proto = lastProto;\n      while (proto) {\n        if (object === proto) {\n          return true;\n        }\n        proto = ReflectShims.getPrototypeOf(proto);\n      }\n      return false;\n    };\n\n    Object.assign(ReflectShims, {\n      // Sets the prototype of the given object.\n      // Returns true on success, otherwise false.\n      setPrototypeOf: function setPrototypeOf(object, proto) {\n        throwUnlessTargetIsObject(object);\n        if (proto !== null && !ES.TypeIsObject(proto)) {\n          throw new TypeError('proto must be an object or null');\n        }\n\n        // If they already are the same, we're done.\n        if (proto === Reflect.getPrototypeOf(object)) {\n          return true;\n        }\n\n        // Cannot alter prototype if object not extensible.\n        if (Reflect.isExtensible && !Reflect.isExtensible(object)) {\n          return false;\n        }\n\n        // Ensure that we do not create a circular prototype chain.\n        if (willCreateCircularPrototype(object, proto)) {\n          return false;\n        }\n\n        Object.setPrototypeOf(object, proto);\n\n        return true;\n      }\n    });\n  }\n  var defineOrOverrideReflectProperty = function (key, shim) {\n    if (!ES.IsCallable(globals.Reflect[key])) {\n      defineProperty(globals.Reflect, key, shim);\n    } else {\n      var acceptsPrimitives = valueOrFalseIfThrows(function () {\n        globals.Reflect[key](1);\n        globals.Reflect[key](NaN);\n        globals.Reflect[key](true);\n        return true;\n      });\n      if (acceptsPrimitives) {\n        overrideNative(globals.Reflect, key, shim);\n      }\n    }\n  };\n  Object.keys(ReflectShims).forEach(function (key) {\n    defineOrOverrideReflectProperty(key, ReflectShims[key]);\n  });\n  var originalReflectGetProto = globals.Reflect.getPrototypeOf;\n  if (functionsHaveNames && originalReflectGetProto && originalReflectGetProto.name !== 'getPrototypeOf') {\n    overrideNative(globals.Reflect, 'getPrototypeOf', function getPrototypeOf(target) {\n      return _call(originalReflectGetProto, globals.Reflect, target);\n    });\n  }\n  if (globals.Reflect.setPrototypeOf) {\n    if (valueOrFalseIfThrows(function () {\n      globals.Reflect.setPrototypeOf(1, {});\n      return true;\n    })) {\n      overrideNative(globals.Reflect, 'setPrototypeOf', ReflectShims.setPrototypeOf);\n    }\n  }\n  if (globals.Reflect.defineProperty) {\n    if (!valueOrFalseIfThrows(function () {\n      var basic = !globals.Reflect.defineProperty(1, 'test', { value: 1 });\n      // \"extensible\" fails on Edge 0.12\n      var extensible = typeof Object.preventExtensions !== 'function' || !globals.Reflect.defineProperty(Object.preventExtensions({}), 'test', {});\n      return basic && extensible;\n    })) {\n      overrideNative(globals.Reflect, 'defineProperty', ReflectShims.defineProperty);\n    }\n  }\n  if (globals.Reflect.construct) {\n    if (!valueOrFalseIfThrows(function () {\n      var F = function F() {};\n      return globals.Reflect.construct(function () {}, [], F) instanceof F;\n    })) {\n      overrideNative(globals.Reflect, 'construct', ReflectShims.construct);\n    }\n  }\n\n  if (String(new Date(NaN)) !== 'Invalid Date') {\n    var dateToString = Date.prototype.toString;\n    var shimmedDateToString = function toString() {\n      var valueOf = +this;\n      if (valueOf !== valueOf) {\n        return 'Invalid Date';\n      }\n      return ES.Call(dateToString, this);\n    };\n    overrideNative(Date.prototype, 'toString', shimmedDateToString);\n  }\n\n  // Annex B HTML methods\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-additional-properties-of-the-string.prototype-object\n  var stringHTMLshims = {\n    anchor: function anchor(name) { return ES.CreateHTML(this, 'a', 'name', name); },\n    big: function big() { return ES.CreateHTML(this, 'big', '', ''); },\n    blink: function blink() { return ES.CreateHTML(this, 'blink', '', ''); },\n    bold: function bold() { return ES.CreateHTML(this, 'b', '', ''); },\n    fixed: function fixed() { return ES.CreateHTML(this, 'tt', '', ''); },\n    fontcolor: function fontcolor(color) { return ES.CreateHTML(this, 'font', 'color', color); },\n    fontsize: function fontsize(size) { return ES.CreateHTML(this, 'font', 'size', size); },\n    italics: function italics() { return ES.CreateHTML(this, 'i', '', ''); },\n    link: function link(url) { return ES.CreateHTML(this, 'a', 'href', url); },\n    small: function small() { return ES.CreateHTML(this, 'small', '', ''); },\n    strike: function strike() { return ES.CreateHTML(this, 'strike', '', ''); },\n    sub: function sub() { return ES.CreateHTML(this, 'sub', '', ''); },\n    sup: function sub() { return ES.CreateHTML(this, 'sup', '', ''); }\n  };\n  _forEach(Object.keys(stringHTMLshims), function (key) {\n    var method = String.prototype[key];\n    var shouldOverwrite = false;\n    if (ES.IsCallable(method)) {\n      var output = _call(method, '', ' \" ');\n      var quotesCount = _concat([], output.match(/\"/g)).length;\n      shouldOverwrite = output !== output.toLowerCase() || quotesCount > 2;\n    } else {\n      shouldOverwrite = true;\n    }\n    if (shouldOverwrite) {\n      overrideNative(String.prototype, key, stringHTMLshims[key]);\n    }\n  });\n\n  var JSONstringifiesSymbols = (function () {\n    // Microsoft Edge v0.12 stringifies Symbols incorrectly\n    if (!hasSymbols) { return false; } // Symbols are not supported\n    var stringify = typeof JSON === 'object' && typeof JSON.stringify === 'function' ? JSON.stringify : null;\n    if (!stringify) { return false; } // JSON.stringify is not supported\n    if (typeof stringify(Symbol()) !== 'undefined') { return true; } // Symbols should become `undefined`\n    if (stringify([Symbol()]) !== '[null]') { return true; } // Symbols in arrays should become `null`\n    var obj = { a: Symbol() };\n    obj[Symbol()] = true;\n    if (stringify(obj) !== '{}') { return true; } // Symbol-valued keys *and* Symbol-valued properties should be omitted\n    return false;\n  }());\n  var JSONstringifyAcceptsObjectSymbol = valueOrFalseIfThrows(function () {\n    // Chrome 45 throws on stringifying object symbols\n    if (!hasSymbols) { return true; } // Symbols are not supported\n    return JSON.stringify(Object(Symbol())) === '{}' && JSON.stringify([Object(Symbol())]) === '[{}]';\n  });\n  if (JSONstringifiesSymbols || !JSONstringifyAcceptsObjectSymbol) {\n    var origStringify = JSON.stringify;\n    overrideNative(JSON, 'stringify', function stringify(value) {\n      if (typeof value === 'symbol') { return; }\n      var replacer;\n      if (arguments.length > 1) {\n        replacer = arguments[1];\n      }\n      var args = [value];\n      if (!isArray(replacer)) {\n        var replaceFn = ES.IsCallable(replacer) ? replacer : null;\n        var wrappedReplacer = function (key, val) {\n          var parsedValue = replaceFn ? _call(replaceFn, this, key, val) : val;\n          if (typeof parsedValue !== 'symbol') {\n            if (Type.symbol(parsedValue)) {\n              return assignTo({})(parsedValue);\n            } else {\n              return parsedValue;\n            }\n          }\n        };\n        args.push(wrappedReplacer);\n      } else {\n        // create wrapped replacer that handles an array replacer?\n        args.push(replacer);\n      }\n      if (arguments.length > 2) {\n        args.push(arguments[2]);\n      }\n      return origStringify.apply(this, args);\n    });\n  }\n\n  return globals;\n}));\n","'use strict';\n\n// modified from https://github.com/es-shims/es5-shim\nvar has = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\nvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\nvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\nvar dontEnums = [\n\t'toString',\n\t'toLocaleString',\n\t'valueOf',\n\t'hasOwnProperty',\n\t'isPrototypeOf',\n\t'propertyIsEnumerable',\n\t'constructor'\n];\nvar equalsConstructorPrototype = function (o) {\n\tvar ctor = o.constructor;\n\treturn ctor && ctor.prototype === o;\n};\nvar excludedKeys = {\n\t$console: true,\n\t$external: true,\n\t$frame: true,\n\t$frameElement: true,\n\t$frames: true,\n\t$innerHeight: true,\n\t$innerWidth: true,\n\t$outerHeight: true,\n\t$outerWidth: true,\n\t$pageXOffset: true,\n\t$pageYOffset: true,\n\t$parent: true,\n\t$scrollLeft: true,\n\t$scrollTop: true,\n\t$scrollX: true,\n\t$scrollY: true,\n\t$self: true,\n\t$webkitIndexedDB: true,\n\t$webkitStorageInfo: true,\n\t$window: true\n};\nvar hasAutomationEqualityBug = (function () {\n\t/* global window */\n\tif (typeof window === 'undefined') { return false; }\n\tfor (var k in window) {\n\t\ttry {\n\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\ttry {\n\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}());\nvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t/* global window */\n\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\treturn equalsConstructorPrototype(o);\n\t}\n\ttry {\n\t\treturn equalsConstructorPrototype(o);\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar keysShim = function keys(object) {\n\tvar isObject = object !== null && typeof object === 'object';\n\tvar isFunction = toStr.call(object) === '[object Function]';\n\tvar isArguments = isArgs(object);\n\tvar isString = isObject && toStr.call(object) === '[object String]';\n\tvar theKeys = [];\n\n\tif (!isObject && !isFunction && !isArguments) {\n\t\tthrow new TypeError('Object.keys called on a non-object');\n\t}\n\n\tvar skipProto = hasProtoEnumBug && isFunction;\n\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\ttheKeys.push(String(i));\n\t\t}\n\t}\n\n\tif (isArguments && object.length > 0) {\n\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\ttheKeys.push(String(j));\n\t\t}\n\t} else {\n\t\tfor (var name in object) {\n\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\ttheKeys.push(String(name));\n\t\t\t}\n\t\t}\n\t}\n\n\tif (hasDontEnumBug) {\n\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t}\n\t\t}\n\t}\n\treturn theKeys;\n};\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\treturn (Object.keys(arguments) || '').length === 2;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tvar originalKeys = Object.keys;\n\t\t\tObject.keys = function keys(object) {\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t} else {\n\t\t\t\t\treturn originalKeys(object);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n","'use strict';\n\nvar keys = require('object-keys');\nvar foreach = require('foreach');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol() === 'symbol';\n\nvar toStr = Object.prototype.toString;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\tObject.defineProperty(obj, 'x', { enumerable: false, value: obj });\n        /* eslint-disable no-unused-vars, no-restricted-syntax */\n        for (var _ in obj) { return false; }\n        /* eslint-enable no-unused-vars, no-restricted-syntax */\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = Object.defineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\tObject.defineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = props.concat(Object.getOwnPropertySymbols(map));\n\t}\n\tforeach(props, function (name) {\n\t\tdefineProperty(object, name, map[name], predicates[name]);\n\t});\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","module.exports = typeof function foo() {}.name === 'string'; // when function names are minified, checking for \"foo\" would break\n","'use strict';\n\nvar fnToStr = Function.prototype.toString;\n\nvar constructorRegex = /^\\s*class /;\nvar isES6ClassFn = function isES6ClassFn(value) {\n\ttry {\n\t\tvar fnStr = fnToStr.call(value);\n\t\tvar singleStripped = fnStr.replace(/\\/\\/.*\\n/g, '');\n\t\tvar multiStripped = singleStripped.replace(/\\/\\*[.\\s\\S]*\\*\\//g, '');\n\t\tvar spaceStripped = multiStripped.replace(/\\n/mg, ' ').replace(/ {2}/g, ' ');\n\t\treturn constructorRegex.test(spaceStripped);\n\t} catch (e) {\n\t\treturn false; // not a function\n\t}\n};\n\nvar tryFunctionObject = function tryFunctionObject(value) {\n\ttry {\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tfnToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar fnClass = '[object Function]';\nvar genClass = '[object GeneratorFunction]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isCallable(value) {\n\tif (!value) { return false; }\n\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\tif (hasToStringTag) { return tryFunctionObject(value); }\n\tif (isES6ClassFn(value)) { return false; }\n\tvar strClass = toStr.call(value);\n\treturn strClass === fnClass || strClass === genClass;\n};\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar isCallable = require('is-callable');\nvar functionsHaveNames = require('./helpers/functionsHaveNames');\nvar bind = require('function-bind');\nvar functionToString = bind.call(Function.call, Function.prototype.toString);\nvar stringMatch = bind.call(Function.call, String.prototype.match);\n\nvar classRegex = /^class /;\n\nvar isClass = function isClassConstructor(fn) {\n\tif (isCallable(fn)) {\n\t\treturn false;\n\t}\n\tif (typeof fn !== 'function') {\n\t\treturn false;\n\t}\n\ttry {\n\t\tvar match = stringMatch(functionToString(fn), classRegex);\n\t\treturn !!match;\n\t} catch (e) {}\n\treturn false;\n};\n\nvar regex = /\\s*function\\s+([^(\\s]*)\\s*/;\n\nvar functionProto = Function.prototype;\n\nmodule.exports = function getName() {\n\tif (!isClass(this) && !isCallable(this)) {\n\t\tthrow new TypeError('Function.prototype.name sham getter called on non-function');\n\t}\n\tif (functionsHaveNames) {\n\t\treturn this.name;\n\t}\n\tif (this === functionProto) {\n\t\treturn '';\n\t}\n\tvar str = functionToString(this);\n\tvar match = stringMatch(str, regex);\n\tvar name = match && match[1];\n\treturn name;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn implementation;\n};\n","'use strict';\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar functionsHaveNames = require('./helpers/functionsHaveNames');\nvar getPolyfill = require('./polyfill');\nvar defineProperty = Object.defineProperty;\nvar TypeErr = TypeError;\n\nmodule.exports = function shimName() {\n\tvar polyfill = getPolyfill();\n\tif (functionsHaveNames) {\n\t\treturn polyfill;\n\t}\n\tif (!supportsDescriptors) {\n\t\tthrow new TypeErr('Shimming Function.prototype.name support requires ES5 property descriptor support.');\n\t}\n\tvar functionProto = Function.prototype;\n\tdefineProperty(functionProto, 'name', {\n\t\tconfigurable: true,\n\t\tenumerable: false,\n\t\tget: function () {\n\t\t\tvar name = polyfill.call(this);\n\t\t\tif (this !== functionProto) {\n\t\t\t\tdefineProperty(this, 'name', {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: false,\n\t\t\t\t\tvalue: name,\n\t\t\t\t\twritable: false\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn name;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","var bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","module.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","var $isNaN = Number.isNaN || function (a) { return a !== a; };\n\nmodule.exports = Number.isFinite || function (x) { return typeof x === 'number' && !$isNaN(x) && x !== Infinity && x !== -Infinity; };\n","var has = Object.prototype.hasOwnProperty;\nmodule.exports = function assign(target, source) {\n\tif (Object.assign) {\n\t\treturn Object.assign(target, source);\n\t}\n\tfor (var key in source) {\n\t\tif (has.call(source, key)) {\n\t\t\ttarget[key] = source[key];\n\t\t}\n\t}\n\treturn target;\n};\n","module.exports = function sign(number) {\n\treturn number >= 0 ? 1 : -1;\n};\n","module.exports = function mod(number, modulo) {\n\tvar remain = number % modulo;\n\treturn Math.floor(remain >= 0 ? remain : remain + modulo);\n};\n","module.exports = function isPrimitive(value) {\n\treturn value === null || (typeof value !== 'function' && typeof value !== 'object');\n};\n","module.exports = function isPrimitive(value) {\n\treturn value === null || (typeof value !== 'function' && typeof value !== 'object');\n};\n","'use strict';\n\nvar getDay = Date.prototype.getDay;\nvar tryDateObject = function tryDateObject(value) {\n\ttry {\n\t\tgetDay.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar toStr = Object.prototype.toString;\nvar dateClass = '[object Date]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isDateObject(value) {\n\tif (typeof value !== 'object' || value === null) { return false; }\n\treturn hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;\n};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol() === 'symbol';\n\nif (hasSymbols) {\n\tvar symToStr = Symbol.prototype.toString;\n\tvar symStringRegex = /^Symbol\\(.*\\)$/;\n\tvar isSymbolObject = function isSymbolObject(value) {\n\t\tif (typeof value.valueOf() !== 'symbol') { return false; }\n\t\treturn symStringRegex.test(symToStr.call(value));\n\t};\n\tmodule.exports = function isSymbol(value) {\n\t\tif (typeof value === 'symbol') { return true; }\n\t\tif (toStr.call(value) !== '[object Symbol]') { return false; }\n\t\ttry {\n\t\t\treturn isSymbolObject(value);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n} else {\n\tmodule.exports = function isSymbol(value) {\n\t\t// this environment does not support Symbols.\n\t\treturn false;\n\t};\n}\n","'use strict';\n\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol';\n\nvar isPrimitive = require('./helpers/isPrimitive');\nvar isCallable = require('is-callable');\nvar isDate = require('is-date-object');\nvar isSymbol = require('is-symbol');\n\nvar ordinaryToPrimitive = function OrdinaryToPrimitive(O, hint) {\n\tif (typeof O === 'undefined' || O === null) {\n\t\tthrow new TypeError('Cannot call method on ' + O);\n\t}\n\tif (typeof hint !== 'string' || (hint !== 'number' && hint !== 'string')) {\n\t\tthrow new TypeError('hint must be \"string\" or \"number\"');\n\t}\n\tvar methodNames = hint === 'string' ? ['toString', 'valueOf'] : ['valueOf', 'toString'];\n\tvar method, result, i;\n\tfor (i = 0; i < methodNames.length; ++i) {\n\t\tmethod = O[methodNames[i]];\n\t\tif (isCallable(method)) {\n\t\t\tresult = method.call(O);\n\t\t\tif (isPrimitive(result)) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t}\n\tthrow new TypeError('No default value');\n};\n\nvar GetMethod = function GetMethod(O, P) {\n\tvar func = O[P];\n\tif (func !== null && typeof func !== 'undefined') {\n\t\tif (!isCallable(func)) {\n\t\t\tthrow new TypeError(func + ' returned for property ' + P + ' of object ' + O + ' is not a function');\n\t\t}\n\t\treturn func;\n\t}\n};\n\n// http://www.ecma-international.org/ecma-262/6.0/#sec-toprimitive\nmodule.exports = function ToPrimitive(input, PreferredType) {\n\tif (isPrimitive(input)) {\n\t\treturn input;\n\t}\n\tvar hint = 'default';\n\tif (arguments.length > 1) {\n\t\tif (PreferredType === String) {\n\t\t\thint = 'string';\n\t\t} else if (PreferredType === Number) {\n\t\t\thint = 'number';\n\t\t}\n\t}\n\n\tvar exoticToPrim;\n\tif (hasSymbols) {\n\t\tif (Symbol.toPrimitive) {\n\t\t\texoticToPrim = GetMethod(input, Symbol.toPrimitive);\n\t\t} else if (isSymbol(input)) {\n\t\t\texoticToPrim = Symbol.prototype.valueOf;\n\t\t}\n\t}\n\tif (typeof exoticToPrim !== 'undefined') {\n\t\tvar result = exoticToPrim.call(input, hint);\n\t\tif (isPrimitive(result)) {\n\t\t\treturn result;\n\t\t}\n\t\tthrow new TypeError('unable to convert exotic object to primitive');\n\t}\n\tif (hint === 'default' && (isDate(input) || isSymbol(input))) {\n\t\thint = 'string';\n\t}\n\treturn ordinaryToPrimitive(input, hint === 'default' ? 'number' : hint);\n};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nvar isPrimitive = require('./helpers/isPrimitive');\n\nvar isCallable = require('is-callable');\n\n// https://es5.github.io/#x8.12\nvar ES5internalSlots = {\n\t'[[DefaultValue]]': function (O, hint) {\n\t\tvar actualHint = hint || (toStr.call(O) === '[object Date]' ? String : Number);\n\n\t\tif (actualHint === String || actualHint === Number) {\n\t\t\tvar methods = actualHint === String ? ['toString', 'valueOf'] : ['valueOf', 'toString'];\n\t\t\tvar value, i;\n\t\t\tfor (i = 0; i < methods.length; ++i) {\n\t\t\t\tif (isCallable(O[methods[i]])) {\n\t\t\t\t\tvalue = O[methods[i]]();\n\t\t\t\t\tif (isPrimitive(value)) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthrow new TypeError('No default value');\n\t\t}\n\t\tthrow new TypeError('invalid [[DefaultValue]] hint supplied');\n\t}\n};\n\n// https://es5.github.io/#x9\nmodule.exports = function ToPrimitive(input, PreferredType) {\n\tif (isPrimitive(input)) {\n\t\treturn input;\n\t}\n\treturn ES5internalSlots['[[DefaultValue]]'](input, PreferredType);\n};\n","'use strict';\n\nvar $isNaN = require('./helpers/isNaN');\nvar $isFinite = require('./helpers/isFinite');\n\nvar sign = require('./helpers/sign');\nvar mod = require('./helpers/mod');\n\nvar IsCallable = require('is-callable');\nvar toPrimitive = require('es-to-primitive/es5');\n\nvar has = require('has');\n\n// https://es5.github.io/#x9\nvar ES5 = {\n\tToPrimitive: toPrimitive,\n\n\tToBoolean: function ToBoolean(value) {\n\t\treturn !!value;\n\t},\n\tToNumber: function ToNumber(value) {\n\t\treturn Number(value);\n\t},\n\tToInteger: function ToInteger(value) {\n\t\tvar number = this.ToNumber(value);\n\t\tif ($isNaN(number)) { return 0; }\n\t\tif (number === 0 || !$isFinite(number)) { return number; }\n\t\treturn sign(number) * Math.floor(Math.abs(number));\n\t},\n\tToInt32: function ToInt32(x) {\n\t\treturn this.ToNumber(x) >> 0;\n\t},\n\tToUint32: function ToUint32(x) {\n\t\treturn this.ToNumber(x) >>> 0;\n\t},\n\tToUint16: function ToUint16(value) {\n\t\tvar number = this.ToNumber(value);\n\t\tif ($isNaN(number) || number === 0 || !$isFinite(number)) { return 0; }\n\t\tvar posInt = sign(number) * Math.floor(Math.abs(number));\n\t\treturn mod(posInt, 0x10000);\n\t},\n\tToString: function ToString(value) {\n\t\treturn String(value);\n\t},\n\tToObject: function ToObject(value) {\n\t\tthis.CheckObjectCoercible(value);\n\t\treturn Object(value);\n\t},\n\tCheckObjectCoercible: function CheckObjectCoercible(value, optMessage) {\n\t\t/* jshint eqnull:true */\n\t\tif (value == null) {\n\t\t\tthrow new TypeError(optMessage || 'Cannot call method on ' + value);\n\t\t}\n\t\treturn value;\n\t},\n\tIsCallable: IsCallable,\n\tSameValue: function SameValue(x, y) {\n\t\tif (x === y) { // 0 === -0, but they are not identical.\n\t\t\tif (x === 0) { return 1 / x === 1 / y; }\n\t\t\treturn true;\n\t\t}\n\t\treturn $isNaN(x) && $isNaN(y);\n\t},\n\n\t// http://www.ecma-international.org/ecma-262/5.1/#sec-8\n\tType: function Type(x) {\n\t\tif (x === null) {\n\t\t\treturn 'Null';\n\t\t}\n\t\tif (typeof x === 'undefined') {\n\t\t\treturn 'Undefined';\n\t\t}\n\t\tif (typeof x === 'function' || typeof x === 'object') {\n\t\t\treturn 'Object';\n\t\t}\n\t\tif (typeof x === 'number') {\n\t\t\treturn 'Number';\n\t\t}\n\t\tif (typeof x === 'boolean') {\n\t\t\treturn 'Boolean';\n\t\t}\n\t\tif (typeof x === 'string') {\n\t\t\treturn 'String';\n\t\t}\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n\tIsPropertyDescriptor: function IsPropertyDescriptor(Desc) {\n\t\tif (this.Type(Desc) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tvar allowed = {\n\t\t\t'[[Configurable]]': true,\n\t\t\t'[[Enumerable]]': true,\n\t\t\t'[[Get]]': true,\n\t\t\t'[[Set]]': true,\n\t\t\t'[[Value]]': true,\n\t\t\t'[[Writable]]': true\n\t\t};\n\t\t// jscs:disable\n\t\tfor (var key in Desc) { // eslint-disable-line\n\t\t\tif (has(Desc, key) && !allowed[key]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t// jscs:enable\n\t\tvar isData = has(Desc, '[[Value]]');\n\t\tvar IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');\n\t\tif (isData && IsAccessor) {\n\t\t\tthrow new TypeError('Property Descriptors may not be both accessor and data descriptors');\n\t\t}\n\t\treturn true;\n\t},\n\n\t// http://ecma-international.org/ecma-262/5.1/#sec-8.10.1\n\tIsAccessorDescriptor: function IsAccessorDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.IsPropertyDescriptor(Desc)) {\n\t\t\tthrow new TypeError('Desc must be a Property Descriptor');\n\t\t}\n\n\t\tif (!has(Desc, '[[Get]]') && !has(Desc, '[[Set]]')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// http://ecma-international.org/ecma-262/5.1/#sec-8.10.2\n\tIsDataDescriptor: function IsDataDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.IsPropertyDescriptor(Desc)) {\n\t\t\tthrow new TypeError('Desc must be a Property Descriptor');\n\t\t}\n\n\t\tif (!has(Desc, '[[Value]]') && !has(Desc, '[[Writable]]')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// http://ecma-international.org/ecma-262/5.1/#sec-8.10.3\n\tIsGenericDescriptor: function IsGenericDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.IsPropertyDescriptor(Desc)) {\n\t\t\tthrow new TypeError('Desc must be a Property Descriptor');\n\t\t}\n\n\t\tif (!this.IsAccessorDescriptor(Desc) && !this.IsDataDescriptor(Desc)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t// http://ecma-international.org/ecma-262/5.1/#sec-8.10.4\n\tFromPropertyDescriptor: function FromPropertyDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn Desc;\n\t\t}\n\n\t\tif (!this.IsPropertyDescriptor(Desc)) {\n\t\t\tthrow new TypeError('Desc must be a Property Descriptor');\n\t\t}\n\n\t\tif (this.IsDataDescriptor(Desc)) {\n\t\t\treturn {\n\t\t\t\tvalue: Desc['[[Value]]'],\n\t\t\t\twritable: !!Desc['[[Writable]]'],\n\t\t\t\tenumerable: !!Desc['[[Enumerable]]'],\n\t\t\t\tconfigurable: !!Desc['[[Configurable]]']\n\t\t\t};\n\t\t} else if (this.IsAccessorDescriptor(Desc)) {\n\t\t\treturn {\n\t\t\t\tget: Desc['[[Get]]'],\n\t\t\t\tset: Desc['[[Set]]'],\n\t\t\t\tenumerable: !!Desc['[[Enumerable]]'],\n\t\t\t\tconfigurable: !!Desc['[[Configurable]]']\n\t\t\t};\n\t\t} else {\n\t\t\tthrow new TypeError('FromPropertyDescriptor must be called with a fully populated Property Descriptor');\n\t\t}\n\t},\n\n\t// http://ecma-international.org/ecma-262/5.1/#sec-8.10.5\n\tToPropertyDescriptor: function ToPropertyDescriptor(Obj) {\n\t\tif (this.Type(Obj) !== 'Object') {\n\t\t\tthrow new TypeError('ToPropertyDescriptor requires an object');\n\t\t}\n\n\t\tvar desc = {};\n\t\tif (has(Obj, 'enumerable')) {\n\t\t\tdesc['[[Enumerable]]'] = this.ToBoolean(Obj.enumerable);\n\t\t}\n\t\tif (has(Obj, 'configurable')) {\n\t\t\tdesc['[[Configurable]]'] = this.ToBoolean(Obj.configurable);\n\t\t}\n\t\tif (has(Obj, 'value')) {\n\t\t\tdesc['[[Value]]'] = Obj.value;\n\t\t}\n\t\tif (has(Obj, 'writable')) {\n\t\t\tdesc['[[Writable]]'] = this.ToBoolean(Obj.writable);\n\t\t}\n\t\tif (has(Obj, 'get')) {\n\t\t\tvar getter = Obj.get;\n\t\t\tif (typeof getter !== 'undefined' && !this.IsCallable(getter)) {\n\t\t\t\tthrow new TypeError('getter must be a function');\n\t\t\t}\n\t\t\tdesc['[[Get]]'] = getter;\n\t\t}\n\t\tif (has(Obj, 'set')) {\n\t\t\tvar setter = Obj.set;\n\t\t\tif (typeof setter !== 'undefined' && !this.IsCallable(setter)) {\n\t\t\t\tthrow new TypeError('setter must be a function');\n\t\t\t}\n\t\t\tdesc['[[Set]]'] = setter;\n\t\t}\n\n\t\tif ((has(desc, '[[Get]]') || has(desc, '[[Set]]')) && (has(desc, '[[Value]]') || has(desc, '[[Writable]]'))) {\n\t\t\tthrow new TypeError('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');\n\t\t}\n\t\treturn desc;\n\t}\n};\n\nmodule.exports = ES5;\n","'use strict';\n\nvar has = require('has');\nvar regexExec = RegExp.prototype.exec;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar tryRegexExecCall = function tryRegexExec(value) {\n\ttry {\n\t\tvar lastIndex = value.lastIndex;\n\t\tvalue.lastIndex = 0;\n\n\t\tregexExec.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\tvalue.lastIndex = lastIndex;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar regexClass = '[object RegExp]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isRegex(value) {\n\tif (!value || typeof value !== 'object') {\n\t\treturn false;\n\t}\n\tif (!hasToStringTag) {\n\t\treturn toStr.call(value) === regexClass;\n\t}\n\n\tvar descriptor = gOPD(value, 'lastIndex');\n\tvar hasLastIndexDataProperty = descriptor && has(descriptor, 'value');\n\tif (!hasLastIndexDataProperty) {\n\t\treturn false;\n\t}\n\n\treturn tryRegexExecCall(value);\n};\n","'use strict';\n\nvar has = require('has');\n\nvar toStr = Object.prototype.toString;\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol';\n\nvar $isNaN = require('./helpers/isNaN');\nvar $isFinite = require('./helpers/isFinite');\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1;\n\nvar assign = require('./helpers/assign');\nvar sign = require('./helpers/sign');\nvar mod = require('./helpers/mod');\nvar isPrimitive = require('./helpers/isPrimitive');\nvar toPrimitive = require('es-to-primitive/es6');\nvar parseInteger = parseInt;\nvar bind = require('function-bind');\nvar arraySlice = bind.call(Function.call, Array.prototype.slice);\nvar strSlice = bind.call(Function.call, String.prototype.slice);\nvar isBinary = bind.call(Function.call, RegExp.prototype.test, /^0b[01]+$/i);\nvar isOctal = bind.call(Function.call, RegExp.prototype.test, /^0o[0-7]+$/i);\nvar regexExec = bind.call(Function.call, RegExp.prototype.exec);\nvar nonWS = ['\\u0085', '\\u200b', '\\ufffe'].join('');\nvar nonWSregex = new RegExp('[' + nonWS + ']', 'g');\nvar hasNonWS = bind.call(Function.call, RegExp.prototype.test, nonWSregex);\nvar invalidHexLiteral = /^[-+]0x[0-9a-f]+$/i;\nvar isInvalidHexLiteral = bind.call(Function.call, RegExp.prototype.test, invalidHexLiteral);\n\n// whitespace from: http://es5.github.io/#x15.5.4.20\n// implementation from https://github.com/es-shims/es5-shim/blob/v3.4.0/es5-shim.js#L1304-L1324\nvar ws = [\n\t'\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003',\n\t'\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028',\n\t'\\u2029\\uFEFF'\n].join('');\nvar trimRegex = new RegExp('(^[' + ws + ']+)|([' + ws + ']+$)', 'g');\nvar replace = bind.call(Function.call, String.prototype.replace);\nvar trim = function (value) {\n\treturn replace(value, trimRegex, '');\n};\n\nvar ES5 = require('./es5');\n\nvar hasRegExpMatcher = require('is-regex');\n\n// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-abstract-operations\nvar ES6 = assign(assign({}, ES5), {\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-call-f-v-args\n\tCall: function Call(F, V) {\n\t\tvar args = arguments.length > 2 ? arguments[2] : [];\n\t\tif (!this.IsCallable(F)) {\n\t\t\tthrow new TypeError(F + ' is not a function');\n\t\t}\n\t\treturn F.apply(V, args);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toprimitive\n\tToPrimitive: toPrimitive,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toboolean\n\t// ToBoolean: ES5.ToBoolean,\n\n\t// http://www.ecma-international.org/ecma-262/6.0/#sec-tonumber\n\tToNumber: function ToNumber(argument) {\n\t\tvar value = isPrimitive(argument) ? argument : toPrimitive(argument, Number);\n\t\tif (typeof value === 'symbol') {\n\t\t\tthrow new TypeError('Cannot convert a Symbol value to a number');\n\t\t}\n\t\tif (typeof value === 'string') {\n\t\t\tif (isBinary(value)) {\n\t\t\t\treturn this.ToNumber(parseInteger(strSlice(value, 2), 2));\n\t\t\t} else if (isOctal(value)) {\n\t\t\t\treturn this.ToNumber(parseInteger(strSlice(value, 2), 8));\n\t\t\t} else if (hasNonWS(value) || isInvalidHexLiteral(value)) {\n\t\t\t\treturn NaN;\n\t\t\t} else {\n\t\t\t\tvar trimmed = trim(value);\n\t\t\t\tif (trimmed !== value) {\n\t\t\t\t\treturn this.ToNumber(trimmed);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn Number(value);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tointeger\n\t// ToInteger: ES5.ToNumber,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toint32\n\t// ToInt32: ES5.ToInt32,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint32\n\t// ToUint32: ES5.ToUint32,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toint16\n\tToInt16: function ToInt16(argument) {\n\t\tvar int16bit = this.ToUint16(argument);\n\t\treturn int16bit >= 0x8000 ? int16bit - 0x10000 : int16bit;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint16\n\t// ToUint16: ES5.ToUint16,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toint8\n\tToInt8: function ToInt8(argument) {\n\t\tvar int8bit = this.ToUint8(argument);\n\t\treturn int8bit >= 0x80 ? int8bit - 0x100 : int8bit;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint8\n\tToUint8: function ToUint8(argument) {\n\t\tvar number = this.ToNumber(argument);\n\t\tif ($isNaN(number) || number === 0 || !$isFinite(number)) { return 0; }\n\t\tvar posInt = sign(number) * Math.floor(Math.abs(number));\n\t\treturn mod(posInt, 0x100);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint8clamp\n\tToUint8Clamp: function ToUint8Clamp(argument) {\n\t\tvar number = this.ToNumber(argument);\n\t\tif ($isNaN(number) || number <= 0) { return 0; }\n\t\tif (number >= 0xFF) { return 0xFF; }\n\t\tvar f = Math.floor(argument);\n\t\tif (f + 0.5 < number) { return f + 1; }\n\t\tif (number < f + 0.5) { return f; }\n\t\tif (f % 2 !== 0) { return f + 1; }\n\t\treturn f;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tostring\n\tToString: function ToString(argument) {\n\t\tif (typeof argument === 'symbol') {\n\t\t\tthrow new TypeError('Cannot convert a Symbol value to a string');\n\t\t}\n\t\treturn String(argument);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toobject\n\tToObject: function ToObject(value) {\n\t\tthis.RequireObjectCoercible(value);\n\t\treturn Object(value);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-topropertykey\n\tToPropertyKey: function ToPropertyKey(argument) {\n\t\tvar key = this.ToPrimitive(argument, String);\n\t\treturn typeof key === 'symbol' ? key : this.ToString(key);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n\tToLength: function ToLength(argument) {\n\t\tvar len = this.ToInteger(argument);\n\t\tif (len <= 0) { return 0; } // includes converting -0 to +0\n\t\tif (len > MAX_SAFE_INTEGER) { return MAX_SAFE_INTEGER; }\n\t\treturn len;\n\t},\n\n\t// http://www.ecma-international.org/ecma-262/6.0/#sec-canonicalnumericindexstring\n\tCanonicalNumericIndexString: function CanonicalNumericIndexString(argument) {\n\t\tif (toStr.call(argument) !== '[object String]') {\n\t\t\tthrow new TypeError('must be a string');\n\t\t}\n\t\tif (argument === '-0') { return -0; }\n\t\tvar n = this.ToNumber(argument);\n\t\tif (this.SameValue(this.ToString(n), argument)) { return n; }\n\t\treturn void 0;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-requireobjectcoercible\n\tRequireObjectCoercible: ES5.CheckObjectCoercible,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isarray\n\tIsArray: Array.isArray || function IsArray(argument) {\n\t\treturn toStr.call(argument) === '[object Array]';\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-iscallable\n\t// IsCallable: ES5.IsCallable,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isconstructor\n\tIsConstructor: function IsConstructor(argument) {\n\t\treturn typeof argument === 'function' && !!argument.prototype; // unfortunately there's no way to truly check this without try/catch `new argument`\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isextensible-o\n\tIsExtensible: function IsExtensible(obj) {\n\t\tif (!Object.preventExtensions) { return true; }\n\t\tif (isPrimitive(obj)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn Object.isExtensible(obj);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isinteger\n\tIsInteger: function IsInteger(argument) {\n\t\tif (typeof argument !== 'number' || $isNaN(argument) || !$isFinite(argument)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar abs = Math.abs(argument);\n\t\treturn Math.floor(abs) === abs;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-ispropertykey\n\tIsPropertyKey: function IsPropertyKey(argument) {\n\t\treturn typeof argument === 'string' || typeof argument === 'symbol';\n\t},\n\n\t// http://www.ecma-international.org/ecma-262/6.0/#sec-isregexp\n\tIsRegExp: function IsRegExp(argument) {\n\t\tif (!argument || typeof argument !== 'object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (hasSymbols) {\n\t\t\tvar isRegExp = argument[Symbol.match];\n\t\t\tif (typeof isRegExp !== 'undefined') {\n\t\t\t\treturn ES5.ToBoolean(isRegExp);\n\t\t\t}\n\t\t}\n\t\treturn hasRegExpMatcher(argument);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevalue\n\t// SameValue: ES5.SameValue,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero\n\tSameValueZero: function SameValueZero(x, y) {\n\t\treturn (x === y) || ($isNaN(x) && $isNaN(y));\n\t},\n\n\t/**\n\t * 7.3.2 GetV (V, P)\n\t * 1. Assert: IsPropertyKey(P) is true.\n\t * 2. Let O be ToObject(V).\n\t * 3. ReturnIfAbrupt(O).\n\t * 4. Return O.[[Get]](P, V).\n\t */\n\tGetV: function GetV(V, P) {\n\t\t// 7.3.2.1\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\n\t\t// 7.3.2.2-3\n\t\tvar O = this.ToObject(V);\n\n\t\t// 7.3.2.4\n\t\treturn O[P];\n\t},\n\n\t/**\n\t * 7.3.9 - http://www.ecma-international.org/ecma-262/6.0/#sec-getmethod\n\t * 1. Assert: IsPropertyKey(P) is true.\n\t * 2. Let func be GetV(O, P).\n\t * 3. ReturnIfAbrupt(func).\n\t * 4. If func is either undefined or null, return undefined.\n\t * 5. If IsCallable(func) is false, throw a TypeError exception.\n\t * 6. Return func.\n\t */\n\tGetMethod: function GetMethod(O, P) {\n\t\t// 7.3.9.1\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\n\t\t// 7.3.9.2\n\t\tvar func = this.GetV(O, P);\n\n\t\t// 7.3.9.4\n\t\tif (func == null) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// 7.3.9.5\n\t\tif (!this.IsCallable(func)) {\n\t\t\tthrow new TypeError(P + 'is not a function');\n\t\t}\n\n\t\t// 7.3.9.6\n\t\treturn func;\n\t},\n\n\t/**\n\t * 7.3.1 Get (O, P) - http://www.ecma-international.org/ecma-262/6.0/#sec-get-o-p\n\t * 1. Assert: Type(O) is Object.\n\t * 2. Assert: IsPropertyKey(P) is true.\n\t * 3. Return O.[[Get]](P, O).\n\t */\n\tGet: function Get(O, P) {\n\t\t// 7.3.1.1\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\t// 7.3.1.2\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\t\t// 7.3.1.3\n\t\treturn O[P];\n\t},\n\n\tType: function Type(x) {\n\t\tif (typeof x === 'symbol') {\n\t\t\treturn 'Symbol';\n\t\t}\n\t\treturn ES5.Type(x);\n\t},\n\n\t// http://www.ecma-international.org/ecma-262/6.0/#sec-speciesconstructor\n\tSpeciesConstructor: function SpeciesConstructor(O, defaultConstructor) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tvar C = O.constructor;\n\t\tif (typeof C === 'undefined') {\n\t\t\treturn defaultConstructor;\n\t\t}\n\t\tif (this.Type(C) !== 'Object') {\n\t\t\tthrow new TypeError('O.constructor is not an Object');\n\t\t}\n\t\tvar S = hasSymbols && Symbol.species ? C[Symbol.species] : undefined;\n\t\tif (S == null) {\n\t\t\treturn defaultConstructor;\n\t\t}\n\t\tif (this.IsConstructor(S)) {\n\t\t\treturn S;\n\t\t}\n\t\tthrow new TypeError('no constructor found');\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-completepropertydescriptor\n\tCompletePropertyDescriptor: function CompletePropertyDescriptor(Desc) {\n\t\tif (!this.IsPropertyDescriptor(Desc)) {\n\t\t\tthrow new TypeError('Desc must be a Property Descriptor');\n\t\t}\n\n\t\tif (this.IsGenericDescriptor(Desc) || this.IsDataDescriptor(Desc)) {\n\t\t\tif (!has(Desc, '[[Value]]')) {\n\t\t\t\tDesc['[[Value]]'] = void 0;\n\t\t\t}\n\t\t\tif (!has(Desc, '[[Writable]]')) {\n\t\t\t\tDesc['[[Writable]]'] = false;\n\t\t\t}\n\t\t} else {\n\t\t\tif (!has(Desc, '[[Get]]')) {\n\t\t\t\tDesc['[[Get]]'] = void 0;\n\t\t\t}\n\t\t\tif (!has(Desc, '[[Set]]')) {\n\t\t\t\tDesc['[[Set]]'] = void 0;\n\t\t\t}\n\t\t}\n\t\tif (!has(Desc, '[[Enumerable]]')) {\n\t\t\tDesc['[[Enumerable]]'] = false;\n\t\t}\n\t\tif (!has(Desc, '[[Configurable]]')) {\n\t\t\tDesc['[[Configurable]]'] = false;\n\t\t}\n\t\treturn Desc;\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-set-o-p-v-throw\n\tSet: function Set(O, P, V, Throw) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('P must be a Property Key');\n\t\t}\n\t\tif (this.Type(Throw) !== 'Boolean') {\n\t\t\tthrow new TypeError('Throw must be a Boolean');\n\t\t}\n\t\tif (Throw) {\n\t\t\tO[P] = V;\n\t\t\treturn true;\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tO[P] = V;\n\t\t\t} catch (e) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-hasownproperty\n\tHasOwnProperty: function HasOwnProperty(O, P) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('P must be a Property Key');\n\t\t}\n\t\treturn has(O, P);\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-hasproperty\n\tHasProperty: function HasProperty(O, P) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('P must be a Property Key');\n\t\t}\n\t\treturn P in O;\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-isconcatspreadable\n\tIsConcatSpreadable: function IsConcatSpreadable(O) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (hasSymbols && typeof Symbol.isConcatSpreadable === 'symbol') {\n\t\t\tvar spreadable = this.Get(O, Symbol.isConcatSpreadable);\n\t\t\tif (typeof spreadable !== 'undefined') {\n\t\t\t\treturn this.ToBoolean(spreadable);\n\t\t\t}\n\t\t}\n\t\treturn this.IsArray(O);\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-invoke\n\tInvoke: function Invoke(O, P) {\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('P must be a Property Key');\n\t\t}\n\t\tvar argumentsList = arraySlice(arguments, 2);\n\t\tvar func = this.GetV(O, P);\n\t\treturn this.Call(func, O, argumentsList);\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-createiterresultobject\n\tCreateIterResultObject: function CreateIterResultObject(value, done) {\n\t\tif (this.Type(done) !== 'Boolean') {\n\t\t\tthrow new TypeError('Assertion failed: Type(done) is not Boolean');\n\t\t}\n\t\treturn {\n\t\t\tvalue: value,\n\t\t\tdone: done\n\t\t};\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-regexpexec\n\tRegExpExec: function RegExpExec(R, S) {\n\t\tif (this.Type(R) !== 'Object') {\n\t\t\tthrow new TypeError('R must be an Object');\n\t\t}\n\t\tif (this.Type(S) !== 'String') {\n\t\t\tthrow new TypeError('S must be a String');\n\t\t}\n\t\tvar exec = this.Get(R, 'exec');\n\t\tif (this.IsCallable(exec)) {\n\t\t\tvar result = this.Call(exec, R, [S]);\n\t\t\tif (result === null || this.Type(result) === 'Object') {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tthrow new TypeError('\"exec\" method must return `null` or an Object');\n\t\t}\n\t\treturn regexExec(R, S);\n\t}\n});\n\ndelete ES6.CheckObjectCoercible; // renamed in ES6 to RequireObjectCoercible\n\nmodule.exports = ES6;\n","'use strict';\n\nmodule.exports = require('./es2015');\n","'use strict';\n\nvar ES = require('es-abstract/es6');\nvar $isNaN = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\nvar $isFinite = Number.isFinite || function isFinite(n) {\n\treturn typeof n === 'number' && global.isFinite(n);\n};\nvar indexOf = Array.prototype.indexOf;\n\nmodule.exports = function includes(searchElement) {\n\tvar fromIndex = arguments.length > 1 ? ES.ToInteger(arguments[1]) : 0;\n\tif (indexOf && !$isNaN(searchElement) && $isFinite(fromIndex) && typeof searchElement !== 'undefined') {\n\t\treturn indexOf.apply(this, arguments) > -1;\n\t}\n\n\tvar O = ES.ToObject(this);\n\tvar length = ES.ToLength(O.length);\n\tif (length === 0) {\n\t\treturn false;\n\t}\n\tvar k = fromIndex >= 0 ? fromIndex : Math.max(0, length + fromIndex);\n\twhile (k < length) {\n\t\tif (ES.SameValueZero(searchElement, O[k])) {\n\t\t\treturn true;\n\t\t}\n\t\tk += 1;\n\t}\n\treturn false;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn Array.prototype.includes || implementation;\n};\n","'use strict';\n\nvar ES2015 = require('./es2015');\nvar assign = require('./helpers/assign');\n\nvar ES2016 = assign(assign({}, ES2015), {\n\t// https://github.com/tc39/ecma262/pull/60\n\tSameValueNonNumber: function SameValueNonNumber(x, y) {\n\t\tif (typeof x === 'number' || typeof x !== typeof y) {\n\t\t\tthrow new TypeError('SameValueNonNumber requires two non-number values of the same type.');\n\t\t}\n\t\treturn this.SameValue(x, y);\n\t}\n});\n\nmodule.exports = ES2016;\n","'use strict';\n\nvar ES = require('es-abstract/es7');\nvar has = require('has');\nvar bind = require('function-bind');\nvar isEnumerable = bind.call(Function.call, Object.prototype.propertyIsEnumerable);\n\nmodule.exports = function values(O) {\n\tvar obj = ES.RequireObjectCoercible(O);\n\tvar vals = [];\n\tfor (var key in obj) {\n\t\tif (has(obj, key) && isEnumerable(obj, key)) {\n\t\t\tvals.push(obj[key]);\n\t\t}\n\t}\n\treturn vals;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof Object.values === 'function' ? Object.values : implementation;\n};\n","'use strict';\n\nvar ES = require('es-abstract/es7');\nvar has = require('has');\nvar bind = require('function-bind');\nvar isEnumerable = bind.call(Function.call, Object.prototype.propertyIsEnumerable);\n\nmodule.exports = function entries(O) {\n\tvar obj = ES.RequireObjectCoercible(O);\n\tvar entrys = [];\n\tfor (var key in obj) {\n\t\tif (has(obj, key) && isEnumerable(obj, key)) {\n\t\t\tentrys.push([key, obj[key]]);\n\t\t}\n\t}\n\treturn entrys;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof Object.entries === 'function' ? Object.entries : implementation;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar ES = require('es-abstract/es7');\nvar slice = bind.call(Function.call, String.prototype.slice);\n\nmodule.exports = function padStart(maxLength) {\n\tvar O = ES.RequireObjectCoercible(this);\n\tvar S = ES.ToString(O);\n\tvar stringLength = ES.ToLength(S.length);\n\tvar fillString;\n\tif (arguments.length > 1) {\n\t\tfillString = arguments[1];\n\t}\n\tvar filler = typeof fillString === 'undefined' ? '' : ES.ToString(fillString);\n\tif (filler === '') {\n\t\tfiller = ' ';\n\t}\n\tvar intMaxLength = ES.ToLength(maxLength);\n\tif (intMaxLength <= stringLength) {\n\t\treturn S;\n\t}\n\tvar fillLen = intMaxLength - stringLength;\n\twhile (filler.length < fillLen) {\n\t\tvar fLen = filler.length;\n\t\tvar remainingCodeUnits = fillLen - fLen;\n\t\tfiller += fLen > remainingCodeUnits ? slice(filler, 0, remainingCodeUnits) : filler;\n\t}\n\n\tvar truncatedStringFiller = filler.length > fillLen ? slice(filler, 0, fillLen) : filler;\n\treturn truncatedStringFiller + S;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof String.prototype.padStart === 'function' ? String.prototype.padStart : implementation;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar ES = require('es-abstract/es7');\nvar slice = bind.call(Function.call, String.prototype.slice);\n\nmodule.exports = function padEnd(maxLength) {\n\tvar O = ES.RequireObjectCoercible(this);\n\tvar S = ES.ToString(O);\n\tvar stringLength = ES.ToLength(S.length);\n\tvar fillString;\n\tif (arguments.length > 1) {\n\t\tfillString = arguments[1];\n\t}\n\tvar filler = typeof fillString === 'undefined' ? '' : ES.ToString(fillString);\n\tif (filler === '') {\n\t\tfiller = ' ';\n\t}\n\tvar intMaxLength = ES.ToLength(maxLength);\n\tif (intMaxLength <= stringLength) {\n\t\treturn S;\n\t}\n\tvar fillLen = intMaxLength - stringLength;\n\twhile (filler.length < fillLen) {\n\t\tvar fLen = filler.length;\n\t\tvar remainingCodeUnits = fillLen - fLen;\n\t\tfiller += fLen > remainingCodeUnits ? slice(filler, 0, remainingCodeUnits) : filler;\n\t}\n\n\tvar truncatedStringFiller = filler.length > fillLen ? slice(filler, 0, fillLen) : filler;\n\treturn S + truncatedStringFiller;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof String.prototype.padEnd === 'function' ? String.prototype.padEnd : implementation;\n};\n","'use strict';\n\nvar ES = require('es-abstract/es7');\n\nvar defineProperty = Object.defineProperty;\nvar getDescriptor = Object.getOwnPropertyDescriptor;\nvar getOwnNames = Object.getOwnPropertyNames;\nvar getSymbols = Object.getOwnPropertySymbols;\nvar concat = Function.call.bind(Array.prototype.concat);\nvar reduce = Function.call.bind(Array.prototype.reduce);\nvar getAll = getSymbols ? function (obj) {\n\treturn concat(getOwnNames(obj), getSymbols(obj));\n} : getOwnNames;\n\nvar isES5 = ES.IsCallable(getDescriptor) && ES.IsCallable(getOwnNames);\n\nvar safePut = function put(obj, prop, val) { // eslint-disable-line max-params\n\tif (defineProperty && prop in obj) {\n\t\tdefineProperty(obj, prop, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: val,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobj[prop] = val;\n\t}\n};\n\nmodule.exports = function getOwnPropertyDescriptors(value) {\n\tES.RequireObjectCoercible(value);\n\tif (!isES5) {\n\t\tthrow new TypeError('getOwnPropertyDescriptors requires Object.getOwnPropertyDescriptor');\n\t}\n\n\tvar O = ES.ToObject(value);\n\treturn reduce(getAll(O), function (acc, key) {\n\t\tvar descriptor = getDescriptor(O, key);\n\t\tif (typeof descriptor !== 'undefined') {\n\t\t\tsafePut(acc, key, descriptor);\n\t\t}\n\t\treturn acc;\n\t}, {});\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof Object.getOwnPropertyDescriptors === 'function' ? Object.getOwnPropertyDescriptors : implementation;\n};\n","'use strict';\n\nmodule.exports = function requirePromise() {\n\tif (typeof Promise !== 'function') {\n\t\tthrow new TypeError('`Promise.prototype.finally` requires a global `Promise` be available.');\n\t}\n};\n","'use strict';\n\nvar requirePromise = require('./requirePromise');\n\nrequirePromise();\n\nvar ES = require('es-abstract/es7');\nvar bind = require('function-bind');\n\nvar promiseResolve = function PromiseResolve(C, value) {\n\treturn new C(function (resolve) {\n\t\tresolve(value);\n\t});\n};\n\nvar OriginalPromise = Promise;\n\nvar createThenFinally = function CreateThenFinally(C, onFinally) {\n\treturn function (value) {\n\t\tvar result = onFinally();\n\t\tvar promise = promiseResolve(C, result);\n\t\tvar valueThunk = function () {\n\t\t\treturn value;\n\t\t};\n\t\treturn promise.then(valueThunk);\n\t};\n};\n\nvar createCatchFinally = function CreateCatchFinally(C, onFinally) {\n\treturn function (reason) {\n\t\tvar result = onFinally();\n\t\tvar promise = promiseResolve(C, result);\n\t\tvar thrower = function () {\n\t\t\tthrow reason;\n\t\t};\n\t\treturn promise.then(thrower);\n\t};\n};\n\nvar then = bind.call(Function.call, OriginalPromise.prototype.then);\n\nvar promiseFinally = function finally_(onFinally) {\n\t/* eslint no-invalid-this: 0 */\n\n\tvar promise = this;\n\n\tthen(then(promise), null, function () {}); // throw if IsPromise(this) is false; catch() to avoid unhandled rejection warnings\n\n\tvar C = ES.SpeciesConstructor(promise, OriginalPromise); // may throw\n\n\tvar thenFinally = onFinally;\n\tvar catchFinally = onFinally;\n\tif (ES.IsCallable(onFinally)) {\n\t\tthenFinally = createThenFinally(C, onFinally);\n\t\tcatchFinally = createCatchFinally(C, onFinally);\n\t}\n\n\treturn promise.then(thenFinally, catchFinally);\n};\n\nif (Object.getOwnPropertyDescriptor) {\n\tvar descriptor = Object.getOwnPropertyDescriptor(promiseFinally, 'name');\n\tif (descriptor && descriptor.configurable) {\n\t\tObject.defineProperty(promiseFinally, 'name', { configurable: true, value: 'finally' });\n\t}\n}\n\nmodule.exports = promiseFinally;\n","'use strict';\n\nvar requirePromise = require('./requirePromise');\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\trequirePromise();\n\treturn typeof Promise.prototype['finally'] === 'function' ? Promise.prototype['finally'] : implementation;\n};\n","'use strict';\n\n// Promise.prototype.finally is stage 3, a possible candidate for ES2018\nif (typeof Promise === 'function') {\n  require('promise.prototype.finally/shim')(); // eslint-disable-line global-require\n}\n","'use strict';\n\nvar requirePromise = require('./requirePromise');\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimPromiseFinally() {\n\trequirePromise();\n\n\tvar polyfill = getPolyfill();\n\tdefine(Promise.prototype, { 'finally': polyfill }, {\n\t\t'finally': function testFinally() {\n\t\t\treturn Promise.prototype['finally'] !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimValues() {\n\tvar polyfill = getPolyfill();\n\tdefine(Object, { values: polyfill }, {\n\t\tvalues: function testValues() {\n\t\t\treturn Object.values !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\n// Object.values/Object.entries are stage 4, in ES2017\nrequire('object.values/shim')();\nrequire('object.entries/shim')();\n\n// String#padStart/String#padEnd are stage 4, in ES2017\nrequire('string.prototype.padstart/shim')();\nrequire('string.prototype.padend/shim')();\n\n// Object.getOwnPropertyDescriptors is stage 4, in ES2017\nrequire('object.getownpropertydescriptors/shim')();\n\nrequire('./es2018');\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimEntries() {\n\tvar polyfill = getPolyfill();\n\tdefine(Object, { entries: polyfill }, {\n\t\tentries: function testEntries() {\n\t\t\treturn Object.entries !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimPadStart() {\n\tvar polyfill = getPolyfill();\n\tdefine(String.prototype, { padStart: polyfill }, { padStart: function () { return String.prototype.padStart !== polyfill; } });\n\treturn polyfill;\n};\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimPadEnd() {\n\tvar polyfill = getPolyfill();\n\tdefine(String.prototype, { padEnd: polyfill }, { padEnd: function () { return String.prototype.padEnd !== polyfill; } });\n\treturn polyfill;\n};\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimGetOwnPropertyDescriptors() {\n\tvar polyfill = getPolyfill();\n\tdefine(\n\t\tObject,\n\t\t{ getOwnPropertyDescriptors: polyfill },\n\t\t{ getOwnPropertyDescriptors: function () { return Object.getOwnPropertyDescriptors !== polyfill; } }\n\t);\n\treturn polyfill;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar getPolyfill = require('./polyfill');\n\nmodule.exports = function shimArrayPrototypeIncludes() {\n\tvar polyfill = getPolyfill();\n\tdefine(\n\t\tArray.prototype,\n\t\t{ includes: polyfill },\n\t\t{ includes: function () { return Array.prototype.includes !== polyfill; } }\n\t);\n\treturn polyfill;\n};\n","'use strict';\n\n// Array#includes is stage 4, in ES7/ES2016\nrequire('array-includes/shim')();\n\nrequire('./es2017');\n","'use strict';\n\nrequire('es6-shim');\n\nrequire('function.prototype.name/shim')();\n\nrequire('./es2016');\n","(function() {\n\tvar testObject = {};\n\n\tif (!(Object.setPrototypeOf || testObject.__proto__)) {\n\t\tvar nativeGetPrototypeOf = Object.getPrototypeOf;\n\n\t\tObject.getPrototypeOf = function(object) {\n\t\t\tif (object.__proto__) {\n\t\t\t\treturn object.__proto__;\n\t\t\t} else {\n\t\t\t\treturn nativeGetPrototypeOf.call(Object, object);\n\t\t\t}\n\t\t}\n\t}\n})();\n","'use strict';\n\n/* globals document, Element */\n\nvar shim;\n\nif (typeof document !== 'undefined' && !document.contains) {\n  shim = function contains(node) {\n    /* eslint prefer-rest-params: 0, no-param-reassign: 0 */\n    if (arguments.length < 1) {\n      throw new TypeError('1 argument is required');\n    }\n\n    do {\n      if (this === node) {\n        return true;\n      }\n      if (node) {\n        node = node.parentNode;\n      }\n    } while (node);\n\n    return false;\n  };\n  document.contains = shim;\n  Element.prototype.contains = shim;\n}\n\n","// Console-polyfill. MIT license.\n// https://github.com/paulmillr/console-polyfill\n// Make it safe to do console.log() always.\n(function(global) {\n  'use strict';\n  if (!global.console) {\n    global.console = {};\n  }\n  var con = global.console;\n  var prop, method;\n  var dummy = function() {};\n  var properties = ['memory'];\n  var methods = ('assert,clear,count,debug,dir,dirxml,error,exception,group,' +\n     'groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,' +\n     'show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn').split(',');\n  while (prop = properties.pop()) if (!con[prop]) con[prop] = {};\n  while (method = methods.pop()) if (typeof con[method] !== 'function') con[method] = dummy;\n  // Using `this` for web workers & supports Browserify / Webpack.\n})(typeof window === 'undefined' ? this : window);\n","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = (xhr.getAllResponseHeaders() || '').trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","/*\n * classList.js: Cross-browser full element.classList implementation.\n * 1.1.20170427\n *\n * By Eli Grey, http://eligrey.com\n * License: Dedicated to the public domain.\n *   See https://github.com/eligrey/classList.js/blob/master/LICENSE.md\n */\n\n/*global self, document, DOMException */\n\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\nif (\"document\" in window.self) {\n\n// Full polyfill for browsers with no classList support\n// Including IE < Edge missing SVGElement.classList\nif (!(\"classList\" in document.createElement(\"_\")) \n\t|| document.createElementNS && !(\"classList\" in document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\"))) {\n\n(function (view) {\n\n\"use strict\";\n\nif (!('Element' in view)) return;\n\nvar\n\t  classListProp = \"classList\"\n\t, protoProp = \"prototype\"\n\t, elemCtrProto = view.Element[protoProp]\n\t, objCtr = Object\n\t, strTrim = String[protoProp].trim || function () {\n\t\treturn this.replace(/^\\s+|\\s+$/g, \"\");\n\t}\n\t, arrIndexOf = Array[protoProp].indexOf || function (item) {\n\t\tvar\n\t\t\t  i = 0\n\t\t\t, len = this.length\n\t\t;\n\t\tfor (; i < len; i++) {\n\t\t\tif (i in this && this[i] === item) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\t// Vendors: please allow content code to instantiate DOMExceptions\n\t, DOMEx = function (type, message) {\n\t\tthis.name = type;\n\t\tthis.code = DOMException[type];\n\t\tthis.message = message;\n\t}\n\t, checkTokenAndGetIndex = function (classList, token) {\n\t\tif (token === \"\") {\n\t\t\tthrow new DOMEx(\n\t\t\t\t  \"SYNTAX_ERR\"\n\t\t\t\t, \"An invalid or illegal string was specified\"\n\t\t\t);\n\t\t}\n\t\tif (/\\s/.test(token)) {\n\t\t\tthrow new DOMEx(\n\t\t\t\t  \"INVALID_CHARACTER_ERR\"\n\t\t\t\t, \"String contains an invalid character\"\n\t\t\t);\n\t\t}\n\t\treturn arrIndexOf.call(classList, token);\n\t}\n\t, ClassList = function (elem) {\n\t\tvar\n\t\t\t  trimmedClasses = strTrim.call(elem.getAttribute(\"class\") || \"\")\n\t\t\t, classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : []\n\t\t\t, i = 0\n\t\t\t, len = classes.length\n\t\t;\n\t\tfor (; i < len; i++) {\n\t\t\tthis.push(classes[i]);\n\t\t}\n\t\tthis._updateClassName = function () {\n\t\t\telem.setAttribute(\"class\", this.toString());\n\t\t};\n\t}\n\t, classListProto = ClassList[protoProp] = []\n\t, classListGetter = function () {\n\t\treturn new ClassList(this);\n\t}\n;\n// Most DOMException implementations don't allow calling DOMException's toString()\n// on non-DOMExceptions. Error's toString() is sufficient here.\nDOMEx[protoProp] = Error[protoProp];\nclassListProto.item = function (i) {\n\treturn this[i] || null;\n};\nclassListProto.contains = function (token) {\n\ttoken += \"\";\n\treturn checkTokenAndGetIndex(this, token) !== -1;\n};\nclassListProto.add = function () {\n\tvar\n\t\t  tokens = arguments\n\t\t, i = 0\n\t\t, l = tokens.length\n\t\t, token\n\t\t, updated = false\n\t;\n\tdo {\n\t\ttoken = tokens[i] + \"\";\n\t\tif (checkTokenAndGetIndex(this, token) === -1) {\n\t\t\tthis.push(token);\n\t\t\tupdated = true;\n\t\t}\n\t}\n\twhile (++i < l);\n\n\tif (updated) {\n\t\tthis._updateClassName();\n\t}\n};\nclassListProto.remove = function () {\n\tvar\n\t\t  tokens = arguments\n\t\t, i = 0\n\t\t, l = tokens.length\n\t\t, token\n\t\t, updated = false\n\t\t, index\n\t;\n\tdo {\n\t\ttoken = tokens[i] + \"\";\n\t\tindex = checkTokenAndGetIndex(this, token);\n\t\twhile (index !== -1) {\n\t\t\tthis.splice(index, 1);\n\t\t\tupdated = true;\n\t\t\tindex = checkTokenAndGetIndex(this, token);\n\t\t}\n\t}\n\twhile (++i < l);\n\n\tif (updated) {\n\t\tthis._updateClassName();\n\t}\n};\nclassListProto.toggle = function (token, force) {\n\ttoken += \"\";\n\n\tvar\n\t\t  result = this.contains(token)\n\t\t, method = result ?\n\t\t\tforce !== true && \"remove\"\n\t\t:\n\t\t\tforce !== false && \"add\"\n\t;\n\n\tif (method) {\n\t\tthis[method](token);\n\t}\n\n\tif (force === true || force === false) {\n\t\treturn force;\n\t} else {\n\t\treturn !result;\n\t}\n};\nclassListProto.toString = function () {\n\treturn this.join(\" \");\n};\n\nif (objCtr.defineProperty) {\n\tvar classListPropDesc = {\n\t\t  get: classListGetter\n\t\t, enumerable: true\n\t\t, configurable: true\n\t};\n\ttry {\n\t\tobjCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n\t} catch (ex) { // IE 8 doesn't support enumerable:true\n\t\t// adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\n\t\t// modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\n\t\tif (ex.number === undefined || ex.number === -0x7FF5EC54) {\n\t\t\tclassListPropDesc.enumerable = false;\n\t\t\tobjCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n\t\t}\n\t}\n} else if (objCtr[protoProp].__defineGetter__) {\n\telemCtrProto.__defineGetter__(classListProp, classListGetter);\n}\n\n}(window.self));\n\n}\n\n// There is full or partial native classList support, so just check if we need\n// to normalize the add/remove and toggle APIs.\n\n(function () {\n\t\"use strict\";\n\n\tvar testElement = document.createElement(\"_\");\n\n\ttestElement.classList.add(\"c1\", \"c2\");\n\n\t// Polyfill for IE 10/11 and Firefox <26, where classList.add and\n\t// classList.remove exist but support only one argument at a time.\n\tif (!testElement.classList.contains(\"c2\")) {\n\t\tvar createMethod = function(method) {\n\t\t\tvar original = DOMTokenList.prototype[method];\n\n\t\t\tDOMTokenList.prototype[method] = function(token) {\n\t\t\t\tvar i, len = arguments.length;\n\n\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\ttoken = arguments[i];\n\t\t\t\t\toriginal.call(this, token);\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t\tcreateMethod('add');\n\t\tcreateMethod('remove');\n\t}\n\n\ttestElement.classList.toggle(\"c3\", false);\n\n\t// Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n\t// support the second argument.\n\tif (testElement.classList.contains(\"c3\")) {\n\t\tvar _toggle = DOMTokenList.prototype.toggle;\n\n\t\tDOMTokenList.prototype.toggle = function(token, force) {\n\t\t\tif (1 in arguments && !this.contains(token) === !force) {\n\t\t\t\treturn force;\n\t\t\t} else {\n\t\t\t\treturn _toggle.call(this, token);\n\t\t\t}\n\t\t};\n\n\t}\n\n\ttestElement = null;\n}());\n\n}\n","// element-closest | CC0-1.0 | github.com/jonathantneal/closest\n\n(function (ElementProto) {\n\tif (typeof ElementProto.matches !== 'function') {\n\t\tElementProto.matches = ElementProto.msMatchesSelector || ElementProto.mozMatchesSelector || ElementProto.webkitMatchesSelector || function matches(selector) {\n\t\t\tvar element = this;\n\t\t\tvar elements = (element.document || element.ownerDocument).querySelectorAll(selector);\n\t\t\tvar index = 0;\n\n\t\t\twhile (elements[index] && elements[index] !== element) {\n\t\t\t\t++index;\n\t\t\t}\n\n\t\t\treturn Boolean(elements[index]);\n\t\t};\n\t}\n\n\tif (typeof ElementProto.closest !== 'function') {\n\t\tElementProto.closest = function closest(selector) {\n\t\t\tvar element = this;\n\n\t\t\twhile (element && element.nodeType === 1) {\n\t\t\t\tif (element.matches(selector)) {\n\t\t\t\t\treturn element;\n\t\t\t\t}\n\n\t\t\t\telement = element.parentNode;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t};\n\t}\n})(window.Element.prototype);\n","/*\n * smoothscroll polyfill - v0.3.5\n * https://iamdustan.github.io/smoothscroll\n * 2016 (c) Dustan Kasten, Jeremias Menichelli - MIT License\n */\n\n(function(w, d, undefined) {\n  'use strict';\n\n  /*\n   * aliases\n   * w: window global object\n   * d: document\n   * undefined: undefined\n   */\n\n  // polyfill\n  function polyfill() {\n    // return when scrollBehavior interface is supported\n    if ('scrollBehavior' in d.documentElement.style) {\n      return;\n    }\n\n    /*\n     * globals\n     */\n    var Element = w.HTMLElement || w.Element;\n    var SCROLL_TIME = 468;\n\n    /*\n     * object gathering original scroll methods\n     */\n    var original = {\n      scroll: w.scroll || w.scrollTo,\n      scrollBy: w.scrollBy,\n      elScroll: Element.prototype.scroll || scrollElement,\n      scrollIntoView: Element.prototype.scrollIntoView\n    };\n\n    /*\n     * define timing method\n     */\n    var now = w.performance && w.performance.now\n      ? w.performance.now.bind(w.performance) : Date.now;\n\n    /**\n     * changes scroll position inside an element\n     * @method scrollElement\n     * @param {Number} x\n     * @param {Number} y\n     */\n    function scrollElement(x, y) {\n      this.scrollLeft = x;\n      this.scrollTop = y;\n    }\n\n    /**\n     * returns result of applying ease math function to a number\n     * @method ease\n     * @param {Number} k\n     * @returns {Number}\n     */\n    function ease(k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k));\n    }\n\n    /**\n     * indicates if a smooth behavior should be applied\n     * @method shouldBailOut\n     * @param {Number|Object} x\n     * @returns {Boolean}\n     */\n    function shouldBailOut(x) {\n      if (typeof x !== 'object'\n            || x === null\n            || x.behavior === undefined\n            || x.behavior === 'auto'\n            || x.behavior === 'instant') {\n        // first arg not an object/null\n        // or behavior is auto, instant or undefined\n        return true;\n      }\n\n      if (typeof x === 'object'\n            && x.behavior === 'smooth') {\n        // first argument is an object and behavior is smooth\n        return false;\n      }\n\n      // throw error when behavior is not supported\n      throw new TypeError('behavior not valid');\n    }\n\n    /**\n     * finds scrollable parent of an element\n     * @method findScrollableParent\n     * @param {Node} el\n     * @returns {Node} el\n     */\n    function findScrollableParent(el) {\n      var isBody;\n      var hasScrollableSpace;\n      var hasVisibleOverflow;\n\n      do {\n        el = el.parentNode;\n\n        // set condition variables\n        isBody = el === d.body;\n        hasScrollableSpace =\n          el.clientHeight < el.scrollHeight ||\n          el.clientWidth < el.scrollWidth;\n        hasVisibleOverflow =\n          w.getComputedStyle(el, null).overflow === 'visible';\n      } while (!isBody && !(hasScrollableSpace && !hasVisibleOverflow));\n\n      isBody = hasScrollableSpace = hasVisibleOverflow = null;\n\n      return el;\n    }\n\n    /**\n     * self invoked function that, given a context, steps through scrolling\n     * @method step\n     * @param {Object} context\n     */\n    function step(context) {\n      var time = now();\n      var value;\n      var currentX;\n      var currentY;\n      var elapsed = (time - context.startTime) / SCROLL_TIME;\n\n      // avoid elapsed times higher than one\n      elapsed = elapsed > 1 ? 1 : elapsed;\n\n      // apply easing to elapsed time\n      value = ease(elapsed);\n\n      currentX = context.startX + (context.x - context.startX) * value;\n      currentY = context.startY + (context.y - context.startY) * value;\n\n      context.method.call(context.scrollable, currentX, currentY);\n\n      // scroll more if we have not reached our destination\n      if (currentX !== context.x || currentY !== context.y) {\n        w.requestAnimationFrame(step.bind(w, context));\n      }\n    }\n\n    /**\n     * scrolls window with a smooth behavior\n     * @method smoothScroll\n     * @param {Object|Node} el\n     * @param {Number} x\n     * @param {Number} y\n     */\n    function smoothScroll(el, x, y) {\n      var scrollable;\n      var startX;\n      var startY;\n      var method;\n      var startTime = now();\n\n      // define scroll context\n      if (el === d.body) {\n        scrollable = w;\n        startX = w.scrollX || w.pageXOffset;\n        startY = w.scrollY || w.pageYOffset;\n        method = original.scroll;\n      } else {\n        scrollable = el;\n        startX = el.scrollLeft;\n        startY = el.scrollTop;\n        method = scrollElement;\n      }\n\n      // scroll looping over a frame\n      step({\n        scrollable: scrollable,\n        method: method,\n        startTime: startTime,\n        startX: startX,\n        startY: startY,\n        x: x,\n        y: y\n      });\n    }\n\n    /*\n     * ORIGINAL METHODS OVERRIDES\n     */\n\n    // w.scroll and w.scrollTo\n    w.scroll = w.scrollTo = function() {\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0])) {\n        original.scroll.call(\n          w,\n          arguments[0].left || arguments[0],\n          arguments[0].top || arguments[1]\n        );\n        return;\n      }\n\n      // LET THE SMOOTHNESS BEGIN!\n      smoothScroll.call(\n        w,\n        d.body,\n        ~~arguments[0].left,\n        ~~arguments[0].top\n      );\n    };\n\n    // w.scrollBy\n    w.scrollBy = function() {\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0])) {\n        original.scrollBy.call(\n          w,\n          arguments[0].left || arguments[0],\n          arguments[0].top || arguments[1]\n        );\n        return;\n      }\n\n      // LET THE SMOOTHNESS BEGIN!\n      smoothScroll.call(\n        w,\n        d.body,\n        ~~arguments[0].left + (w.scrollX || w.pageXOffset),\n        ~~arguments[0].top + (w.scrollY || w.pageYOffset)\n      );\n    };\n\n    // Element.prototype.scroll and Element.prototype.scrollTo\n    Element.prototype.scroll = Element.prototype.scrollTo = function() {\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0])) {\n        original.elScroll.call(\n            this,\n            arguments[0].left || arguments[0],\n            arguments[0].top || arguments[1]\n        );\n        return;\n      }\n\n      var left = arguments[0].left;\n      var top = arguments[0].top;\n\n      // LET THE SMOOTHNESS BEGIN!\n      smoothScroll.call(\n          this,\n          this,\n          typeof left === 'number' ? left : this.scrollLeft,\n          typeof top === 'number' ? top : this.scrollTop\n      );\n    };\n\n    // Element.prototype.scrollBy\n    Element.prototype.scrollBy = function() {\n      var arg0 = arguments[0];\n\n      if (typeof arg0 === 'object') {\n        this.scroll({\n          left: arg0.left + this.scrollLeft,\n          top: arg0.top + this.scrollTop,\n          behavior: arg0.behavior\n        });\n      } else {\n        this.scroll(\n          this.scrollLeft + arg0,\n          this.scrollTop + arguments[1]\n        );\n      }\n    };\n\n    // Element.prototype.scrollIntoView\n    Element.prototype.scrollIntoView = function() {\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0])) {\n        original.scrollIntoView.call(\n          this,\n          arguments[0] === undefined ? true : arguments[0]\n        );\n        return;\n      }\n\n      // LET THE SMOOTHNESS BEGIN!\n      var scrollableParent = findScrollableParent(this);\n      var parentRects = scrollableParent.getBoundingClientRect();\n      var clientRects = this.getBoundingClientRect();\n\n      if (scrollableParent !== d.body) {\n        // reveal element inside parent\n        smoothScroll.call(\n          this,\n          scrollableParent,\n          scrollableParent.scrollLeft + clientRects.left - parentRects.left,\n          scrollableParent.scrollTop + clientRects.top - parentRects.top\n        );\n        // reveal parent in viewport\n        w.scrollBy({\n          left: parentRects.left,\n          top: parentRects.top,\n          behavior: 'smooth'\n        });\n      } else {\n        // reveal element in viewport\n        w.scrollBy({\n          left: clientRects.left,\n          top: clientRects.top,\n          behavior: 'smooth'\n        });\n      }\n    };\n  }\n\n  if (typeof exports === 'object') {\n    // commonjs\n    module.exports = { polyfill: polyfill };\n  } else {\n    // global\n    polyfill();\n  }\n})(window, document);\n","/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */\n\nwindow.matchMedia || (window.matchMedia = function() {\n    \"use strict\";\n\n    // For browsers that support matchMedium api such as IE 9 and webkit\n    var styleMedia = (window.styleMedia || window.media);\n\n    // For those that don't support matchMedium\n    if (!styleMedia) {\n        var style       = document.createElement('style'),\n            script      = document.getElementsByTagName('script')[0],\n            info        = null;\n\n        style.type  = 'text/css';\n        style.id    = 'matchmediajs-test';\n\n        script.parentNode.insertBefore(style, script);\n\n        // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n        info = ('getComputedStyle' in window) && window.getComputedStyle(style, null) || style.currentStyle;\n\n        styleMedia = {\n            matchMedium: function(media) {\n                var text = '@media ' + media + '{ #matchmediajs-test { width: 1px; } }';\n\n                // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n                if (style.styleSheet) {\n                    style.styleSheet.cssText = text;\n                } else {\n                    style.textContent = text;\n                }\n\n                // Test if media query is true or false\n                return info.width === '1px';\n            }\n        };\n    }\n\n    return function(media) {\n        return {\n            matches: styleMedia.matchMedium(media || 'all'),\n            media: media || 'all'\n        };\n    };\n}());\n","/*! matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license */\n(function(){\n    // Bail out for browsers that have addListener support\n    if (window.matchMedia && window.matchMedia('all').addListener) {\n        return false;\n    }\n\n    var localMatchMedia = window.matchMedia,\n        hasMediaQueries = localMatchMedia('only all').matches,\n        isListening     = false,\n        timeoutID       = 0,    // setTimeout for debouncing 'handleChange'\n        queries         = [],   // Contains each 'mql' and associated 'listeners' if 'addListener' is used\n        handleChange    = function(evt) {\n            // Debounce\n            clearTimeout(timeoutID);\n\n            timeoutID = setTimeout(function() {\n                for (var i = 0, il = queries.length; i < il; i++) {\n                    var mql         = queries[i].mql,\n                        listeners   = queries[i].listeners || [],\n                        matches     = localMatchMedia(mql.media).matches;\n\n                    // Update mql.matches value and call listeners\n                    // Fire listeners only if transitioning to or from matched state\n                    if (matches !== mql.matches) {\n                        mql.matches = matches;\n\n                        for (var j = 0, jl = listeners.length; j < jl; j++) {\n                            listeners[j].call(window, mql);\n                        }\n                    }\n                }\n            }, 30);\n        };\n\n    window.matchMedia = function(media) {\n        var mql         = localMatchMedia(media),\n            listeners   = [],\n            index       = 0;\n\n        mql.addListener = function(listener) {\n            // Changes would not occur to css media type so return now (Affects IE <= 8)\n            if (!hasMediaQueries) {\n                return;\n            }\n\n            // Set up 'resize' listener for browsers that support CSS3 media queries (Not for IE <= 8)\n            // There should only ever be 1 resize listener running for performance\n            if (!isListening) {\n                isListening = true;\n                window.addEventListener('resize', handleChange, true);\n            }\n\n            // Push object only if it has not been pushed already\n            if (index === 0) {\n                index = queries.push({\n                    mql         : mql,\n                    listeners   : listeners\n                });\n            }\n\n            listeners.push(listener);\n        };\n\n        mql.removeListener = function(listener) {\n            for (var i = 0, il = listeners.length; i < il; i++){\n                if (listeners[i] === listener){\n                    listeners.splice(i, 1);\n                }\n            }\n        };\n\n        return mql;\n    };\n}());\n","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function() {\n  root.requestAnimationFrame = raf\n  root.cancelAnimationFrame = caf\n}\n","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n","/* globals requestIdleCallback, cancelIdleCallback */\nvar fallback = function (cb) {\n  return setTimeout(function () {\n    var start = Date.now()\n    cb({\n      didTimeout: false,\n      timeRemaining: function () {\n        return Math.max(0, 50 - (Date.now() - start))\n      }\n    })\n  }, 1)\n}\n\nvar isSupported = (typeof requestIdleCallback !== 'undefined')\n\nmodule.exports = isSupported ? requestIdleCallback : fallback\nmodule.exports.cancelIdleCallback = isSupported ? cancelIdleCallback : clearTimeout\n","'use strict';\n\n/* eslint global-require: 0 */\n\n// Fixes super-constructor calls in IE9/10\nrequire('ima-babel6-polyfill');\n\n// document.contains polyfill\nrequire('./document-contains');\n\n// console.* polyfill for old browsers\nrequire('console-polyfill');\n\nrequire('whatwg-fetch');\n\nif (typeof window !== 'undefined') {\n  // Element.classList polyfill\n  require('classlist-polyfill');\n\n  // Element.closest polyfill\n  require('element-closest');\n\n  // Polyfill for smooth scrolling behavior\n  require('smoothscroll-polyfill').polyfill();\n\n  // Polyfill window.matchMedia (primarily for IE9)\n  require('matchmedia-polyfill');\n  require('matchmedia-polyfill/matchMedia.addListener');\n}\n\nrequire('raf/polyfill');\n\nglobal.requestIdleCallback = require('ric-shim');\n\nglobal.cancelIdleCallback = global.requestIdleCallback.cancelIdleCallback;\n\nvar hasSymbols = typeof Symbol === 'function' && Symbol.iterator;\n\n/* globals TouchList */\nif (hasSymbols && typeof TouchList === 'function' && typeof TouchList.prototype[Symbol.iterator] !== 'function') {\n  TouchList.prototype[Symbol.iterator] = Array.prototype[Symbol.iterator];\n}\n","this.kontra = {\n\n  /**\n   * Initialize the canvas.\n   * @memberof kontra\n   *\n   * @param {string|HTMLCanvasElement} canvas - Main canvas ID or Element for the game.\n   */\n  init: function init(canvas) {\n\n    // check if canvas is a string first, an element next, or default to getting\n    // first canvas on page\n    var canvasEl = this.canvas = document.getElementById(canvas) ||\n                                 canvas ||\n                                 document.querySelector('canvas');\n\n    if (!this._isCanvas(canvasEl)) {\n      throw Error('You must provide a canvas element for the game');\n    }\n\n    this.context = canvasEl.getContext('2d');\n  },\n\n  /**\n   * Noop function.\n   * @see https://stackoverflow.com/questions/21634886/what-is-the-javascript-convention-for-no-operation#comment61796464_33458430\n   * @memberof kontra\n   * @private\n   *\n   * The new operator is required when using sinon.stub to replace with the noop.\n   */\n  _noop: new Function,\n\n  /*\n   * Determine if a value is a String.\n   * @see https://github.com/jed/140bytes/wiki/Byte-saving-techniques#coercion-to-test-for-types\n   * @memberof kontra\n   * @private\n   *\n   * @param {*} value - Value to test.\n   *\n   * @returns {boolean}\n   */\n  _isString: function isString(value) {\n    return ''+value === value;\n  },\n\n  /**\n   * Determine if a value is a Number.\n   * @see https://github.com/jed/140bytes/wiki/Byte-saving-techniques#coercion-to-test-for-types\n   * @memberof kontra\n   * @private\n   *\n   * @param {*} value - Value to test.\n   *\n   * @returns {boolean}\n   */\n  _isNumber: function isNumber(value) {\n    return +value === value;\n  },\n\n  /**\n   * Determine if a value is a Function.\n   * @memberof kontra\n   * @private\n   *\n   * @param {*} value - Value to test.\n   *\n   * @returns {boolean}\n   */\n  _isFunc: function isFunction(value) {\n    return typeof value === 'function';\n  },\n\n  /**\n   * Determine if a value is an Image. An image can also be a canvas element for\n   * the purposes of drawing using drawImage().\n   * @memberof kontra\n   * @private\n   *\n   * @param {*} value - Value to test.\n   *\n   * @returns {boolean}\n   */\n  _isImage: function isImage(value) {\n    return !!value && value.nodeName === 'IMG' || this._isCanvas(value);\n  },\n\n  /**\n   * Determine if a value is a Canvas.\n   * @memberof kontra\n   * @private\n   *\n   * @param {*} value - Value to test.\n   *\n   * @returns {boolean}\n   */\n  _isCanvas: function isCanvas(value) {\n    return !!value && value.nodeName === 'CANVAS';\n  }\n};\n(function(Promise) {\n  var imageRegex = /(jpeg|jpg|gif|png)$/;\n  var audioRegex = /(wav|mp3|ogg|aac)$/;\n  var noRegex = /^no$/;\n\n  // audio playability\n  // @see https://github.com/Modernizr/Modernizr/blob/master/feature-detects/audio.js\n  var audio = new Audio();\n  var canUse = {\n    wav: '',\n    mp3: audio.canPlayType('audio/mpeg;').replace(noRegex,''),\n    ogg: audio.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(noRegex,''),\n    aac: audio.canPlayType('audio/aac;').replace(noRegex,''),\n  };\n\n  /**\n   * Join a path with proper separators.\n   * @see https://stackoverflow.com/a/43888647/2124254\n   */\n  function joinPath() {\n    var path = [], i = 0;\n\n    for (; i < arguments.length; i++) {\n      if (arguments[i]) {\n\n        // replace slashes at the beginning or end of a path\n        // replace 2 or more slashes at the beginning of the first path to\n        // preserve root routes (/root)\n        path.push( arguments[i].trim().replace(new RegExp('(^[\\/]{' + (path[0] ? 1 : 2) + ',}|[\\/]*$)', 'g'), '') );\n      }\n    }\n\n    return path.join('/');\n  }\n\n  /**\n   * Get the extension of an asset.\n   *\n   * @param {string} url - The URL to the asset.\n   *\n   * @returns {string}\n   */\n  function getExtension(url) {\n    return url.split('.').pop();\n  }\n\n  /**\n   * Get the name of an asset.\n   *\n   * @param {string} url - The URL to the asset.\n   *\n   * @returns {string}\n   */\n  function getName(url) {\n    var name = url.replace('.' + getExtension(url), '');\n\n    // remove slash if there is no folder in the path\n    return (name.indexOf('/') == 0 && name.lastIndexOf('/') == 0 ? name.substr(1) : name);\n  }\n\n  /**\n   * Load an Image file. Uses imagePath to resolve URL.\n   * @memberOf kontra.assets\n   * @private\n   *\n   * @param {string} url - The URL to the Image file.\n   *\n   * @returns {Promise} A deferred promise. Promise resolves with the Image.\n   *\n   * @example\n   * kontra.loadImage('car.png');\n   * kontra.loadImage('autobots/truck.png');\n   */\n  function loadImage(url) {\n    var name = getName(url);\n    var image = new Image();\n\n    var self = kontra.assets;\n    var imageAssets = self.images;\n\n    url = joinPath(self.imagePath, url);\n\n    return new Promise(function(resolve, reject) {\n      image.onload = function loadImageOnLoad() {\n        imageAssets[name] = imageAssets[url] = this;\n        resolve(this);\n      };\n\n      image.onerror = function loadImageOnError() {\n        reject('Unable to load image ' + url);\n      };\n\n      image.src = url;\n    });\n  }\n\n  /**\n   * Load an Audio file. Supports loading multiple audio formats which will be resolved by\n   * the browser in the order listed. Uses audioPath to resolve URL.\n   * @memberOf kontra.assets\n   * @private\n   *\n   * @param {string|string[]} url - The URL to the Audio file.\n   *\n   * @returns {Promise} A deferred promise. Promise resolves with the Audio.\n   *\n   * @example\n   * kontra.loadAudio('sound_effects/laser.mp3');\n   * kontra.loadAudio(['explosion.mp3', 'explosion.m4a', 'explosion.ogg']);\n   */\n  function loadAudio(url) {\n    var self = kontra.assets;\n    var audioAssets = self.audio;\n    var audioPath = self.audioPath;\n    var source, name, playableSource, audio, i;\n\n    if (!Array.isArray(url)) {\n      url = [url];\n    }\n\n    return new Promise(function(resolve, reject) {\n      // determine which audio format the browser can play\n      for (i = 0; (source = url[i]); i++) {\n        if ( canUse[getExtension(source)] ) {\n          playableSource = source;\n          break;\n        }\n      }\n\n      if (!playableSource) {\n        reject('cannot play any of the audio formats provided');\n      }\n      else {\n        name = getName(playableSource);\n        audio = new Audio();\n        source = joinPath(audioPath, playableSource);\n\n        audio.addEventListener('canplay', function loadAudioOnLoad() {\n          audioAssets[name] = audioAssets[source] = this;\n          resolve(this);\n        });\n\n        audio.onerror = function loadAudioOnError() {\n          reject('Unable to load audio ' + source);\n        };\n\n        audio.src = source;\n        audio.load();\n      }\n    });\n  }\n\n  /**\n   * Load a data file (be it text or JSON). Uses dataPath to resolve URL.\n   * @memberOf kontra.assets\n   * @private\n   *\n   * @param {string} url - The URL to the data file.\n   *\n   * @returns {Promise} A deferred promise. Resolves with the data or parsed JSON.\n   *\n   * @example\n   * kontra.loadData('bio.json');\n   * kontra.loadData('dialog.txt');\n   */\n  function loadData(url) {\n    var name = getName(url);\n    var req = new XMLHttpRequest();\n\n    var self = kontra.assets;\n    var dataAssets = self.data;\n\n    url = joinPath(self.dataPath, url);\n\n    return new Promise(function(resolve, reject) {\n      req.addEventListener('load', function loadDataOnLoad() {\n        var data = req.responseText;\n\n        if (req.status !== 200) {\n          return reject(data);\n        }\n\n        try {\n          data = JSON.parse(data);\n        }\n        catch(e) {}\n\n        dataAssets[name] = dataAssets[url] = data;\n        resolve(data);\n      });\n\n      req.open('GET', url, true);\n      req.send();\n    });\n  }\n\n  /**\n   * Object for loading assets.\n   */\n  kontra.assets = {\n    // all assets are stored by name as well as by URL\n    images: {},\n    audio: {},\n    data: {},\n\n    // base asset path for determining asset URLs\n    imagePath: '',\n    audioPath: '',\n    dataPath: '',\n\n    /**\n     * Load an Image, Audio, or data file.\n     * @memberOf kontra.assets\n     *\n     * @param {string|string[]} - Comma separated list of assets to load.\n     *\n     * @returns {Promise}\n     *\n     * @example\n     * kontra.loadAsset('car.png');\n     * kontra.loadAsset(['explosion.mp3', 'explosion.ogg']);\n     * kontra.loadAsset('bio.json');\n     * kontra.loadAsset('car.png', ['explosion.mp3', 'explosion.ogg'], 'bio.json');\n     */\n    load: function loadAsset() {\n      var promises = [];\n      var url, extension, asset, i, promise;\n\n      for (i = 0; (asset = arguments[i]); i++) {\n        url = (Array.isArray(asset) ? asset[0] : asset);\n\n        extension = getExtension(url);\n        if (extension.match(imageRegex)) {\n          promise = loadImage(asset);\n        }\n        else if (extension.match(audioRegex)) {\n          promise = loadAudio(asset);\n        }\n        else {\n          promise = loadData(asset);\n        }\n\n        promises.push(promise);\n      }\n\n      return Promise.all(promises);\n    },\n\n    // expose properties for testing\n    _canUse: canUse,\n  };\n})(Promise);\n(function(kontra, requestAnimationFrame, performance) {\n\n  /**\n   * Game loop that updates and renders the game every frame.\n   * @memberof kontra\n   *\n   * @param {object}   properties - Properties of the game loop.\n   * @param {number}   [properties.fps=60] - Desired frame rate.\n   * @param {boolean}  [properties.clearCanvas=true] - Clear the canvas every frame.\n   * @param {function} properties.update - Function called to update the game.\n   * @param {function} properties.render - Function called to render the game.\n   */\n  kontra.gameLoop = function(properties) {\n    properties = properties || {};\n\n    // check for required functions\n    if ( !(kontra._isFunc(properties.update) && kontra._isFunc(properties.render)) ) {\n      throw Error('You must provide update() and render() functions');\n    }\n\n    // animation variables\n    var fps = properties.fps || 60;\n    var accumulator = 0;\n    var delta = 1E3 / fps;  // delta between performance.now timings (in ms)\n    var step = 1 / fps;\n\n    var clear = (properties.clearCanvas === false ?\n                kontra._noop :\n                function clear() {\n                  kontra.context.clearRect(0,0,kontra.canvas.width,kontra.canvas.height);\n                });\n    var last, rAF, now, dt;\n\n    /**\n     * Called every frame of the game loop.\n     */\n    function frame() {\n      rAF = requestAnimationFrame(frame);\n\n      now = performance.now();\n      dt = now - last;\n      last = now;\n\n      // prevent updating the game with a very large dt if the game were to lose focus\n      // and then regain focus later\n      if (dt > 1E3) {\n        return;\n      }\n\n      accumulator += dt;\n\n      while (accumulator >= delta) {\n        gameLoop.update(step);\n\n        accumulator -= delta;\n      }\n\n      clear();\n      gameLoop.render();\n    }\n\n    // game loop object\n    var gameLoop = {\n      update: properties.update,\n      render: properties.render,\n      isStopped: true,\n\n      /**\n       * Start the game loop.\n       * @memberof kontra.gameLoop\n       */\n      start: function start() {\n        last = performance.now();\n        this.isStopped = false;\n        requestAnimationFrame(frame);\n      },\n\n      /**\n       * Stop the game loop.\n       */\n      stop: function stop() {\n        this.isStopped = true;\n        cancelAnimationFrame(rAF);\n      },\n\n      // expose properties for testing\n      _frame: frame,\n      set _last(value) {\n        last = value;\n      }\n    };\n\n    return gameLoop;\n  };\n})(kontra, requestAnimationFrame, performance);\n(function() {\n  var callbacks = {};\n  var pressedKeys = {};\n\n  var keyMap = {\n    // named keys\n    8: 'backspace',\n    9: 'tab',\n    13: 'enter',\n    16: 'shift',\n    17: 'ctrl',\n    18: 'alt',\n    20: 'capslock',\n    27: 'esc',\n    32: 'space',\n    33: 'pageup',\n    34: 'pagedown',\n    35: 'end',\n    36: 'home',\n    37: 'left',\n    38: 'up',\n    39: 'right',\n    40: 'down',\n    45: 'insert',\n    46: 'delete',\n    91: 'leftwindow',\n    92: 'rightwindow',\n    93: 'select',\n    144: 'numlock',\n    145: 'scrolllock',\n\n    // special characters\n    106: '*',\n    107: '+',\n    109: '-',\n    110: '.',\n    111: '/',\n    186: ';',\n    187: '=',\n    188: ',',\n    189: '-',\n    190: '.',\n    191: '/',\n    192: '`',\n    219: '[',\n    220: '\\\\',\n    221: ']',\n    222: '\\''\n  };\n\n  // alpha keys\n  // @see https://stackoverflow.com/a/43095772/2124254\n  for (var i = 0; i < 26; i++) {\n    keyMap[65+i] = (10 + i).toString(36);\n  }\n  // numeric keys and keypad\n  for (i = 0; i < 10; i++) {\n    keyMap[48+i] = ''+i;\n    keyMap[96+i] = 'numpad'+i;\n  }\n  // f keys\n  for (i = 1; i < 20; i++) {\n    keyMap[111+i] = 'f'+i;\n  }\n\n  var addEventListener = window.addEventListener;\n  addEventListener('keydown', keydownEventHandler);\n  addEventListener('keyup', keyupEventHandler);\n  addEventListener('blur', blurEventHandler);\n\n  /**\n   * Execute a function that corresponds to a keyboard key.\n   * @private\n   *\n   * @param {Event} e\n   */\n  function keydownEventHandler(e) {\n    var key = keyMap[e.which];\n    pressedKeys[key] = true;\n\n    if (callbacks[key]) {\n      callbacks[key](e);\n    }\n  }\n\n  /**\n   * Set the released key to not being pressed.\n   * @private\n   *\n   * @param {Event} e\n   */\n  function keyupEventHandler(e) {\n    var key = keyMap[e.which];\n    pressedKeys[key] = false;\n  }\n\n  /**\n   * Reset pressed keys.\n   * @private\n   *\n   * @param {Event} e\n   */\n  function blurEventHandler(e) {\n    pressedKeys = {};\n  }\n\n  /**\n   * Object for using the keyboard.\n   */\n  kontra.keys = {\n    /**\n     * Register a function to be called on a key press.\n     * @memberof kontra.keys\n     *\n     * @param {string|string[]} keys - key or keys to bind.\n     */\n    bind: function bindKey(keys, callback) {\n      keys = (Array.isArray(keys) ? keys : [keys]);\n\n      for (var i = 0, key; key = keys[i]; i++) {\n        callbacks[key] = callback;\n      }\n    },\n\n    /**\n     * Remove the callback function for a key.\n     * @memberof kontra.keys\n     *\n     * @param {string|string[]} keys - key or keys to unbind.\n     */\n    unbind: function unbindKey(keys) {\n      keys = (Array.isArray(keys) ? keys : [keys]);\n\n      for (var i = 0, key; key = keys[i]; i++) {\n        callbacks[key] = null;\n      }\n    },\n\n    /**\n     * Returns whether a key is pressed.\n     * @memberof kontra.keys\n     *\n     * @param {string} key - Key to check for press.\n     *\n     * @returns {boolean}\n     */\n    pressed: function keyPressed(key) {\n      return !!pressedKeys[key];\n    }\n  };\n})();\n(function(kontra) {\n\n  /**\n   * Object pool. The pool will grow in size to accommodate as many objects as are needed.\n   * Unused items are at the front of the pool and in use items are at the of the pool.\n   * @memberof kontra\n   *\n   * @param {object} properties - Properties of the pool.\n   * @param {function} properties.create - Function that returns the object to use in the pool.\n   * @param {number} properties.maxSize - The maximum size that the pool will grow to.\n   */\n  kontra.pool = function(properties) {\n    properties = properties || {};\n\n    var lastIndex = 0;\n    var inUse = 0;\n    var obj;\n\n    // check for the correct structure of the objects added to pools so we know that the\n    // rest of the pool code will work without errors\n    if (!kontra._isFunc(properties.create) ||\n        ( !( obj = properties.create() ) ||\n          !( kontra._isFunc(obj.update) && kontra._isFunc(obj.init) &&\n             kontra._isFunc(obj.isAlive) )\n       )) {\n      throw Error('Must provide create() function which returns an object with init(), update(), and isAlive() functions');\n    }\n\n    return {\n      create: properties.create,\n\n      // start the pool with an object\n      objects: [obj],\n      size: 1,\n      maxSize: properties.maxSize || Infinity,\n\n      /**\n       * Get an object from the pool.\n       * @memberof kontra.pool\n       *\n       * @param {object} properties - Properties to pass to object.init().\n       */\n      get: function get(properties) {\n        properties = properties || {};\n\n        // the pool is out of objects if the first object is in use and it can't grow\n        if (this.objects[0].isAlive()) {\n          if (this.size === this.maxSize) {\n            return;\n          }\n          // double the size of the array by filling it with twice as many objects\n          else {\n            for (var x = 0; x < this.size && this.objects.length < this.maxSize; x++) {\n              this.objects.unshift(this.create());\n            }\n\n            this.size = this.objects.length;\n            lastIndex = this.size - 1;\n          }\n        }\n\n        // save off first object in pool to reassign to last object after unshift\n        var obj = this.objects[0];\n        obj.init(properties);\n\n        // unshift the array\n        for (var i = 1; i < this.size; i++) {\n          this.objects[i-1] = this.objects[i];\n        }\n\n        this.objects[lastIndex] = obj;\n        inUse++;\n      },\n\n      /**\n       * Return all objects that are alive from the pool.\n       * @memberof kontra.pool\n       *\n       * @returns {object[]}\n       */\n      getAliveObjects: function getAliveObjects() {\n        return this.objects.slice(this.objects.length - inUse);\n      },\n\n      /**\n       * Clear the object pool.\n       * @memberof kontra.pool\n       */\n      clear: function clear() {\n        inUse = lastIndex = this.objects.length = 0;\n        this.size = 1;\n        this.objects.push(this.create());\n      },\n\n      /**\n       * Update all alive pool objects.\n       * @memberof kontra.pool\n       *\n       * @param {number} dt - Time since last update.\n       */\n      update: function update(dt) {\n        var i = lastIndex;\n        var obj;\n\n        // If the user kills an object outside of the update cycle, the pool won't know of\n        // the change until the next update and inUse won't be decremented. If the user then\n        // gets an object when inUse is the same size as objects.length, inUse will increment\n        // and this statement will evaluate to -1.\n        //\n        // I don't like having to go through the pool to kill an object as it forces you to\n        // know which object came from which pool. Instead, we'll just prevent the index from\n        // going below 0 and accept the fact that inUse may be out of sync for a frame.\n        var index = Math.max(this.objects.length - inUse, 0);\n\n        // only iterate over the objects that are alive\n        while (i >= index) {\n          obj = this.objects[i];\n\n          obj.update(dt);\n\n          // if the object is dead, move it to the front of the pool\n          if (!obj.isAlive()) {\n\n            // push an object from the middle of the pool to the front of the pool\n            // without returning a new array through Array#splice to avoid garbage\n            // collection of the old array\n            // @see http://jsperf.com/object-pools-array-vs-loop\n            for (var j = i; j > 0; j--) {\n              this.objects[j] = this.objects[j-1];\n            }\n\n            this.objects[0] = obj;\n            inUse--;\n            index++;\n          }\n          else {\n            i--;\n          }\n        }\n      },\n\n      /**\n       * render all alive pool objects.\n       * @memberof kontra.pool\n       */\n      render: function render() {\n        var index = Math.max(this.objects.length - inUse, 0);\n\n        for (var i = lastIndex; i >= index; i--) {\n          this.objects[i].render && this.objects[i].render();\n        }\n      }\n    };\n  };\n})(kontra);\n(function(kontra) {\n  /**\n   * A quadtree for 2D collision checking. The quadtree acts like an object pool in that it\n   * will create subnodes as objects are needed but it won't clean up the subnodes when it\n   * collapses to avoid garbage collection.\n   * @memberof kontra\n   *\n   * @param {object} properties - Properties of the quadtree.\n   * @param {number} [properties.maxDepth=3] - Maximum node depths the quadtree can have.\n   * @param {number} [properties.maxObjects=25] - Maximum number of objects a node can support before splitting.\n   * @param {object} [properties.bounds] - The 2D space this node occupies.\n   * @param {object} [properties.parent] - Private. The node that contains this node.\n   * @param {number} [properties.depth=0] - Private. Current node depth.\n   *\n   * The quadrant indices are numbered as follows (following a z-order curve):\n   *     |\n   *  0  |  1\n   * ----+----\n   *  2  |  3\n   *     |\n   */\n  kontra.quadtree = function(properties) {\n    var quadtree = Object.create(kontra.quadtree.prototype);\n    quadtree._init(properties);\n\n    return quadtree;\n  };\n\n  kontra.quadtree.prototype = {\n    /**\n     * Initialize properties on the quadtree.\n     * @memberof kontra.quadtree\n     * @private\n     *\n     * @param {object} properties - Properties of the quadtree.\n     * @param {number} [properties.maxDepth=3] - Maximum node depths the quadtree can have.\n     * @param {number} [properties.maxObjects=25] - Maximum number of objects a node can support before splitting.\n     * @param {object} [properties.bounds] - The 2D space this node occupies.\n     * @param {object} [properties.parent] - Private. The node that contains this node.\n     * @param {number} [properties.depth=0] - Private. Current node depth.\n     */\n    _init: function init(properties) {\n      properties = properties || {};\n\n      this.maxDepth = properties.maxDepth || 3;\n      this.maxObjects = properties.maxObjects || 25;\n\n      // since we won't clean up any subnodes, we need to keep track of which nodes are\n      // currently the leaf node so we know which nodes to add objects to\n      this._branch = false;\n      this._depth = properties.depth || 0;\n      this._parent = properties.parent;\n\n      this.bounds = properties.bounds || {\n        x: 0,\n        y: 0,\n        width: kontra.canvas.width,\n        height: kontra.canvas.height\n      };\n\n      this.objects = [];\n      this.subnodes = [];\n    },\n\n    /**\n     * Clear the quadtree\n     * @memberof kontra.quadtree\n     */\n    clear: function clear() {\n      if (this._branch) {\n        for (var i = 0; i < 4; i++) {\n          this.subnodes[i].clear();\n        }\n      }\n\n      this._branch = false;\n      this.objects.length = 0;\n    },\n\n    /**\n     * Find the leaf node the object belongs to and get all objects that are part of\n     * that node.\n     * @memberof kontra.quadtree\n     *\n     * @param {object} object - Object to use for finding the leaf node.\n     *\n     * @returns {object[]} A list of objects in the same leaf node as the object.\n     */\n    get: function get(object) {\n      var objects = [];\n      var indices, i;\n\n      // traverse the tree until we get to a leaf node\n      while (this.subnodes.length && this._branch) {\n        indices = this._getIndex(object);\n\n        for (i = 0; i < indices.length; i++) {\n          objects.push.apply(objects, this.subnodes[ indices[i] ].get(object));\n        }\n\n        return objects;\n      }\n\n      return this.objects;\n    },\n\n    /**\n     * Add an object to the quadtree. Once the number of objects in the node exceeds\n     * the maximum number of objects allowed, it will split and move all objects to their\n     * corresponding subnodes.\n     * @memberof kontra.quadtree\n     *\n     * @param {...object|object[]} Objects to add to the quadtree\n     *\n     * @example\n     * kontra.quadtree().add({id:1}, {id:2}, {id:3});\n     * kontra.quadtree().add([{id:1}, {id:2}], {id:3});\n     */\n    add: function add() {\n      var i, j, object, obj, indices, index;\n\n      for (j = 0; j < arguments.length; j++) {\n        object = arguments[j];\n\n        // add a group of objects separately\n        if (Array.isArray(object)) {\n          this.add.apply(this, object);\n\n          continue;\n        }\n\n        // current node has subnodes, so we need to add this object into a subnode\n        if (this.subnodes.length && this._branch) {\n          this._add2Sub(object);\n\n          continue;\n        }\n\n        // this node is a leaf node so add the object to it\n        this.objects.push(object);\n\n        // split the node if there are too many objects\n        if (this.objects.length > this.maxObjects && this._depth < this.maxDepth) {\n          this._split();\n\n          // move all objects to their corresponding subnodes\n          for (i = 0; (obj = this.objects[i]); i++) {\n            this._add2Sub(obj);\n          }\n\n          this.objects.length = 0;\n        }\n      }\n    },\n\n    /**\n     * Add an object to a subnode.\n     * @memberof kontra.quadtree\n     * @private\n     *\n     * @param {object} object - Object to add into a subnode\n     */\n    _add2Sub: function addToSubnode(object) {\n      var indices = this._getIndex(object);\n      var i;\n\n      // add the object to all subnodes it intersects\n      for (i = 0; i < indices.length; i++) {\n        this.subnodes[ indices[i] ].add(object);\n      }\n    },\n\n    /**\n     * Determine which subnodes the object intersects with.\n     * @memberof kontra.quadtree\n     * @private\n     *\n     * @param {object} object - Object to check.\n     *\n     * @returns {number[]} List of all subnodes object intersects.\n     */\n    _getIndex: function getIndex(object) {\n      var indices = [];\n\n      var verticalMidpoint = this.bounds.x + this.bounds.width / 2;\n      var horizontalMidpoint = this.bounds.y + this.bounds.height / 2;\n\n      // save off quadrant checks for reuse\n      var intersectsTopQuadrants = object.y < horizontalMidpoint && object.y + object.height >= this.bounds.y;\n      var intersectsBottomQuadrants = object.y + object.height >= horizontalMidpoint && object.y < this.bounds.y + this.bounds.height;\n\n      // object intersects with the left quadrants\n      if (object.x < verticalMidpoint && object.x + object.width >= this.bounds.x) {\n        if (intersectsTopQuadrants) {  // top left\n          indices.push(0);\n        }\n\n        if (intersectsBottomQuadrants) {  // bottom left\n          indices.push(2);\n        }\n      }\n\n      // object intersects with the right quadrants\n      if (object.x + object.width >= verticalMidpoint && object.x < this.bounds.x + this.bounds.width) {  // top right\n        if (intersectsTopQuadrants) {\n          indices.push(1);\n        }\n\n        if (intersectsBottomQuadrants) {  // bottom right\n          indices.push(3);\n        }\n      }\n\n      return indices;\n    },\n\n    /**\n     * Split the node into four subnodes.\n     * @memberof kontra.quadtree\n     * @private\n     */\n    _split: function split() {\n      this._branch = true;\n\n      // only split if we haven't split before\n      if (this.subnodes.length) {\n        return;\n      }\n\n      var subWidth = this.bounds.width / 2 | 0;\n      var subHeight = this.bounds.height / 2 | 0;\n\n      for (var i = 0; i < 4; i++) {\n        this.subnodes[i] = kontra.quadtree({\n          bounds: {\n            x: this.bounds.x + (i % 2 === 1 ? subWidth : 0),  // nodes 1 and 3\n            y: this.bounds.y + (i >= 2 ? subHeight : 0),      // nodes 2 and 3\n            width: subWidth,\n            height: subHeight\n          },\n          depth: this._depth+1,\n          maxDepth: this.maxDepth,\n          maxObjects: this.maxObjects,\n          parent: this\n        });\n      }\n    },\n\n    /**\n     * Draw the quadtree. Useful for visual debugging.\n     * @memberof kontra.quadtree\n     */\n    // render: function() {\n    //   // don't draw empty leaf nodes, always draw branch nodes and the first node\n    //   if (this.objects.length || this._depth === 0 ||\n    //       (this._parent && this._parent._branch)) {\n\n    //     kontra.context.strokeStyle = 'red';\n    //     kontra.context.strokeRect(this.bounds.x, this.bounds.y, this.bounds.width, this.bounds.height);\n\n    //     if (this.subnodes.length) {\n    //       for (var i = 0; i < 4; i++) {\n    //         this.subnodes[i].render();\n    //       }\n    //     }\n    //   }\n    // }\n  };\n})(kontra);\n(function(kontra, Math, Infinity) {\n\n  /**\n   * A vector for 2D space.\n   *\n   * Because each sprite has 3 vectors and there could possibly be hundreds of\n   * sprites at once, we can't return a new object with new functions every time\n   * (which saves on having to use `this` everywhere). Instead, we'll use a\n   * prototype so vectors only take up an x and y value and share functions.\n   * @memberof kontra\n   *\n   * @param {number} [x=0] - X coordinate.\n   * @param {number} [y=0] - Y coordinate.\n   */\n  kontra.vector = function(x, y) {\n    var vector = Object.create(kontra.vector.prototype);\n    vector._init(x, y);\n\n    return vector;\n  };\n\n  kontra.vector.prototype = {\n    /**\n     * Initialize the vectors x and y position.\n     * @memberof kontra.vector\n     * @private\n     *\n     * @param {number} [x=0] - X coordinate.\n     * @param {number} [y=0] - Y coordinate.\n     *\n     * @returns {vector}\n     */\n    _init: function init(x, y) {\n      this._x = x || 0;\n      this._y = y || 0;\n    },\n\n    /**\n     * Add a vector to this vector.\n     * @memberof kontra.vector\n     *\n     * @param {vector} vector - Vector to add.\n     * @param {number} dt=1 - Time since last update.\n     */\n    add: function add(vector, dt) {\n      this._x += (vector.x || 0) * (dt || 1);\n      this._y += (vector.y || 0) * (dt || 1);\n    },\n\n    /**\n     * Clamp the vector between two points that form a rectangle.\n     * @memberof kontra.vector\n     *\n     * @param {number} [xMin=-Infinity] - Min x value.\n     * @param {number} [yMin=Infinity] - Min y value.\n     * @param {number} [xMax=-Infinity] - Max x value.\n     * @param {number} [yMax=Infinity] - Max y value.\n     */\n    clamp: function clamp(xMin, yMin, xMax, yMax) {\n      this._clamp = true;\n      this._xMin = (xMin !== undefined ? xMin : -Infinity);\n      this._yMin = (yMin !== undefined ? yMin : -Infinity);\n      this._xMax = (xMax !== undefined ? xMax : Infinity);\n      this._yMax = (yMax !== undefined ? yMax : Infinity);\n    },\n\n    /**\n     * Vector x\n     * @memberof kontra.vector\n     *\n     * @property {number} x\n     */\n    get x() {\n      return this._x;\n    },\n\n    /**\n     * Vector y\n     * @memberof kontra.vector\n     *\n     * @property {number} y\n     */\n    get y() {\n      return this._y;\n    },\n\n    set x(value) {\n      this._x = (this._clamp ? Math.min( Math.max(this._xMin, value), this._xMax ) : value);\n    },\n\n    set y(value) {\n      this._y = (this._clamp ? Math.min( Math.max(this._yMin, value), this._yMax ) : value);\n    }\n  };\n\n\n\n\n\n  /**\n   * A sprite with a position, velocity, and acceleration.\n   * @memberof kontra\n   * @requires kontra.vector\n   *\n   * @param {object} properties - Properties of the sprite.\n   * @param {number} properties.x - X coordinate of the sprite.\n   * @param {number} properties.y - Y coordinate of the sprite.\n   * @param {number} [properties.dx] - Change in X position.\n   * @param {number} [properties.dy] - Change in Y position.\n   * @param {number} [properties.ddx] - Change in X velocity.\n   * @param {number} [properties.ddy] - Change in Y velocity.\n   *\n   * @param {number} [properties.ttl=0] - How may frames the sprite should be alive.\n   * @param {Context} [properties.context=kontra.context] - Provide a context for the sprite to draw on.\n   *\n   * @param {Image|Canvas} [properties.image] - Image for the sprite.\n   *\n   * @param {object} [properties.animations] - Animations for the sprite instead of an image.\n   *\n   * @param {string} [properties.color] - If no image or animation is provided, use color to draw a rectangle for the sprite.\n   * @param {number} [properties.width] - Width of the sprite for drawing a rectangle.\n   * @param {number} [properties.height] - Height of the sprite for drawing a rectangle.\n   *\n   * @param {function} [properties.update] - Function to use to update the sprite.\n   * @param {function} [properties.render] - Function to use to render the sprite.\n   */\n  kontra.sprite = function(properties) {\n    var sprite = Object.create(kontra.sprite.prototype);\n    sprite.init(properties);\n\n    return sprite;\n  };\n\n  kontra.sprite.prototype = {\n    /**\n     * Initialize properties on the sprite.\n     * @memberof kontra.sprite\n     *\n     * @param {object} properties - Properties of the sprite.\n     * @param {number} properties.x - X coordinate of the sprite.\n     * @param {number} properties.y - Y coordinate of the sprite.\n     * @param {number} [properties.dx] - Change in X position.\n     * @param {number} [properties.dy] - Change in Y position.\n     * @param {number} [properties.ddx] - Change in X velocity.\n     * @param {number} [properties.ddy] - Change in Y velocity.\n     *\n     * @param {number} [properties.ttl=0] - How may frames the sprite should be alive.\n     * @param {Context} [properties.context=kontra.context] - Provide a context for the sprite to draw on.\n     *\n     * @param {Image|Canvas} [properties.image] - Image for the sprite.\n     *\n     * @param {object} [properties.animations] - Animations for the sprite instead of an image.\n     *\n     * @param {string} [properties.color] - If no image or animation is provided, use color to draw a rectangle for the sprite.\n     * @param {number} [properties.width] - Width of the sprite for drawing a rectangle.\n     * @param {number} [properties.height] - Height of the sprite for drawing a rectangle.\n     *\n     * @param {function} [properties.update] - Function to use to update the sprite.\n     * @param {function} [properties.render] - Function to use to render the sprite.\n     *\n     * If you need the sprite to live forever, or just need it to stay on screen until you\n     * decide when to kill it, you can set <code>ttl</code> to <code>Infinity</code>.\n     * Just be sure to set <code>ttl</code> to 0 when you want the sprite to die.\n     */\n    init: function init(properties) {\n      var temp, animation, firstAnimation, self = this;\n      properties = properties || {};\n\n      // create the vectors if they don't exist or use the existing ones if they do\n      self.position = (self.position || kontra.vector());\n      self.velocity = (self.velocity || kontra.vector());\n      self.acceleration = (self.acceleration || kontra.vector());\n\n      self.position._init(properties.x, properties.y);\n      self.velocity._init(properties.dx, properties.dy);\n      self.acceleration._init(properties.ddx, properties.ddy);\n\n      // default width and height to 0 if not passed in\n      self.width = self.height = 0;\n\n      // loop through properties before overrides\n      for (var prop in properties) {\n        self[prop] = properties[prop];\n      }\n\n      self.ttl = properties.ttl || 0;\n      self.context = properties.context || kontra.context;\n\n      // default to rect sprite\n      self.advance = self._advance;\n      self.draw = self._draw;\n\n      // image sprite\n      if (kontra._isImage(temp = properties.image)) {\n        self.image = temp;\n        self.width = temp.width;\n        self.height = temp.height;\n\n        self.draw = self._drawImg;\n      }\n      // animation sprite\n      else if (temp = properties.animations) {\n        self.animations = {};\n\n        // clone each animation so no sprite shares an animation\n        for (var name in temp) {\n          animation = temp[name];\n          self.animations[name] = (animation.clone ? animation.clone() : animation);\n\n          // default the current animation to the first one in the list\n          if (!firstAnimation) {\n            firstAnimation = self.animations[name];\n          }\n        }\n\n        self.currentAnimation = firstAnimation;\n        self.width = firstAnimation.width;\n        self.height = firstAnimation.height;\n\n        self.advance = self._advanceAnim;\n        self.draw = self._drawAnim;\n      }\n    },\n\n    // define getter and setter shortcut functions to make it easier to work with the\n    // position, velocity, and acceleration vectors.\n\n    /**\n     * Sprite position.x\n     * @memberof kontra.sprite\n     *\n     * @property {number} x\n     */\n    get x() {\n      return this.position.x;\n    },\n\n    /**\n     * Sprite position.y\n     * @memberof kontra.sprite\n     *\n     * @property {number} y\n     */\n    get y() {\n      return this.position.y;\n    },\n\n    /**\n     * Sprite velocity.x\n     * @memberof kontra.sprite\n     *\n     * @property {number} dx\n     */\n    get dx() {\n      return this.velocity.x;\n    },\n\n    /**\n     * Sprite velocity.y\n     * @memberof kontra.sprite\n     *\n     * @property {number} dy\n     */\n    get dy() {\n      return this.velocity.y;\n    },\n\n    /**\n     * Sprite acceleration.x\n     * @memberof kontra.sprite\n     *\n     * @property {number} ddx\n     */\n    get ddx() {\n      return this.acceleration.x;\n    },\n\n    /**\n     * Sprite acceleration.y\n     * @memberof kontra.sprite\n     *\n     * @property {number} ddy\n     */\n    get ddy() {\n      return this.acceleration.y;\n    },\n\n    set x(value) {\n      this.position.x = value;\n    },\n    set y(value) {\n      this.position.y = value;\n    },\n    set dx(value) {\n      this.velocity.x = value;\n    },\n    set dy(value) {\n      this.velocity.y = value;\n    },\n    set ddx(value) {\n      this.acceleration.x = value;\n    },\n    set ddy(value) {\n      this.acceleration.y = value;\n    },\n\n    /**\n     * Determine if the sprite is alive.\n     * @memberof kontra.sprite\n     *\n     * @returns {boolean}\n     */\n    isAlive: function isAlive() {\n      return this.ttl > 0;\n    },\n\n    /**\n     * Simple bounding box collision test.\n     * @memberof kontra.sprite\n     *\n     * @param {object} object - Object to check collision against.\n     *\n     * @returns {boolean} True if the objects collide, false otherwise.\n     */\n    collidesWith: function collidesWith(object) {\n      return this.x < object.x + object.width &&\n             this.x + this.width > object.x &&\n             this.y < object.y + object.height &&\n             this.y + this.height > object.y;\n    },\n\n    /**\n     * Update the sprites velocity and position.\n     * @memberof kontra.sprite\n     * @abstract\n     *\n     * @param {number} dt - Time since last update.\n     *\n     * This function can be overridden on a per sprite basis if more functionality\n     * is needed in the update step. Just call <code>this.advance()</code> when you need\n     * the sprite to update its position.\n     *\n     * @example\n     * sprite = kontra.sprite({\n     *   update: function update(dt) {\n     *     // do some logic\n     *\n     *     this.advance(dt);\n     *   }\n     * });\n     */\n    update: function update(dt) {\n      this.advance(dt);\n    },\n\n    /**\n     * Render the sprite.\n     * @memberof kontra.sprite.\n     * @abstract\n     *\n     * This function can be overridden on a per sprite basis if more functionality\n     * is needed in the render step. Just call <code>this.draw()</code> when you need the\n     * sprite to draw its image.\n     *\n     * @example\n     * sprite = kontra.sprite({\n     *   render: function render() {\n     *     // do some logic\n     *\n     *     this.draw();\n     *   }\n     * });\n     */\n    render: function render() {\n      this.draw();\n    },\n\n    /**\n     * Play an animation.\n     * @memberof kontra.sprite\n     *\n     * @param {string} name - Name of the animation to play.\n     */\n    playAnimation: function playAnimation(name) {\n      this.currentAnimation = this.animations[name];\n    },\n\n    /**\n     * Move the sprite by its velocity.\n     * @memberof kontra.sprite\n     * @private\n     *\n     * @param {number} dt - Time since last update.\n     */\n    _advance: function advanceSprite(dt) {\n      this.velocity.add(this.acceleration, dt);\n      this.position.add(this.velocity, dt);\n\n      this.ttl--;\n    },\n\n    /**\n     * Update the currently playing animation. Used when animations are passed to the sprite.\n     * @memberof kontra.sprite\n     * @private\n     *\n     * @param {number} dt - Time since last update.\n     */\n    _advanceAnim: function advanceAnimation(dt) {\n      this._advance(dt);\n\n      this.currentAnimation.update(dt);\n    },\n\n    /**\n     * Draw a simple rectangle. Useful for prototyping.\n     * @memberof kontra.sprite\n     * @private\n     */\n    _draw: function drawRect() {\n      this.context.fillStyle = this.color;\n      this.context.fillRect(this.x, this.y, this.width, this.height);\n    },\n\n    /**\n     * Draw the sprite.\n     * @memberof kontra.sprite\n     * @private\n     */\n    _drawImg: function drawImage() {\n      this.context.drawImage(this.image, this.x, this.y);\n    },\n\n    /**\n     * Draw the currently playing animation. Used when animations are passed to the sprite.\n     * @memberof kontra.sprite\n     * @private\n     */\n    _drawAnim: function drawAnimation() {\n      this.currentAnimation.render({\n        context: this.context,\n        x: this.x,\n        y: this.y\n      });\n    }\n  };\n})(kontra, Math, Infinity);\n(function(kontra) {\n  /**\n   * Single animation from a sprite sheet.\n   * @memberof kontra\n   *\n   * @param {object} properties - Properties of the animation.\n   * @param {object} properties.spriteSheet - Sprite sheet for the animation.\n   * @param {number[]} properties.frames - List of frames of the animation.\n   * @param {number}  properties.frameRate - Number of frames to display in one second.\n   */\n  kontra.animation = function(properties) {\n    var animation = Object.create(kontra.animation.prototype);\n    animation._init(properties);\n\n    return animation;\n  };\n\n  kontra.animation.prototype = {\n    /**\n     * Initialize properties on the animation.\n     * @memberof kontra.animation\n     * @private\n     *\n     * @param {object} properties - Properties of the animation.\n     * @param {object} properties.spriteSheet - Sprite sheet for the animation.\n     * @param {number[]} properties.frames - List of frames of the animation.\n     * @param {number}  properties.frameRate - Number of frames to display in one second.\n     */\n    _init: function init(properties) {\n      properties = properties || {};\n\n      this.spriteSheet = properties.spriteSheet;\n      this.frames = properties.frames;\n      this.frameRate = properties.frameRate;\n\n      var frame = properties.spriteSheet.frame;\n      this.width = frame.width;\n      this.height = frame.height;\n      this.margin = frame.margin || 0;\n\n      this._frame = 0;\n      this._accum = 0;\n    },\n\n    /**\n     * Clone an animation to be used more than once.\n     * @memberof kontra.animation\n     *\n     * @returns {object}\n     */\n    clone: function clone() {\n      return kontra.animation(this);\n    },\n\n    /**\n     * Update the animation. Used when the animation is not paused or stopped.\n     * @memberof kontra.animation\n     * @private\n     *\n     * @param {number} [dt=1/60] - Time since last update.\n     */\n    update: function advance(dt) {\n      dt = dt || 1 / 60;\n\n      this._accum += dt;\n\n      // update to the next frame if it's time\n      while (this._accum * this.frameRate >= 1) {\n        this._frame = ++this._frame % this.frames.length;\n\n        this._accum -= 1 / this.frameRate;\n      }\n    },\n\n    /**\n     * Draw the current frame. Used when the animation is not stopped.\n     * @memberof kontra.animation\n     * @private\n     *\n     * @param {object} properties - How to draw the animation.\n     * @param {number} properties.x - X position to draw.\n     * @param {number} properties.y - Y position to draw.\n     * @param {Context} [properties.context=kontra.context] - Provide a context for the sprite to draw on.\n     */\n    render: function draw(properties) {\n      properties = properties || {};\n\n      var context = properties.context || kontra.context;\n\n      // get the row and col of the frame\n      var row = this.frames[this._frame] / this.spriteSheet.framesPerRow | 0;\n      var col = this.frames[this._frame] % this.spriteSheet.framesPerRow | 0;\n\n      context.drawImage(\n        this.spriteSheet.image,\n        col * this.width + (col * 2 + 1) * this.margin,\n        row * this.height + (row * 2 + 1) * this.margin,\n        this.width, this.height,\n        properties.x, properties.y,\n        this.width, this.height\n      );\n    }\n  };\n\n\n\n\n\n\n  /**\n   * Create a sprite sheet from an image.\n   * @memberof kontra\n   *\n   * @param {object} properties - Properties of the sprite sheet.\n   * @param {Image|Canvas} properties.image - Image for the sprite sheet.\n   * @param {number} properties.frameWidth - Width (in px) of each frame.\n   * @param {number} properties.frameHeight - Height (in px) of each frame.\n   * @param {number} properties.frameMargin - Margin (in px) between each frame.\n   * @param {object} properties.animations - Animations to create from the sprite sheet.\n   */\n  kontra.spriteSheet = function(properties) {\n    var spriteSheet = Object.create(kontra.spriteSheet.prototype);\n    spriteSheet._init(properties);\n\n    return spriteSheet;\n  };\n\n  kontra.spriteSheet.prototype = {\n    /**\n     * Initialize properties on the spriteSheet.\n     * @memberof kontra\n     * @private\n     *\n     * @param {object} properties - Properties of the sprite sheet.\n     * @param {Image|Canvas} properties.image - Image for the sprite sheet.\n     * @param {number} properties.frameWidth - Width (in px) of each frame.\n     * @param {number} properties.frameHeight - Height (in px) of each frame.\n     * @param {number} properties.frameMargin - Margin (in px) between each frame.\n     * @param {object} properties.animations - Animations to create from the sprite sheet.\n     */\n    _init: function init(properties) {\n      properties = properties || {};\n\n      if (!kontra._isImage(properties.image)) {\n        throw Erorr('You must provide an Image for the SpriteSheet');\n      }\n\n      this.animations = {};\n      this.image = properties.image;\n      this.frame = {\n        width: properties.frameWidth,\n        height: properties.frameHeight,\n        margin: properties.frameMargin\n      };\n\n      this.framesPerRow = properties.image.width / properties.frameWidth | 0;\n\n      this.createAnimations(properties.animations);\n    },\n\n    /**\n     * Create animations from the sprite sheet.\n     * @memberof kontra.spriteSheet\n     *\n     * @param {object} animations - List of named animations to create from the Image.\n     * @param {number|string|number[]|string[]} animations.animationName.frames - A single frame or list of frames for this animation.\n     * @param {number} animations.animationName.frameRate - Number of frames to display in one second.\n     *\n     * @example\n     * var sheet = kontra.spriteSheet({image: img, frameWidth: 16, frameHeight: 16});\n     * sheet.createAnimations({\n     *   idle: {\n     *     frames: 1  // single frame animation\n     *   },\n     *   walk: {\n     *     frames: '2..6',  // ascending consecutive frame animation (frames 2-6, inclusive)\n     *     frameRate: 4\n     *   },\n     *   moonWalk: {\n     *     frames: '6..2',  // descending consecutive frame animation\n     *     frameRate: 4\n     *   },\n     *   jump: {\n     *     frames: [7, 12, 2],  // non-consecutive frame animation\n     *     frameRate: 3\n     *   },\n     *   attack: {\n     *     frames: ['8..10', 13, '10..8'],  // you can also mix and match, in this case frames [8,9,10,13,10,9,8]\n     *     frameRate: 2\n     *   }\n     * });\n     */\n    createAnimations: function createAnimations(animations) {\n      var animation, frames, frameRate, sequence;\n\n      for (var name in animations) {\n        animation = animations[name];\n        frames = animation.frames;\n        frameRate = animation.frameRate;\n\n        // array that holds the order of the animation\n        sequence = [];\n\n        if (frames === undefined) {\n          throw Error('Animation ' + name + ' must provide a frames property');\n        }\n\n        if (!Array.isArray(frames)) {\n          frames = [frames];\n        }\n\n        for (var i = 0, frame; frame = frames[i]; i++) {\n          // add new frames to the end of the array\n          sequence.push.apply(sequence, this._parse(frame));\n        }\n\n        this.animations[name] = kontra.animation({\n          spriteSheet: this,\n          frames: sequence,\n          frameRate: frameRate\n        });\n      }\n    },\n\n    /**\n     * Parse a string of consecutive frames.\n     * @memberof kontra.spriteSheet\n     * @private\n     *\n     * @param {string} frames - Start and end frame.\n     *\n     * @returns {number[]} List of frames.\n     */\n    _parse: function parse(consecutiveFrames) {\n      if (kontra._isNumber(consecutiveFrames)) {\n        return [consecutiveFrames];\n      }\n\n      var sequence = [];\n      var frames = consecutiveFrames.split('..');\n\n      // coerce string to number\n      // @see https://github.com/jed/140bytes/wiki/Byte-saving-techniques#coercion-to-test-for-types\n      var start = i = +frames[0];\n      var end = +frames[1];\n\n      // ascending frame order\n      if (start < end) {\n        for (; i <= end; i++) {\n          sequence.push(i);\n        }\n      }\n      // descending order\n      else {\n        for (; i >= end; i--) {\n          sequence.push(i);\n        }\n      }\n\n      return sequence;\n    }\n  };\n})(kontra);\n/**\n * Object for using localStorage.\n */\nkontra.store = {\n\n  /**\n   * Save an item to localStorage.\n   * @memberof kontra.store\n   *\n   * @param {string} key - Name to store the item as.\n   * @param {*} value - Item to store.\n   */\n  set: function setStoreItem(key, value) {\n    if (value === undefined) {\n      localStorage.removeItem(key);\n    }\n    else {\n      localStorage.setItem(key, JSON.stringify(value));\n    }\n  },\n\n  /**\n   * Retrieve an item from localStorage and convert it back to it's original type.\n   * @memberof kontra.store\n   *\n   * @param {string} key - Name of the item.\n   *\n   * @returns {*}\n   */\n  get: function getStoreItem(key) {\n    var value = localStorage.getItem(key);\n\n    try {\n      value = JSON.parse(value);\n    }\n    catch(e) {}\n\n    return value;\n  }\n};\n(function(kontra, Math, Array) {\n  // save Math.min and Math.max to variable and use that instead\n\n  /**\n   * A tile engine for rendering tilesets. Works well with the tile engine program Tiled.\n   * @memberof kontra\n   *\n   * @param {object} properties - Properties of the tile engine.\n   * @param {number} [properties.tileWidth=32] - Width of a tile.\n   * @param {number} [properties.tileHeight=32] - Height of a tile.\n   * @param {number} properties.width - Width of the map (in tiles).\n   * @param {number} properties.height - Height of the map (in tiles).\n   * @param {number} [properties.x=0] - X position to draw.\n   * @param {number} [properties.y=0] - Y position to draw.\n   * @param {number} [properties.sx=0] - X position to clip the tileset.\n   * @param {number} [properties.sy=0] - Y position to clip the tileset.\n   * @param {Context} [properties.context=kontra.context] - Provide a context for the tile engine to draw on.\n   */\n  kontra.tileEngine = function(properties) {\n    properties = properties || {};\n\n    // size of the map (in tiles)\n    if (!properties.width || !properties.height) {\n      throw Error('You must provide width and height properties');\n    }\n\n    /**\n     * Get the index of the x, y or row, col.\n     * @memberof kontra.tileEngine\n     * @private\n     *\n     * @param {number} position.x - X coordinate of the tile.\n     * @param {number} position.y - Y coordinate of the tile.\n     * @param {number} position.row - Row of the tile.\n     * @param {number} position.col - Col of the tile.\n     *\n     * @return {number} Returns the tile index or -1 if the x, y or row, col is outside the dimensions of the tile engine.\n     */\n    function getIndex(position) {\n      var row, col;\n\n      if (typeof position.x !== 'undefined' && typeof position.y !== 'undefined') {\n        row = tileEngine.getRow(position.y);\n        col = tileEngine.getCol(position.x);\n      }\n      else {\n        row = position.row;\n        col = position.col;\n      }\n\n      // don't calculate out of bound numbers\n      if (row < 0 || col < 0 || row >= height || col >= width) {\n        return -1;\n      }\n\n      return col + row * width;\n    }\n\n    /**\n     * Modified binary search that will return the tileset associated with the tile\n     * @memberof kontra.tileEngine\n     * @private\n     *\n     * @param {number} tile - Tile grid.\n     *\n     * @return {object}\n     */\n    function getTileset(tile) {\n      var min = 0;\n      var max = tileEngine.tilesets.length - 1;\n      var index, currTile;\n\n      while (min <= max) {\n        index = (min + max) / 2 | 0;\n        currTile = tileEngine.tilesets[index];\n\n        if (tile >= currTile.firstGrid && tile <= currTile.lastGrid) {\n          return currTile;\n        }\n        else if (currTile.lastGrid < tile) {\n          min = index + 1;\n        }\n        else {\n          max = index - 1;\n        }\n      }\n    }\n\n    /**\n     * Pre-render the tiles to make drawing fast.\n     * @memberof kontra.tileEngine\n     * @private\n     */\n    function preRenderImage() {\n      var tile, tileset, image, x, y, sx, sy, tileOffset, w;\n\n      // draw each layer in order\n      for (var i = 0, layer; layer = tileEngine.layers[layerOrder[i]]; i++) {\n        for (var j = 0, len = layer.data.length; j < len; j++) {\n          tile = layer.data[j];\n\n          // skip empty tiles (0)\n          if (!tile) {\n            continue;\n          }\n\n          tileset = getTileset(tile);\n          image = tileset.image;\n\n          x = (j % width) * tileWidth;\n          y = (j / width | 0) * tileHeight;\n\n          tileOffset = tile - tileset.firstGrid;\n          w = image.width / tileWidth;\n\n          sx = (tileOffset % w) * tileWidth;\n          sy = (tileOffset / w | 0) * tileHeight;\n\n          offscreenContext.drawImage(\n            image,\n            sx, sy, tileWidth, tileHeight,\n            x, y, tileWidth, tileHeight\n          );\n        }\n      }\n    }\n\n    var width = properties.width;\n    var height = properties.height;\n\n    // size of the tiles. Most common tile size on opengameart.org seems to be 32x32,\n    // followed by 16x16\n    // Tiled names the property tilewidth and tileheight\n    var tileWidth = properties.tileWidth || properties.tilewidth || 32;\n    var tileHeight = properties.tileHeight || properties.tileheight || 32;\n\n    var mapWidth = width * tileWidth;\n    var mapHeight = height * tileHeight;\n\n    var context = properties.context || kontra.context;\n    var canvasWidth = context.canvas.width;\n    var canvasHeight = context.canvas.height;\n\n    // create an off-screen canvas for pre-rendering the map\n    // @see http://jsperf.com/render-vs-prerender\n    var offscreenCanvas = document.createElement('canvas');\n    var offscreenContext = offscreenCanvas.getContext('2d');\n\n    // when clipping an image, sx and sy must within the image region, otherwise\n    // Firefox and Safari won't draw it.\n    // @see http://stackoverflow.com/questions/19338032/canvas-indexsizeerror-index-or-size-is-negative-or-greater-than-the-allowed-a\n    var sxMax = Math.max(0, mapWidth - canvasWidth);\n    var syMax = Math.max(0, mapHeight - canvasHeight);\n\n    var _sx, _sy;\n\n    // draw order of layers (by name)\n    var layerOrder = [];\n\n    var tileEngine = {\n      width: width,\n      height: height,\n\n      tileWidth: tileWidth,\n      tileHeight: tileHeight,\n\n      mapWidth: mapWidth,\n      mapHeight: mapHeight,\n\n      context: context,\n\n      x: properties.x || 0,\n      y: properties.y || 0,\n\n      tilesets: [],\n      layers: {},\n\n      /**\n       * Add an tileset for the tile engine to use.\n       * @memberof kontra.tileEngine\n       *\n       * @param {object|object[]} tileset - Properties of the image to add.\n       * @param {Image|Canvas} tileset.image - Path to the image or Image object.\n       * @param {number} tileset.firstGrid - The first tile grid to start the image.\n       */\n      addTilesets: function addTilesets(tilesets) {\n        if (!Array.isArray(tilesets)) {\n          tilesets = [tilesets]\n        }\n\n        tilesets.forEach(function(tileset) {\n          var tilesetImage = tileset.image;\n          var image, firstGrid, numTiles, lastTileset, tiles;\n\n          if (kontra._isImage(tilesetImage)) {\n            image = tilesetImage;\n          }\n          // see if the image path is in kontra.assets.images\n          else if (kontra._isString(tilesetImage)) {\n            var i = Infinity;\n\n            while (i >= 0) {\n              i = tilesetImage.lastIndexOf('/', i);\n              var path = (i < 0 ? tilesetImage : tilesetImage.substr(i));\n\n              if (kontra.assets.images[path]) {\n                image = kontra.assets.images[path];\n                break;\n              }\n\n              i--;\n            }\n          }\n\n          if (!image) {\n            throw Error('You must provide an Image for the tileset');\n          }\n\n          firstGrid = tileset.firstGrid;\n\n          // if the width or height of the provided image is smaller than the tile size,\n          // default calculation to 1\n          numTiles = ( (image.width / tileWidth | 0) || 1 ) *\n                         ( (image.height / tileHeight | 0) || 1 );\n\n          if (!firstGrid) {\n            // only calculate the first grid if the tile map has a tileset already\n            if (tileEngine.tilesets.length > 0) {\n              lastTileset = tileEngine.tilesets[tileEngine.tilesets.length - 1];\n              tiles = (lastTileset.image.width / tileWidth | 0) *\n                      (lastTileset.image.height / tileHeight | 0);\n\n              firstGrid = lastTileset.firstGrid + tiles;\n            }\n            // otherwise this is the first tile added to the tile map\n            else {\n              firstGrid = 1;\n            }\n          }\n\n          tileEngine.tilesets.push({\n            firstGrid: firstGrid,\n            lastGrid: firstGrid + numTiles - 1,\n            image: image\n          });\n\n          // sort the tile map so we can perform a binary search when drawing\n          tileEngine.tilesets.sort(function(a, b) {\n            return a.firstGrid - b.firstGrid;\n          });\n        });\n      },\n\n      /**\n       * Add a layer to the tile engine.\n       * @memberof kontra.tileEngine\n       *\n       * @param {object} properties - Properties of the layer to add.\n       * @param {string} properties.name - Name of the layer.\n       * @param {number[]} properties.data - Tile layer data.\n       * @param {boolean} [properties.render=true] - If the layer should be drawn.\n       * @param {number} [properties.zIndex] - Draw order for tile layer. Highest number is drawn last (i.e. on top of all other layers).\n       */\n      addLayers: function addLayers(layers) {\n        if (!Array.isArray(layers)) {\n          layers = [layers]\n        }\n\n        layers.forEach(function(layer) {\n          layer.render = (layer.render === undefined ? true : layer.render);\n\n          var data, r, row, c, prop, value;\n\n          // flatten a 2D array into a single array\n          if (Array.isArray(layer.data[0])) {\n            data = [];\n\n            for (r = 0; row = layer.data[r]; r++) {\n              for (c = 0; c < width; c++) {\n                data.push(row[c] || 0);\n              }\n            }\n          }\n          else {\n            data = layer.data;\n          }\n\n          tileEngine.layers[layer.name] = {\n            data: data,\n            zIndex: layer.zIndex || 0,\n            render: layer.render\n          };\n\n          // merge properties of layer onto layer object\n          for (prop in layer.properties) {\n            value = layer.properties[prop];\n\n            try {\n              value = JSON.parse(value);\n            }\n            catch(e) {}\n\n            tileEngine.layers[layer.name][prop] = value;\n          }\n\n          // only add the layer to the layer order if it should be drawn\n          if (tileEngine.layers[layer.name].render) {\n            layerOrder.push(layer.name);\n\n            layerOrder.sort(function(a, b) {\n              return tileEngine.layers[a].zIndex - tileEngine.layers[b].zIndex;\n            });\n\n          }\n        });\n\n        preRenderImage();\n      },\n\n      /**\n       * Simple bounding box collision test for layer tiles.\n       * @memberof kontra.tileEngine\n       *\n       * @param {string} name - Name of the layer.\n       * @param {object} object - Object to check collision against.\n       * @param {number} object.x - X coordinate of the object.\n       * @param {number} object.y - Y coordinate of the object.\n       * @param {number} object.width - Width of the object.\n       * @param {number} object.height - Height of the object.\n       *\n       * @returns {boolean} True if the object collides with a tile, false otherwise.\n       */\n      layerCollidesWith: function layerCollidesWith(name, object) {\n        // calculate all tiles that the object can collide with\n        var row = tileEngine.getRow(object.y);\n        var col = tileEngine.getCol(object.x);\n\n        var endRow = tileEngine.getRow(object.y + object.height);\n        var endCol = tileEngine.getCol(object.x + object.width);\n\n        // check all tiles\n        var index;\n        for (var r = row; r <= endRow; r++) {\n          for (var c = col; c <= endCol; c++) {\n            index = getIndex({row: r, col: c});\n\n            if (tileEngine.layers[name].data[index]) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n      },\n\n      /**\n       * Get the tile from the specified layer at x, y or row, col.\n       * @memberof kontra.tileEngine\n       *\n       * @param {string} name - Name of the layer.\n       * @param {object} position - Position of the tile in either x, y or row, col.\n       * @param {number} position.x - X coordinate of the tile.\n       * @param {number} position.y - Y coordinate of the tile.\n       * @param {number} position.row - Row of the tile.\n       * @param {number} position.col - Col of the tile.\n       *\n       * @returns {number}\n       */\n      tileAtLayer: function tileAtLayer(name, position) {\n        var index = getIndex(position);\n\n        if (index >= 0) {\n          return tileEngine.layers[name].data[index];\n        }\n      },\n\n      /**\n       * Render the pre-rendered canvas.\n       * @memberof kontra.tileEngine\n       */\n      render: function render() {\n        /* istanbul ignore next */\n        tileEngine.context.drawImage(\n          offscreenCanvas,\n          tileEngine.sx, tileEngine.sy, canvasWidth, canvasHeight,\n          tileEngine.x, tileEngine.y, canvasWidth, canvasHeight\n        );\n      },\n\n      /**\n       * Render a specific layer.\n       * @memberof kontra.tileEngine\n       *\n       * @param {string} name - Name of the layer to render.\n       */\n      renderLayer: function renderLayer(name) {\n        var layer = tileEngine.layers[name];\n\n        // calculate the starting tile\n        var row = tileEngine.getRow();\n        var col = tileEngine.getCol();\n        var index = getIndex({row: row, col: col});\n\n        // calculate where to start drawing the tile relative to the drawing canvas\n        var startX = col * tileWidth - tileEngine.sx;\n        var startY = row * tileHeight - tileEngine.sy;\n\n        // calculate how many tiles the drawing canvas can hold\n        var viewWidth = Math.min(Math.ceil(canvasWidth / tileWidth) + 1, width);\n        var viewHeight = Math.min(Math.ceil(canvasHeight / tileHeight) + 1, height);\n        var numTiles = viewWidth * viewHeight;\n\n        var count = 0;\n        var x, y, tile, tileset, image, tileOffset, w, sx, sy;\n\n        // draw just enough of the layer to fit inside the drawing canvas\n        while (count < numTiles) {\n          tile = layer.data[index];\n\n          if (tile) {\n            tileset = getTileset(tile);\n            image = tileset.image;\n\n            x = startX + (count % viewWidth) * tileWidth;\n            y = startY + (count / viewWidth | 0) * tileHeight;\n\n            tileOffset = tile - tileset.firstGrid;\n            w = image.width / tileWidth;\n\n            sx = (tileOffset % w) * tileWidth;\n            sy = (tileOffset / w | 0) * tileHeight;\n\n            tileEngine.context.drawImage(\n              image,\n              sx, sy, tileWidth, tileHeight,\n              x, y, tileWidth, tileHeight\n            );\n          }\n\n          if (++count % viewWidth === 0) {\n            index = col + (++row * width);\n          }\n          else {\n            index++;\n          }\n        }\n      },\n\n      /**\n       * Get the row from the y coordinate.\n       * @memberof kontra.tileEngine\n       *\n       * @param {number} y - Y coordinate.\n       *\n       * @return {number}\n       */\n      getRow: function getRow(y) {\n        y = y || 0;\n\n        return (tileEngine.sy + y) / tileHeight | 0;\n      },\n\n      /**\n       * Get the col from the x coordinate.\n       * @memberof kontra.tileEngine\n       *\n       * @param {number} x - X coordinate.\n       *\n       * @return {number}\n       */\n      getCol: function getCol(x) {\n        x = x || 0;\n\n        return (tileEngine.sx + x) / tileWidth | 0;\n      },\n\n      get sx() {\n        return _sx;\n      },\n\n      get sy() {\n        return _sy;\n      },\n\n      // ensure sx and sy are within the image region\n      set sx(value) {\n        _sx = Math.min( Math.max(0, value), sxMax );\n      },\n\n      set sy(value) {\n        _sy = Math.min( Math.max(0, value), syMax );\n      },\n\n      // expose properties for testing\n      _layerOrder: layerOrder\n    };\n\n    // set here so we use setter function\n    tileEngine.sx = properties.sx || 0;\n    tileEngine.sy = properties.sy || 0;\n\n    // make the off-screen canvas the full size of the map\n    offscreenCanvas.width = mapWidth;\n    offscreenCanvas.height = mapHeight;\n\n    // merge properties of the tile engine onto the tile engine itself\n    for (var prop in properties.properties) {\n      var value = properties.properties[prop];\n\n      try {\n        value = JSON.parse(value);\n      }\n      catch(e) {}\n\n      // passed in properties override properties.properties\n      tileEngine[prop] = tileEngine[prop] || value;\n    }\n\n    if (properties.tilesets) {\n      tileEngine.addTilesets(properties.tilesets);\n    }\n\n    if (properties.layers) {\n      tileEngine.addLayers(properties.layers);\n    }\n\n    return tileEngine;\n  };\n})(kontra, Math, Array);","\"use strict\"\n\nmodule.exports = twoProduct\n\nvar SPLITTER = +(Math.pow(2, 27) + 1.0)\n\nfunction twoProduct(a, b, result) {\n  var x = a * b\n\n  var c = SPLITTER * a\n  var abig = c - a\n  var ahi = c - abig\n  var alo = a - ahi\n\n  var d = SPLITTER * b\n  var bbig = d - b\n  var bhi = d - bbig\n  var blo = b - bhi\n\n  var err1 = x - (ahi * bhi)\n  var err2 = err1 - (alo * bhi)\n  var err3 = err2 - (ahi * blo)\n\n  var y = alo * blo - err3\n\n  if(result) {\n    result[0] = y\n    result[1] = x\n    return result\n  }\n\n  return [ y, x ]\n}","\"use strict\"\n\nmodule.exports = fastTwoSum\n\nfunction fastTwoSum(a, b, result) {\n\tvar x = a + b\n\tvar bv = x - a\n\tvar av = x - bv\n\tvar br = b - bv\n\tvar ar = a - av\n\tif(result) {\n\t\tresult[0] = ar + br\n\t\tresult[1] = x\n\t\treturn result\n\t}\n\treturn [ar+br, x]\n}","\"use strict\"\n\nvar twoProduct = require(\"two-product\")\nvar twoSum = require(\"two-sum\")\n\nmodule.exports = scaleLinearExpansion\n\nfunction scaleLinearExpansion(e, scale) {\n  var n = e.length\n  if(n === 1) {\n    var ts = twoProduct(e[0], scale)\n    if(ts[0]) {\n      return ts\n    }\n    return [ ts[1] ]\n  }\n  var g = new Array(2 * n)\n  var q = [0.1, 0.1]\n  var t = [0.1, 0.1]\n  var count = 0\n  twoProduct(e[0], scale, q)\n  if(q[0]) {\n    g[count++] = q[0]\n  }\n  for(var i=1; i<n; ++i) {\n    twoProduct(e[i], scale, t)\n    var pq = q[1]\n    twoSum(pq, t[0], q)\n    if(q[0]) {\n      g[count++] = q[0]\n    }\n    var a = t[1]\n    var b = q[1]\n    var x = a + b\n    var bv = x - a\n    var y = b - bv\n    q[1] = x\n    if(y) {\n      g[count++] = y\n    }\n  }\n  if(q[1]) {\n    g[count++] = q[1]\n  }\n  if(count === 0) {\n    g[count++] = 0.0\n  }\n  g.length = count\n  return g\n}","\"use strict\"\n\nmodule.exports = compressExpansion\n\nfunction compressExpansion(e) {\n  var m = e.length\n  var Q = e[e.length-1]\n  var bottom = m\n  for(var i=m-2; i>=0; --i) {\n    var a = Q\n    var b = e[i]\n    Q = a + b\n    var bv = Q - a\n    var q = b - bv\n    if(q) {\n      e[--bottom] = Q\n      Q = q\n    }\n  }\n  var top = 0\n  for(var i=bottom; i<m; ++i) {\n    var a = e[i]\n    var b = Q\n    Q = a + b\n    var bv = Q - a\n    var q = b - bv\n    if(q) {\n      e[top++] = q\n    }\n  }\n  e[top++] = Q\n  e.length = top\n  return e\n}","\"use strict\"\n\nvar twoProduct = require(\"two-product\")\nvar robustSum = require(\"robust-sum\")\nvar robustScale = require(\"robust-scale\")\nvar compress = require(\"robust-compress\")\n\nvar NUM_EXPANDED = 6\n\nfunction cofactor(m, c) {\n  var result = new Array(m.length-1)\n  for(var i=1; i<m.length; ++i) {\n    var r = result[i-1] = new Array(m.length-1)\n    for(var j=0,k=0; j<m.length; ++j) {\n      if(j === c) {\n        continue\n      }\n      r[k++] = m[i][j]\n    }\n  }\n  return result\n}\n\nfunction matrix(n) {\n  var result = new Array(n)\n  for(var i=0; i<n; ++i) {\n    result[i] = new Array(n)\n    for(var j=0; j<n; ++j) {\n      result[i][j] = [\"m[\", i, \"][\", j, \"]\"].join(\"\")\n    }\n  }\n  return result\n}\n\nfunction sign(n) {\n  if(n & 1) {\n    return \"-\"\n  }\n  return \"\"\n}\n\nfunction generateSum(expr) {\n  if(expr.length === 1) {\n    return expr[0]\n  } else if(expr.length === 2) {\n    return [\"sum(\", expr[0], \",\", expr[1], \")\"].join(\"\")\n  } else {\n    var m = expr.length>>1\n    return [\"sum(\", generateSum(expr.slice(0, m)), \",\", generateSum(expr.slice(m)), \")\"].join(\"\")\n  }\n}\n\nfunction determinant(m) {\n  if(m.length === 2) {\n    return [\"sum(prod(\", m[0][0], \",\", m[1][1], \"),prod(-\", m[0][1], \",\", m[1][0], \"))\"].join(\"\")\n  } else {\n    var expr = []\n    for(var i=0; i<m.length; ++i) {\n      expr.push([\"scale(\", determinant(cofactor(m, i)), \",\", sign(i), m[0][i], \")\"].join(\"\"))\n    }\n    return generateSum(expr)\n  }\n}\n\nfunction compileDeterminant(n) {\n  var proc = new Function(\"sum\", \"scale\", \"prod\", \"compress\", [\n    \"function robustDeterminant\",n, \"(m){return compress(\", \n      determinant(matrix(n)),\n    \")};return robustDeterminant\", n].join(\"\"))\n  return proc(robustSum, robustScale, twoProduct, compress)\n}\n\nvar CACHE = [\n  function robustDeterminant0() { return [0] },\n  function robustDeterminant1(m) { return [m[0][0]] }\n]\n\nfunction generateDispatch() {\n  while(CACHE.length < NUM_EXPANDED) {\n    CACHE.push(compileDeterminant(CACHE.length))\n  }\n  var procArgs = []\n  var code = [\"function robustDeterminant(m){switch(m.length){\"]\n  for(var i=0; i<NUM_EXPANDED; ++i) {\n    procArgs.push(\"det\" + i)\n    code.push(\"case \", i, \":return det\", i, \"(m);\")\n  }\n  code.push(\"}\\\nvar det=CACHE[m.length];\\\nif(!det)\\\ndet=CACHE[m.length]=gen(m.length);\\\nreturn det(m);\\\n}\\\nreturn robustDeterminant\")\n  procArgs.push(\"CACHE\", \"gen\", code.join(\"\"))\n  var proc = Function.apply(undefined, procArgs)\n  module.exports = proc.apply(undefined, CACHE.concat([CACHE, compileDeterminant]))\n  for(var i=0; i<CACHE.length; ++i) {\n    module.exports[i] = CACHE[i]\n  }\n}\n\ngenerateDispatch()","\"use strict\"\n\nvar determinant = require(\"robust-determinant\")\n\nvar NUM_EXPAND = 6\n\nfunction generateSolver(n) {\n  var funcName = \"robustLinearSolve\" + n + \"d\"\n  var code = [\"function \", funcName, \"(A,b){return [\"]\n  for(var i=0; i<n; ++i) {\n    code.push(\"det([\")\n    for(var j=0; j<n; ++j) {\n      if(j > 0) {\n        code.push(\",\")\n      }\n      code.push(\"[\")\n      for(var k=0; k<n; ++k) {\n        if(k > 0) {\n          code.push(\",\")\n        }\n        if(k === i) {\n          code.push(\"+b[\", j, \"]\")\n        } else {\n          code.push(\"+A[\", j, \"][\", k, \"]\")\n        }\n      }\n      code.push(\"]\")\n    }\n    code.push(\"]),\")\n  }\n  code.push(\"det(A)]}return \", funcName)\n  var proc = new Function(\"det\", code.join(\"\"))\n  if(n < 6) {\n    return proc(determinant[n])\n  }\n  return proc(determinant)\n}\n\nfunction robustLinearSolve0d() {\n  return [ 0 ]\n}\n\nfunction robustLinearSolve1d(A, b) {\n  return [ [ b[0] ], [ A[0][0] ] ]\n}\n\nvar CACHE = [\n  robustLinearSolve0d,\n  robustLinearSolve1d\n]\n\nfunction generateDispatch() {\n  while(CACHE.length < NUM_EXPAND) {\n    CACHE.push(generateSolver(CACHE.length))\n  }\n  var procArgs = []\n  var code = [\"function dispatchLinearSolve(A,b){switch(A.length){\"]\n  for(var i=0; i<NUM_EXPAND; ++i) {\n    procArgs.push(\"s\" + i)\n    code.push(\"case \", i, \":return s\", i, \"(A,b);\")\n  }\n  code.push(\"}var s=CACHE[A.length];if(!s)s=CACHE[A.length]=g(A.length);return s(A,b)}return dispatchLinearSolve\")\n  procArgs.push(\"CACHE\", \"g\", code.join(\"\"))\n  var proc = Function.apply(undefined, procArgs)\n  module.exports = proc.apply(undefined, CACHE.concat([CACHE, generateSolver]))\n  for(var i=0; i<NUM_EXPAND; ++i) {\n    module.exports[i] = CACHE[i]\n  }\n}\n\ngenerateDispatch()","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","/**\n * This function is like `baseIndexOf` except that it accepts a comparator.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOfWith(array, value, fromIndex, comparator) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (comparator(array[index], value)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseIndexOfWith;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var arrayMap = require('./_arrayMap'),\n    baseIndexOf = require('./_baseIndexOf'),\n    baseIndexOfWith = require('./_baseIndexOfWith'),\n    baseUnary = require('./_baseUnary'),\n    copyArray = require('./_copyArray');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAllBy` without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAll(array, values, iteratee, comparator) {\n  var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n      index = -1,\n      length = values.length,\n      seen = array;\n\n  if (array === values) {\n    values = copyArray(values);\n  }\n  if (iteratee) {\n    seen = arrayMap(array, baseUnary(iteratee));\n  }\n  while (++index < length) {\n    var fromIndex = 0,\n        value = values[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n      if (seen !== array) {\n        splice.call(seen, fromIndex, 1);\n      }\n      splice.call(array, fromIndex, 1);\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAll;\n","var basePullAll = require('./_basePullAll');\n\n/**\n * This method is like `_.pull` except that it accepts an array of values to remove.\n *\n * **Note:** Unlike `_.difference`, this method mutates `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pullAll(array, ['a', 'c']);\n * console.log(array);\n * // => ['b', 'b']\n */\nfunction pullAll(array, values) {\n  return (array && array.length && values && values.length)\n    ? basePullAll(array, values)\n    : array;\n}\n\nmodule.exports = pullAll;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor,\n    nativeRandom = Math.random;\n\n/**\n * The base implementation of `_.random` without support for returning\n * floating-point numbers.\n *\n * @private\n * @param {number} lower The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the random number.\n */\nfunction baseRandom(lower, upper) {\n  return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n}\n\nmodule.exports = baseRandom;\n","var baseRandom = require('./_baseRandom');\n\n/**\n * A specialized version of `_.sample` for arrays.\n *\n * @private\n * @param {Array} array The array to sample.\n * @returns {*} Returns the random element.\n */\nfunction arraySample(array) {\n  var length = array.length;\n  return length ? array[baseRandom(0, length - 1)] : undefined;\n}\n\nmodule.exports = arraySample;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n","var arraySample = require('./_arraySample'),\n    values = require('./values');\n\n/**\n * The base implementation of `_.sample`.\n *\n * @private\n * @param {Array|Object} collection The collection to sample.\n * @returns {*} Returns the random element.\n */\nfunction baseSample(collection) {\n  return arraySample(values(collection));\n}\n\nmodule.exports = baseSample;\n","var arraySample = require('./_arraySample'),\n    baseSample = require('./_baseSample'),\n    isArray = require('./isArray');\n\n/**\n * Gets a random element from `collection`.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to sample.\n * @returns {*} Returns the random element.\n * @example\n *\n * _.sample([1, 2, 3, 4]);\n * // => 2\n */\nfunction sample(collection) {\n  var func = isArray(collection) ? arraySample : baseSample;\n  return func(collection);\n}\n\nmodule.exports = sample;\n","class Equation {\n  constructor(a, b, c) {\n    this.a = a;\n    this.b = b;\n    this.c = c;\n  }\n\n  format() {\n    const a = Math.abs(this.a) === 1 ? '' : Math.abs(this.a);\n    const asign = this.a < 0 ? '-' : '';\n\n    const b = Math.abs(this.b) === 1 ? '' : Math.abs(this.b);\n    const bsign = this.b < 0 ? '-' : '+';\n\n    return `${asign}${a}x ${bsign} ${b}y = ${this.c}`;\n  }\n}\n\nexport default Equation;\n","import linSolve from 'robust-linear-solve';\nimport range from 'lodash/range';\nimport pullAll from 'lodash/pullAll';\nimport sample from 'lodash/sample';\nimport Equation from './equation';\n\nconst solve2x2 = linSolve[2];\n\nclass Soe {\n  static randomInteger({ lower, upper, exclude = [] }) {\n    return sample(pullAll(range(lower, upper + 1), exclude));\n  }\n\n  static generateCoefficient(opts = {}) {\n    return this.randomInteger({\n      lower: -9,\n      upper: 9,\n      exclude: [0],\n      ...opts,\n    });\n  }\n\n  static generateAnswer(opts = {}) {\n    return this.randomInteger({\n      lower: -9,\n      upper: 9,\n      ...opts,\n    });\n  }\n\n  static generateElimination() {\n    // Elimination is efficient when the coefficients of the Xs or Ys in both equations are the same\n    // Sometimes one or both equations have to be multiplied by a number to make the variable cancel\n    // possible difficulty options:\n    // - simple addition, e.g. 2x + 2y = 10; -2x + 3y = 0;\n    // - subtraction: same as above but second equation is 2x - 3y = 0\n    // - move stuff around -- put c on the left side\n    // - student must multiply one of the equations by 2 or 3\n    // - student must multiply both of the equations by 2 or 3\n    return this.generateRandom();\n  }\n\n  static generateSubstitution() {\n    // Substitution is most useful when the problem already contains an isolated\n    // variable or if there is at least a variable that has a coefficient of one.\n    return this.generateRandom();\n  }\n\n  // todo: prevent all coefficients from being the same\n  // todo: also prevent this: 2x - 2y = 6; 8x - 8y = 24\n  static generateRandom() {\n    const a1 = this.generateCoefficient();\n    const a2 = this.generateCoefficient();\n    const b1 = this.generateCoefficient();\n    const b2 = this.generateCoefficient();\n\n    const x = this.generateAnswer();\n    const y = this.generateAnswer();\n\n    const c1 = (a1 * x) + (b1 * y);\n    const c2 = (a2 * x) + (b2 * y);\n\n    const equation1 = new Equation(a1, b1, c1);\n    const equation2 = new Equation(a2, b2, c2);\n    return [equation1, equation2];\n  }\n\n  static generate() {\n    return this.generateType('random');\n  }\n\n  static generateType(type = 'random') {\n    return ({\n      random: this.generateRandom,\n      substitution: this.generateSubstitution,\n      elimination: this.generateElimination,\n    }[type] || (() => { throw new Error('soe type not found'); })).apply(this);\n  }\n\n  static solve([e1, e2]) {\n    const A = [[e1.a, e1.b], [e2.a, e2.b]];\n    const b = [e1.c, e2.c];\n    const solution = solve2x2(A, b);\n    const quotient = solution[2][0];\n    if (quotient === 0) {\n      return false;\n    }\n    // add 0 to get rid of negative sign from -0\n    return {\n      x: (solution[0][0] / quotient) + 0,\n      y: (solution[1][0] / quotient) + 0,\n    };\n  }\n}\n\nexport default Soe;\n","// #UNCOMMENTED_IN_PROD# import 'airbnb-js-shims/target/es2015';\n// #UNCOMMENTED_IN_PROD# import 'airbnb-browser-shims/browser-only';\n\nimport initGame from './lib/game';\nimport GeneratorDemo from './generator-demo';\n\nconst container = document.getElementById('container');\n\nconst generatorDemo = new GeneratorDemo();\ncontainer.appendChild(generatorDemo.containerElem);\ngeneratorDemo.generate();\n\nconst canvas = document.createElement('canvas');\ncanvas.id = 'game';\ncanvas.height = 999;\ncanvas.width = 999;\ncontainer.appendChild(canvas);\ninitGame(canvas);\n","import kontra from 'kontra';\n\nconst initGame = canvas => kontra.init(canvas);\n\nexport default initGame;\n"],"names":["scalarScalar","a","b","x","bv","y","createElement","tagName","className","elem","document","toStr","root","factory","module","this","ArrayIterator","_apply","Function","call","bind","apply","_call","isArray","Array","keys","Object","throwsError","func","e","valueOrFalseIfThrows","isCallableWithoutNew","arguments","not","supportsDescriptors","defineProperty","get","functionsHaveNames","name","_forEach","prototype","forEach","_reduce","reduce","_filter","filter","_some","some","object","value","force","configurable","enumerable","writable","defineProperties","map","forceOverride","method","_toString","toString","isCallable","Value","getter","TypeError","proxy","originalObject","key","targetObject","originalDescriptor","getOwnPropertyDescriptor","set","redefine","property","newValue","descriptor","defineByDescriptor","preserveToString","target","source","create","properties","Prototype","supportsSubclassing","C","f","setPrototypeOf","Sub","Subclass","arg","o","constructor","globals","self","window","global","Error","getGlobal","globalIsFinite","isFinite","_indexOf","String","indexOf","_arrayIndexOfApply","_concat","concat","_strSlice","slice","_push","push","_pushApply","_shift","shift","_max","Math","max","_min","min","_floor","floor","_abs","abs","_exp","exp","_log","log","_sqrt","sqrt","_hasOwnProperty","hasOwnProperty","noop","OrigMap","Map","origMapDelete","origMapGet","origMapHas","has","origMapSet","Symbol","symbolSpecies","species","numberIsNaN","Number","isNaN","numberIsFinite","_sign","sign","number","isStandardArguments","isArguments","length","callee","Type","primitive","string","regex","symbol","overrideNative","replacement","original","hasSymbols","$iterator$","iterator","Set","Reflect","$String","domAll","all","isNullOrUndefined","ES","Call","F","V","args","IsCallable","RequireObjectCoercible","optMessage","TypeIsObject","ToObject","IsConstructor","ToInt32","ToNumber","ToUint32","ToInteger","ToLength","len","MAX_SAFE_INTEGER","SameValue","SameValueZero","IsIterable","GetIterator","itFn","GetMethod","it","p","IteratorComplete","iterResult","done","IteratorClose","completionIsThrow","returnMethod","innerResult","innerException","IteratorNext","result","next","IteratorStep","Construct","newTarget","isES6internal","construct","proto","obj","SpeciesConstructor","O","defaultConstructor","S","CreateHTML","tag","attribute","ToString","p1","replace","IsRegExp","argument","isRegExp","match","defineWellKnownSymbol","sym","search","symbolSearch","originalSearch","RegExp","regexp","searcher","symbolReplace","originalReplace","replaceValue","searchValue","replacer","split","symbolSplit","originalSplit","limit","separator","splitter","symbolMatchExists","stringMatchIgnoresSymbolMatch","symbolMatch","originalMatch","matcher","wrapConstructor","keysToSkip","getOwnPropertyNames","defaultSpeciesGetter","addDefaultSpecies","addIterator","impl","implementation","createDataProperty","createDataPropertyOrThrow","emulateES6construct","defaultNewTarget","defaultProto","slots","fromCodePoint","originalFromCodePoint","codePoints","StringShims","i","RangeError","fromCharCode","join","raw","callSite","cooked","rawString","literalsegments","nextKey","nextSeg","nextSub","stringElements","nextIndex","0","1","stringRepeat","repeat","s","times","half","StringPrototypeShims","thisStr","numTimes","Infinity","startsWith","searchString","position","searchStr","start","endsWith","endPosition","pos","end","includes","codePointAt","first","charCodeAt","isEnd","second","startsWithRejectsRegex","startsWithHandlesInfinity","re","ws","trimRegexp","trimShim","nonWS","nonWSregex","isBadHexRegex","hasStringTrimBug","trim","iteratorResult","StringIterator","_s","_i","substr","ArrayShims","from","items","mapFn","mapping","T","nextValue","arrayLike","of","A","k","array","kind","retval","Foo","fooArr","ArrayPrototypeShims","copyWithin","relativeTarget","relativeStart","to","relativeEnd","finalItem","count","direction","fill","find","predicate","list","thisArg","findIndex","values","entries","unscopables","originalArrayPrototypeValues","searchElement","getPrototypeOf","arrayFromSwallowsNegativeLengths","arrayFromHandlesIterables","arr","origArrayFrom","int32sAsOne","pow","toLengthsCorrectly","reversed","originalForEach","callbackFn","originalMap","originalFilter","originalSome","every","originalEvery","originalReduce","reduceRight","originalReduceRight","lacksOctalSupport","lacksBinarySupport","trimsNonWhitespace","c","OrigNumber","binaryRegex","octalRegex","isBinary","test","isOctal","toPrimitive","valueOf","hasNonWS","isBadHex","NumberShim","primValue","parseInt","NaN","receiver","valueOfSucceeds","MAX_VALUE","MIN_VALUE","NEGATIVE_INFINITY","POSITIVE_INFINITY","maxSafeInteger","MIN_SAFE_INTEGER","EPSILON","parseFloat","isInteger","isSafeInteger","isEnumerableOn","propertyIsEnumerable","ensureEnumerable","prop","sliceArgs","initial","desiredArgCount","assignTo","assignReducer","symbols","sourceKeys","getOwnPropertySymbols","ObjectShims","assign","is","preventExtensions","thrower","ES5ObjectShims","magic","checkArgs","polyfill","FAKENULL","gpo","spo","originalObjectKeys","regexRejectingObjectKeys","regexKeys","cachedWindowNames","originalObjectGetOwnPropertyNames","val","originalObjectGetOwnPropertyDescriptor","seal","originalObjectSeal","isSealed","originalObjectIsSealed","freeze","originalObjectFreeze","isFrozen","originalObjectIsFrozen","originalObjectPreventExtensions","isExtensible","originalObjectIsExtensible","originalGetProto","hasFlags","desc","ignoreCase","multiline","unicode","sticky","regExpSupportsFlagsWithRegex","regExpNeedsToSupportSymbolMatch","regexToStringIsGeneric","regexToStringSupportsGenericFlags","flags","origRegExpToString","R","flagsGetter","sourceDesc","sourceGetter","OrigRegExp","RegExpShim","pattern","patternIsRegExp","P","$input","regexGlobals","input","lastMatch","lastParen","leftContext","rightContext","inverseEpsilon","roundTiesToEven","n","BINARY_32_EPSILON","BINARY_32_MAX_VALUE","BINARY_32_MIN_VALUE","E","LOG2E","LOG10E","numberCLZ","clz","MathShims","acosh","asinh","atanh","cbrt","negate","clz32","cosh","expm1","t","sum","hypot","largest","log2","log10","log1p","sinh","tanh","trunc","imul","al","bl","fround","v","expm1OfTen","origMathRound","round","roundHandlesBoundaryConditions","roundDoesNotIncreaseIntegers","num","ceil","origImul","PromiseShim","setTimeout","IsPromise","promise","_promise","makeZeroTimeout","PromiseCapability","capability","resolve","reject","postMessage","timeouts","addEventListener","event","data","stopPropagation","fn","Promise$prototype","Promise$prototype$then","enqueue","setImmediate","process","nextTick","Promise","pr","task","then","makePromiseAsap","PROMISE_IDENTITY","PROMISE_THROWER","PROMISE_FAKE_CAPABILITY","enqueuePromiseReactionJob","handler","promiseReactionJob","promiseCapability","handlerResult","fulfillPromise","reactionLength","fulfillReactionHandler0","reactionCapability0","rejectReactions0","idx","state","rejectPromise","reason","rejectReactionHandler0","createResolvingFunctions","alreadyResolved","resolution","promiseResolveThenableJob","optimizedThen","thenable","resolvingFunctions","resolver","_promiseAllResolver","index","remaining","alreadyCalled","performPromiseAll","iteratorRecord","resultCapability","nextPromise","resolveElement","performPromiseRace","iterable","exception","ee","race","rejectFunc","resolveFunc","catch","onRejected","onFulfilled","fulfillReactionHandler","rejectReactionHandler","accept","defer","chain","promiseSupportsSubclassing","promiseIgnoresNonFunctionThenCallbacks","promiseRequiresObjectContext","promiseResolveBroken","p2","getsThenSynchronously","BadResolverPromise","executor","hasBadResolverPromise","origAll","origRace","origResolve","origReject","r","testOrder","preservesInsertionOrder","preservesNumericInsertionOrder","fastkey","skipInsertionOrderCheck","emptyObject","addIterableToMap","MapConstructor","entry","iter","adder","nextItem","addIterableToSet","SetConstructor","add","collectionShims","empty","MapEntry","prev","isRemoved","isMap","_es6map","requireMapSlot","MapIterator","head","_head","Map$prototype","MapShim","_map","_size","_storage","fkey","delete","clear","callback","context","Set$prototype","isSet","_es6set","requireSetSlot","SetShim","[[SetData]]","decodeKey","charAt","ensureMap","m","size","hasFKey","entireSet","testMap","mapUsesSameValueZero","mapSupportsChaining","testSet","setUsesSameValueZero","setSupportsChaining","origSetAdd","origSetHas","origSetDel","mapSupportsSubclassing","M","mapFailsToSupportSubclassing","mapRequiresNew","setSupportsSubclassing","setFailsToSupportSubclassing","setRequiresNew","OrigSet","newMap","mapIterationThrowsStopIterator","anonymousSetHas","throwUnlessTargetIsObject","ReflectShims","deleteProperty","ownKeys","callAndCatchException","internalGet","parent","internalSet","propertyKey","attributes","objectDotGetPrototypeOf","willCreateCircularPrototype","lastProto","defineOrOverrideReflectProperty","shim","originalReflectGetProto","basic","extensible","Date","dateToString","stringHTMLshims","anchor","big","blink","bold","fixed","fontcolor","color","fontsize","italics","link","url","small","strike","sub","sup","shouldOverwrite","output","quotesCount","toLowerCase","JSONstringifiesSymbols","stringify","JSON","JSONstringifyAcceptsObjectSymbol","origStringify","replaceFn","parsedValue","str","isArgs","isEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","ctor","excludedKeys","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","equalsConstructorPrototypeIfNotBuggy","keysShim","isObject","isFunction","isString","theKeys","skipProto","j","skipConstructor","originalKeys","hasOwn","ctx","l","_","arePropertyDescriptorsSupported","predicates","props","foreach","fnToStr","constructorRegex","isES6ClassFn","spaceStripped","tryFunctionObject","hasToStringTag","toStringTag","strClass","that","bound","boundLength","boundArgs","Empty","functionToString","stringMatch","classRegex","isClass","functionProto","require$$0","TypeErr","$isNaN","modulo","remain","getDay","tryDateObject","symToStr","symStringRegex","isSymbolObject","ordinaryToPrimitive","hint","methodNames","isPrimitive","PreferredType","exoticToPrim","isSymbol","isDate","ES5internalSlots","[[DefaultValue]]","actualHint","methods","ToPrimitive","ToBoolean","$isFinite","ToUint16","posInt","mod","CheckObjectCoercible","IsPropertyDescriptor","Desc","allowed","[[Configurable]]","[[Enumerable]]","[[Get]]","[[Set]]","[[Value]]","[[Writable]]","isData","IsAccessor","IsAccessorDescriptor","IsDataDescriptor","IsGenericDescriptor","FromPropertyDescriptor","ToPropertyDescriptor","Obj","setter","regexExec","exec","gOPD","tryRegexExecCall","lastIndex","parseInteger","arraySlice","strSlice","invalidHexLiteral","isInvalidHexLiteral","trimRegex","ES6","ES5","trimmed","ToInt16","int16bit","ToInt8","int8bit","ToUint8","ToUint8Clamp","ToPropertyKey","CanonicalNumericIndexString","IsArray","IsExtensible","IsInteger","IsPropertyKey","hasRegExpMatcher","GetV","Get","undefined","CompletePropertyDescriptor","Throw","HasOwnProperty","HasProperty","IsConcatSpreadable","isConcatSpreadable","spreadable","Invoke","argumentsList","CreateIterResultObject","RegExpExec","fromIndex","ES2015","SameValueNonNumber","vals","entrys","maxLength","fillString","stringLength","filler","intMaxLength","fillLen","fLen","remainingCodeUnits","padStart","padEnd","getDescriptor","getOwnNames","getSymbols","getAll","isES5","safePut","acc","getOwnPropertyDescriptors","requirePromise","promiseResolve","OriginalPromise","createThenFinally","onFinally","createCatchFinally","promiseFinally","thenFinally","catchFinally","getPolyfill","define","finally","require$$1","require$$2","require$$3","require$$4","testObject","__proto__","nativeGetPrototypeOf","contains","node","parentNode","Element","console","con","pop","normalizeName","normalizeValue","Headers","headers","append","consumed","body","bodyUsed","fileReaderReady","reader","onload","onerror","error","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","Body","_initBody","_bodyInit","_bodyText","support","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","arrayBuffer","ArrayBuffer","type","rejected","text","decode","json","parse","normalizeMethod","upcased","toUpperCase","Request","options","credentials","mode","referrer","form","bytes","decodeURIComponent","xhr","getAllResponseHeaders","header","Response","bodyInit","status","ok","statusText","fetch","clone","response","redirectStatuses","redirect","location","init","responseURL","getResponseHeader","request","XMLHttpRequest","responseText","ontimeout","open","withCredentials","responseType","setRequestHeader","send","createElementNS","view","elemCtrProto","objCtr","strTrim","arrIndexOf","item","DOMEx","message","code","DOMException","checkTokenAndGetIndex","classList","token","ClassList","trimmedClasses","getAttribute","classes","_updateClassName","setAttribute","classListProto","classListGetter","tokens","updated","remove","splice","toggle","classListPropDesc","ex","__defineGetter__","testElement","createMethod","DOMTokenList","_toggle","ElementProto","matches","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","selector","element","elements","ownerDocument","querySelectorAll","Boolean","closest","nodeType","w","d","scrollElement","scrollLeft","scrollTop","ease","cos","PI","shouldBailOut","behavior","findScrollableParent","el","isBody","hasScrollableSpace","hasVisibleOverflow","clientHeight","scrollHeight","clientWidth","scrollWidth","getComputedStyle","overflow","step","currentX","currentY","elapsed","now","startTime","SCROLL_TIME","startX","startY","scrollable","requestAnimationFrame","smoothScroll","scrollX","pageXOffset","scrollY","pageYOffset","scroll","documentElement","style","HTMLElement","scrollTo","scrollBy","elScroll","scrollIntoView","performance","left","top","arg0","scrollableParent","parentRects","getBoundingClientRect","clientRects","matchMedia","styleMedia","media","script","getElementsByTagName","info","id","insertBefore","currentStyle","matchMedium","styleSheet","cssText","textContent","width","addListener","localMatchMedia","hasMediaQueries","isListening","timeoutID","queries","handleChange","evt","clearTimeout","il","mql","listeners","jl","listener","removeListener","getNanoSeconds","hrtime","loadTime","moduleLoadTime","nodeLoadTime","upTime","hr","uptime","getTime","vendors","suffix","raf","caf","last","queue","_now","cp","cancelled","handle","cancelAnimationFrame","isSupported","requestIdleCallback","cb","didTimeout","timeRemaining","cancelIdleCallback","require$$6","require$$10","TouchList","canvas","canvasEl","getElementById","querySelector","_isCanvas","getContext","_noop","_isString","_isNumber","_isFunc","_isImage","nodeName","joinPath","path","getExtension","getName","lastIndexOf","loadImage","image","Image","kontra","assets","imageAssets","images","imagePath","src","loadAudio","playableSource","audio","audioAssets","audioPath","canUse","Audio","load","loadData","req","dataAssets","dataPath","imageRegex","audioRegex","noRegex","wav","mp3","canPlayType","ogg","aac","extension","asset","promises","_canUse","gameLoop","frame","rAF","dt","accumulator","delta","update","render","fps","clearCanvas","clearRect","height","isStopped","stop","_frame","_last","callbacks","pressedKeys","keyMap","8","9","13","16","17","18","20","27","32","33","34","35","36","37","38","39","40","45","46","91","92","93","144","145","106","107","109","110","111","186","187","188","189","190","191","192","219","220","221","222","which","unbind","pressed","pool","inUse","isAlive","objects","maxSize","unshift","getAliveObjects","quadtree","_init","maxDepth","maxObjects","_branch","_depth","depth","_parent","bounds","subnodes","indices","_getIndex","_add2Sub","_split","verticalMidpoint","horizontalMidpoint","intersectsTopQuadrants","intersectsBottomQuadrants","subWidth","subHeight","vector","_x","_y","clamp","xMin","yMin","xMax","yMax","_clamp","_xMin","_yMin","_xMax","_yMax","sprite","temp","animation","firstAnimation","velocity","acceleration","dx","dy","ddx","ddy","ttl","advance","_advance","draw","_draw","_drawImg","animations","currentAnimation","_advanceAnim","_drawAnim","collidesWith","playAnimation","fillStyle","fillRect","drawImage","spriteSheet","frames","frameRate","margin","_accum","row","framesPerRow","col","Erorr","frameWidth","frameHeight","frameMargin","createAnimations","sequence","_parse","consecutiveFrames","store","localStorage","removeItem","setItem","getItem","tileEngine","getIndex","getRow","getCol","getTileset","tile","currTile","tilesets","firstGrid","lastGrid","preRenderImage","tileset","sx","sy","tileOffset","layer","layers","layerOrder","tileWidth","tileHeight","offscreenContext","_sx","_sy","tilewidth","tileheight","mapWidth","mapHeight","canvasWidth","canvasHeight","offscreenCanvas","sxMax","syMax","addTilesets","numTiles","lastTileset","tiles","tilesetImage","sort","addLayers","zIndex","layerCollidesWith","endRow","endCol","tileAtLayer","renderLayer","viewWidth","_layerOrder","SPLITTER","ahi","alo","bhi","blo","ne","nf","g","eptr","fptr","ei","ea","fi","fa","_bv","q0","q1","br","ar","scale","ts","twoProduct","q","pq","twoSum","Q","bottom","cofactor","matrix","generateSum","expr","determinant","compileDeterminant","proc","robustSum","robustScale","compress","NUM_EXPANDED","CACHE","procArgs","exports","generateDispatch","generateSolver","funcName","NUM_EXPAND","nativeCeil","nativeMax","fromRight","other","freeSelf","freeGlobal","objectProto","nativeObjectToString","symToStringTag","isOwn","unmasked","nullTag","undefinedTag","getRawTag","objectToString","asyncTag","funcTag","genTag","proxyTag","baseGetTag","isLength","reIsUint","isArrayLike","isIndex","eq","symbolTag","isObjectLike","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","INFINITY","MAX_INTEGER","toNumber","isIterateeCall","toFinite","baseRange","createRange","iteratee","strictIndexOf","baseFindIndex","baseIsNaN","comparator","baseIndexOfWith","baseIndexOf","seen","copyArray","arrayMap","baseUnary","computed","basePullAll","nativeFloor","nativeRandom","random","lower","upper","baseRandom","argsTag","baseIsArguments","freeExports","freeModule","Buffer","isBuffer","stubFalse","typedArrayTags","freeProcess","nodeUtil","binding","nodeIsTypedArray","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","baseTimes","Ctor","transform","overArg","isPrototype","nativeKeys","arrayLikeKeys","baseKeys","baseValues","collection","arraySample","baseSample","Equation","asign","bsign","solve2x2","linSolve","Soe","exclude","sample","pullAll","range","opts","randomInteger","generateRandom","a1","generateCoefficient","a2","b1","b2","generateAnswer","c2","generateType","generateSubstitution","generateElimination","e1","e2","solution","quotient","GeneratorDemo","containerElem","buttonContainerElem","listContainerElem","listElem","appendChild","createButton","pair","solve","innerText","format","button","onclick","generate","container","generatorDemo","initGame"],"mappings":"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"}